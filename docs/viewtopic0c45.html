<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=3&t=52&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Sep 2024 19:01:12 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; [solved] problem with MPI</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>[solved] problem with MPI</h2>
		<p><a href="viewtopic51eb.html?f=3&amp;t=52">https://forum.abinit.org/viewtopic.php?f=3&amp;t=52</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>[solved] problem with MPI</h3>
				<div class="date">Posted: <strong>Tue Feb 09, 2010 4:40 pm</strong></div>
				<div class="author">by <strong>hicpalm</strong></div>
				<div class="content">hello everybody,<br />os : linux<br />abinit : 6.0.1<br />I am having the following problem during configuration :<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>configure: Initializing MPI support<br />checking for mpirun... mpirun&nbsp; &nbsp; &nbsp; <br />configure: WARNING: MPI runner mpirun may be incompatible with MPI compilers<br />configure: compiler checks deferred&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br /></code></pre></div><br /><br />the result : parallelism desabled !<br />any idea ?<br />thanks.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: problem with MPI</h3>
				<div class="date">Posted: <strong>Wed Feb 10, 2010 10:43 am</strong></div>
				<div class="author">by <strong>pouillon</strong></div>
				<div class="content">MPI being disabled has nothing to do with what you show. In order to help you, we'll need more information.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: problem with MPI</h3>
				<div class="date">Posted: <strong>Wed Feb 10, 2010 4:48 pm</strong></div>
				<div class="author">by <strong>hicpalm</strong></div>
				<div class="content">it was just a trial !! here is the full version :<br /><blockquote class="uncited"><div> ==============================================================================<br /> === Overall startup                                                        ===<br /> ==============================================================================<br /><br />checking build system type... x86_64-unknown-linux-gnu<br />checking host system type... x86_64-unknown-linux-gnu <br />checking target system type... x86_64-unknown-linux-gnu<br />checking for a BSD-compatible install... /bin/ginstall -c<br />checking whether build environment is sane... yes        <br />checking for a thread-safe mkdir -p... /bin/mkdir -p     <br />checking for gawk... gawk                                <br />checking whether make sets $(MAKE)... yes                <br />checking whether make sets $(MAKE)... (cached) yes       <br />checking for a BSD-compatible install... /bin/ginstall -c<br />checking whether ln -s works... yes                      <br />checking for a sed that does not truncate output... /bin/sed<br />checking for gawk... (cached) gawk                          <br />checking for grep that handles long lines and -e... /bin/grep<br />checking for egrep... /bin/grep -E                           <br /><br /> ==============================================================================<br /> === Build-system information                                               ===<br /> ==============================================================================<br /><br />configure: ABINIT version: 6.0.1<br />configure: M4 010413 - Autoconf 026300 - Automake 011100 - Libtool 020204<br />configure: reporting user interface changes:                             <br />configure:  * new option --enable-cuda is available                      <br />configure:  * --enable-debug has a new meaning                           <br />configure:    please check that --enable-debug=&quot;yes&quot; is OK for you       <br />configure:  * new option --enable-etsf-io-test is available              <br />configure:  * --enable-tricks renamed --enable-hints                     <br />configure:  * --enable-etsf-xc renamed --enable-libxc                    <br />configure:  * --enable-mpi has a new meaning                             <br />configure:    please check that --enable-mpi=&quot;&quot; is OK for you            <br />configure:  * --enable-mpi-io-buggy renamed --enable-mpi-io-test         <br />configure:  * --enable-optlevel renamed --enable-optim                   <br />configure:  * --enable-xmlf90 removed                                    <br />configure:  * new option --with-cuda-includes is available               <br />configure:  * new option --with-cuda-libs is available                   <br />configure:  * new option --with-etsf-io-test-includes is available       <br />configure:  * new option --with-etsf-io-test-libs is available           <br />configure:  * --with-etsf-xc-includes renamed --with-libxc-includes      <br />configure:  * --with-etsf-xc-libs renamed --with-libxc-libs              <br />configure:  * --with-mpi-cc-ldflags removed                              <br />configure:  * --with-mpi-cc-libs removed                                 <br />configure:  * --with-mpi-cflags removed                                  <br />configure:  * --with-mpi-cppflags removed                                <br />configure:  * --with-mpi-cxx-ldflags removed                             <br />configure:  * --with-mpi-cxx-libs removed                                <br />configure:  * --with-mpi-cxxflags removed                                <br />configure:  * --with-mpi-fc-ldflags removed                              <br />configure:  * --with-mpi-fc-libs removed                                 <br />configure:  * --with-mpi-fcflags removed                                 <br />configure:  * --with-mpi-prefix has a new meaning                        <br />configure:    please check that --with-mpi-prefix=&quot;&quot; is OK for you       <br />configure:  * --with-xmlf90-includes removed                             <br />configure:  * --with-xmlf90-libs removed                                 <br /><br /> ==============================================================================<br /> === Option consistency checking                                            ===<br /> ==============================================================================<br /><br />configure: checking consistency of external prerequisite options<br />configure:  |---&gt; all OK                                        <br />configure:                                                      <br />configure: checking consistency of plug-in options              <br />configure:  |---&gt; all OK                                        <br />configure:                                                      <br />configure: parsing command-line options                         <br /><br /> ==============================================================================<br /> === Connector startup                                                      ===<br /> ==============================================================================<br /><br />configure: Initializing MPI support<br />checking for mpirun... mpirun      <br />configure: WARNING: MPI runner mpirun may be incompatible with MPI compilers<br />configure: compiler checks deferred                                         <br /><br /> ==============================================================================<br /> === Utilities                                                              ===<br /> ==============================================================================<br /><br />checking for sh... /bin/sh<br />checking for perl... /usr/bin/perl<br />checking for rm... /bin/rm        <br />checking for mv... /bin/mv        <br />checking for tar... /bin/tar      <br />checking for latex... /bin/false  <br />checking for dvips... /bin/false  <br />checking for dvipdf... /usr/bin/dvipdf<br />checking for ps2pdf... /usr/bin/ps2pdf<br />checking for markdown... no           <br />checking for wget... /usr/bin/wget    <br />configure: using internal version of MarkDown<br /><br /> ==============================================================================<br /> === C support                                                              ===<br /> ==============================================================================<br /><br />checking for gcc... gcc<br />checking for C compiler default output file name... a.out<br />checking whether the C compiler works... yes             <br />checking whether we are cross compiling... no            <br />checking for suffix of executables...                    <br />checking for suffix of object files... o                 <br />checking whether we are using the GNU C compiler... yes  <br />checking whether gcc accepts -g... yes                   <br />checking for gcc option to accept ISO C89... none needed <br />checking for style of include used by make... GNU        <br />checking dependency style of gcc... gcc3                 <br />checking how to run the C preprocessor... gcc -E         <br />checking which type of compiler we have... gnu 4.3       <br />checking for sys/types.h... yes                          <br />checking for sys/stat.h... yes                           <br />checking for stdlib.h... yes                             <br />checking for string.h... yes                             <br />checking for memory.h... yes                             <br />checking for strings.h... yes                            <br />checking for inttypes.h... yes                           <br />checking for stdint.h... yes                             <br />checking for unistd.h... yes                             <br />checking for ANSI C header files... yes                  <br />checking stddef.h usability... yes                       <br />checking stddef.h presence... yes                        <br />checking for stddef.h... yes                             <br />checking stdarg.h usability... yes                       <br />checking stdarg.h presence... yes                        <br />checking for stdarg.h... yes                             <br />checking stdio.h usability... yes                        <br />checking stdio.h presence... yes                         <br />checking for stdio.h... yes                              <br />checking malloc.h usability... yes                       <br />checking malloc.h presence... yes                        <br />checking for malloc.h... yes                             <br />checking math.h usability... yes                         <br />checking math.h presence... yes                          <br />checking for math.h... yes                               <br />checking termios.h usability... yes                      <br />checking termios.h presence... yes                       <br />checking for termios.h... yes                            <br />checking for abort... yes                                <br />checking size of int... 4                                <br />checking size of unsigned int... 4                       <br />checking size of float... 4                              <br />checking size of double... 8                             <br />checking size of long... 8                               <br />checking size of unsigned long... 8                      <br />checking size of long long... 8                          <br />checking size of unsigned long long... 8                 <br />checking size of size_t... 8                             <br />checking size of ptrdiff_t... 8                          <br />checking for an ANSI C-conforming const... yes           <br />checking for size_t... yes                               <br />checking whether byte ordering is bigendian... no        <br /><br /> ==============================================================================<br /> === C++ support                                                            ===<br /> ==============================================================================<br /><br />checking for g++... g++<br />checking whether we are using the GNU C++ compiler... yes<br />checking whether g++ accepts -g... yes                   <br />checking dependency style of g++... gcc3                 <br />checking which type of C++ compiler we have... gnu 4.3   <br /><br /> ==============================================================================<br /> === Fortran support                                                        ===<br /> ==============================================================================<br /><br />checking for gfortran... gfortran<br />checking whether we are using the GNU Fortran compiler... yes<br />checking whether gfortran accepts -g... yes                  <br />configure: Fortran source will be preprocessed using C preprocessor<br />checking which type of Fortran compiler we have... gnu 4.3         <br />checking fortran 90 modules extension... mod                       <br />checking for Fortran flag to compile .F90 files... none            <br />checking whether the Fortran compiler accepts exit()... yes        <br />checking whether the Fortran compiler accepts flush()... yes       <br />checking whether the Fortran compiler accepts gamma()... yes       <br />checking whether the Fortran compiler accepts get_environment_variable... yes<br />checking whether the Fortran compiler accepts quadruple integers... yes      <br />checking whether the Fortran compiler accepts long lines... no               <br />checking whether the Fortran compiler accepts the null() intrinsic... yes    <br />checking how to get verbose linking output from gfortran... -v               <br />checking for Fortran libraries of gfortran...  -L/usr/lib64/gcc/x86_64-slackware-linux/4.3.3 -L/usr/lib64/gcc/x86_64-slackware-linux/4.3.3/../../../../lib64 -L/lib/../lib64 -L/usr/lib/../lib64 -L/usr/lib64/gcc/x86_64-slackware-linux/4.3.3/../../../../x86_64-slackware-linux/lib -L/usr/lib64/gcc/x86_64-slackware-linux/4.3.3/../../.. -lgfortranbegin -lgfortran -lm                                                               <br />checking for dummy main to link with Fortran libraries... none                                                                                <br />checking for Fortran name-mangling scheme... lower case, underscore, no extra underscore                                                      <br /><br /> ==============================================================================<br /> === Python support                                                         ===<br /> ==============================================================================<br /><br />checking for python... python<br />checking for python-config... python-config<br />checking for Python CPPFLAGS... -I/usr/include/python2.6 -I/usr/include/python2.6<br />checking for bzr... no                                                           <br />checking for Python NumPy headers... not found                                   <br />checking numarray/arrayobject.h usability... no                                  <br />checking numarray/arrayobject.h presence... no                                   <br />checking for numarray/arrayobject.h... no                                        <br /><br /> ==============================================================================<br /> === Libraries and linking                                                  ===<br /> ==============================================================================<br /><br />checking for ar... ar<br />checking for ranlib... ranlib<br /><br /> ==============================================================================<br /> === Hints                                                                  ===<br /> ==============================================================================<br /><br />checking for cpp... cpp<br />checking which cpp hints to apply... default/default/default<br />checking which cc hints to apply... gnu/default/default     <br />checking which xpp hints to apply... none/none/none         <br />checking which cxx hints to apply... gnu/default/default    <br />checking which fpp hints to apply... none/none/none         <br />checking which fc hints to apply... gnu/default/default     <br />checking which ar hints to apply... none/none/none          <br /><br /> ==============================================================================<br /> === Debugging                                                              ===<br /> ==============================================================================<br /><br />checking debugging status... enabled (custom flags are allowed)<br />configure: setting C debug flags to '-g'                       <br />configure: setting C++ debug flags to '-g'                     <br />configure: setting Fortran debug flags to '-g'                 <br />checking whether to activate debug mode in source files... no  <br /><br /> ==============================================================================<br /> === Optimizations                                                          ===<br /> ==============================================================================<br /><br />checking optimization status... enabled (profile mode: standard)<br />checking which cc optimizations to apply... gnu/default/default <br />checking which cxx optimizations to apply... gnu/default/default<br />checking which fc optimizations to apply... gnu/default/default <br />checking whether to apply per-directory optimizations... yes    <br /><br /> ==============================================================================<br /> === 64-bit support                                                         ===<br /> ==============================================================================<br /><br />checking for a 64-bit architecture... yes<br />checking whether to use 64-bit flags... no<br />checking for user-defined 64-bit flags... none<br /><br /> ==============================================================================<br /> === Connectors                                                             ===<br /> ==============================================================================<br /><br />checking whether the C compiler supports MPI... no<br />checking whether the C++ compiler supports MPI... no<br />checking whether the Fortran Compiler supports MPI... no<br />checking whether MPI is usable... no                    <br />checking whether to build MPI code... no                <br />checking whether to use the CUDA Library... no          <br />checking whether to use the FFTW library... no          <br />checking whether to use the GNU Scientific Library... no<br />configure: applying linear algebra tricks (type: abinit)<br />checking whether to build the LINALG library... yes     <br />checking whether to activate ScaLAPACK support... no    <br />checking whether to use the PAPI library... no          <br /><br /> ==============================================================================<br /> === Plug-ins                                                               ===<br /> ==============================================================================<br /><br />configure: using tarball repository /root/.abinit/tarballs<br />checking whether to enable the FOX plug-in... no          <br />checking whether to build the FOX plug-in... no           <br />checking for a source tarball of NETCDF... no             <br />configure: downloading NETCDF - this may take a while     <br />checking availability of NETCDF from URL 1... no          <br />checking availability of NETCDF from URL 2... no          <br />configure: WARNING: could not download NETCDF plug-in tarball<br />configure: WARNING: support for NETCDF plug-in has been disabled<br />checking whether to enable the NETCDF plug-in... no             <br />checking whether to build the NETCDF plug-in... no              <br />checking for a source tarball of ETSF_IO... no                  <br />configure: downloading ETSF_IO - this may take a while          <br />checking availability of ETSF_IO from URL 1... no               <br />configure: WARNING: could not download ETSF_IO plug-in tarball  <br />configure: WARNING: support for ETSF_IO plug-in has been disabled<br />checking whether to enable the ETSF_IO plug-in... no             <br />checking whether to build the ETSF_IO plug-in... no              <br />checking whether to enable the ETSF_IO_TEST plug-in... no        <br />checking whether to build the ETSF_IO_TEST plug-in... no         <br />checking for a source tarball of LIBXC... no                     <br />configure: downloading LIBXC - this may take a while             <br />checking availability of LIBXC from URL 1... no                  <br />configure: WARNING: could not download LIBXC plug-in tarball     <br />configure: WARNING: support for LIBXC plug-in has been disabled  <br />checking whether to enable the LIBXC plug-in... no               <br />checking whether to build the LIBXC plug-in... no                <br />checking for a source tarball of BIGDFT... no                    <br />configure: downloading BIGDFT - this may take a while            <br />checking availability of BIGDFT from URL 1... no                 <br />checking availability of BIGDFT from URL 2... no                 <br />configure: WARNING: could not download BIGDFT plug-in tarball    <br />configure: WARNING: support for BIGDFT plug-in has been disabled <br />checking whether to enable the BIGDFT plug-in... no              <br />checking whether to build the BIGDFT plug-in... no               <br />checking for a source tarball of WANNIER90... no                 <br />configure: downloading WANNIER90 - this may take a while         <br />checking availability of WANNIER90 from URL 1... no              <br />checking availability of WANNIER90 from URL 2... no              <br />configure: WARNING: could not download WANNIER90 plug-in tarball <br />configure: WARNING: support for WANNIER90 plug-in has been disabled<br />checking whether to enable the WANNIER90 plug-in... no             <br />checking whether to build the WANNIER90 plug-in... no              <br /><br /> ==============================================================================<br /> === Nightly builds                                                         ===<br /> ==============================================================================<br /><br />checking whether to build Nightly code... no<br /><br /> ==============================================================================<br /> === Experimental developments                                              ===<br /> ==============================================================================<br /><br />checking whether to enable bindings... no<br />checking whether to use C clock for timings... no<br />checking whether to enable error handlers... no  <br />checking whether to build exports... no          <br />checking whether to enable GW double-precision calculations... no<br />checking whether to test abirules...                             <br />checking whether to use macroave... yes                          <br />checking whether to read input from stdin... yes                 <br /><br /> ==============================================================================<br /> === Output                                                                 ===<br /> ==============================================================================<br /><br />configure: creating ./config.status<br />config.status: creating config.mk  <br />config.status: creating config.dump<br />config.status: creating config.pc  <br />config.status: creating config.py  <br />config.status: creating config.sh  <br />config.status: creating config/wrappers/wrap-fc<br />config.status: creating src/incs/Makefile      <br />config.status: creating src/mods/Makefile      <br />config.status: creating src/16_hideleave/m_build_info.F90<br />config.status: creating src/98_main/abinis               <br />config.status: creating src/98_main/abinip               <br />config.status: creating tests/tests.env                  <br />config.status: creating tests/tests-install.env          <br />config.status: creating Makefile                         <br />config.status: creating src/Makefile                     <br />config.status: creating src/01_gsl_ext/Makefile          <br />config.status: creating src/01_interfaces_ext/Makefile   <br />config.status: creating src/01_macroavnew_ext/Makefile   <br />config.status: creating src/10_defs/Makefile             <br />config.status: creating src/12_hide_mpi/Makefile         <br />config.status: creating src/14_hidewrite/Makefile        <br />config.status: creating src/16_hideleave/Makefile        <br />config.status: creating src/18_timing/Makefile           <br />config.status: creating src/27_toolbox_oop/Makefile      <br />config.status: creating src/28_numeric_noabirule/Makefile<br />config.status: creating src/32_contract/Makefile         <br />config.status: creating src/32_util/Makefile             <br />config.status: creating src/42_geometry/Makefile         <br />config.status: creating src/42_nlstrain/Makefile         <br />config.status: creating src/42_parser/Makefile           <br />config.status: creating src/45_psp_parser/Makefile       <br />config.status: creating src/47_xml/Makefile              <br />config.status: creating src/49_gw_toolbox_oop/Makefile   <br />config.status: creating src/50_abitypes_defs/Makefile    <br />config.status: creating src/51_manage_cuda/Makefile      <br />config.status: creating src/51_manage_mpi/Makefile       <br />config.status: creating src/52_fft_mpi_noabirule/Makefile<br />config.status: creating src/53_abiutil/Makefile          <br />config.status: creating src/53_ffts/Makefile             <br />config.status: creating src/53_spacepar/Makefile         <br />config.status: creating src/56_recipspace/Makefile       <br />config.status: creating src/56_xc/Makefile               <br />config.status: creating src/57_iovars/Makefile           <br />config.status: creating src/59_io_mpi/Makefile           <br />config.status: creating src/61_ionetcdf/Makefile         <br />config.status: creating src/62_cg_noabirule/Makefile     <br />config.status: creating src/62_iowfdenpot/Makefile       <br />config.status: creating src/62_occeig/Makefile           <br />config.status: creating src/62_poisson/Makefile          <br />config.status: creating src/62_wvl_wfs/Makefile          <br />config.status: creating src/63_bader/Makefile            <br />config.status: creating src/64_atompaw/Makefile          <br />config.status: creating src/65_nonlocal/Makefile         <br />config.status: creating src/65_psp/Makefile              <br />config.status: creating src/66_paw/Makefile              <br />config.status: creating src/66_wfs/Makefile              <br />config.status: creating src/67_common/Makefile           <br />config.status: creating src/68_dmft/Makefile             <br />config.status: creating src/68_gw/Makefile               <br />config.status: creating src/68_recursion/Makefile        <br />config.status: creating src/68_rsprc/Makefile            <br />config.status: creating src/69_bse/Makefile              <br />config.status: creating src/72_geomoptim/Makefile        <br />config.status: creating src/72_response/Makefile         <br />config.status: creating src/77_ddb/Makefile              <br />config.status: creating src/77_lwf/Makefile              <br />config.status: creating src/77_suscep/Makefile           <br />config.status: creating src/79_seqpar_mpi/Makefile       <br />config.status: creating src/83_cut3d/Makefile            <br />config.status: creating src/93_rdm/Makefile<br />config.status: creating src/95_drive/Makefile<br />config.status: creating src/98_main/Makefile<br />config.status: creating src/libs/Makefile<br />config.status: creating tests/Nightly/Makefile<br />config.status: creating prereqs/Makefile<br />config.status: creating prereqs/linalg/Makefile<br />config.status: creating plugins/Makefile<br />config.status: creating plugins/bigdft/Makefile<br />config.status: creating plugins/etsf_io/Makefile<br />config.status: creating plugins/etsf_io_test/Makefile<br />config.status: creating plugins/fox/Makefile<br />config.status: creating plugins/libxc/Makefile<br />config.status: creating plugins/netcdf/Makefile<br />config.status: creating plugins/wannier90/Makefile<br />config.status: creating bindings/Makefile<br />config.status: creating bindings/parser/Makefile<br />config.status: creating doc/Makefile<br />config.status: creating tests/Makefile<br />config.status: creating config.h<br />config.status: executing depfiles commands<br />config.status: executing script-perms commands<br /><br />Configuration complete.<br />You may now type &quot;make&quot; to build ABINIT.<br />(or, on a SMP machine, &quot;make mj4&quot;, or &quot;make multi multi_nprocs=&lt;n&gt;&quot;)<br /></div></blockquote></div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: problem with MPI</h3>
				<div class="date">Posted: <strong>Thu Feb 11, 2010 12:52 pm</strong></div>
				<div class="author">by <strong>pouillon</strong></div>
				<div class="content">You're obviously not using MPI-capable compilers.<br /><br />You should use the --with-mpi-prefix option. See ~abinit/doc/config/build-config.ac for details.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: problem with MPI</h3>
				<div class="date">Posted: <strong>Sat Feb 13, 2010 9:06 am</strong></div>
				<div class="author">by <strong>hicpalm</strong></div>
				<div class="content">indeed, it was a path problem to MPI environement.<br />previously (abinit 5.8) there was a default path which was ok for me. but now (abinit 6.0.1) it seems that it should be  specified explicitly.<br />thank you for your attention and help.</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=3&t=52&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Sep 2024 19:01:12 GMT -->
</html>
