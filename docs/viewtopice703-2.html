<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=255&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 00:19:41 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; [SOLVED] x-y plane relaxation DESPITE iatfixx iatfixy setti</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>[SOLVED] x-y plane relaxation DESPITE iatfixx iatfixy setti</h2>
		<p><a href="viewtopic2a8b.html?f=9&amp;t=255">https://forum.abinit.org/viewtopic.php?f=9&amp;t=255</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>[SOLVED] x-y plane relaxation DESPITE iatfixx iatfixy setti</h3>
				<div class="date">Posted: <strong>Tue Apr 20, 2010 10:14 pm</strong></div>
				<div class="author">by <strong>WoodDM</strong></div>
				<div class="content">Greetings all!<br /><br />I'm doing some Au slab calculations with AB 6.0.3 and am trying to relax interlayer spacings (along z) below an adsorbed molecule.  With 11 atoms per primitive cell (6 in the molecule), I'm TRYING to freeze all coordinates of atoms 1 and 2 and the x- and y-coordinates of atoms 3, 4, and 5.  Alas, despite the input below<br /><br />ionmov 7<br />dtion 200<br />ntime 300<br />natfix 2 #Freeze Au1, Au2<br />iatfix 1 2 # Keep first 2 Au fixed as baseline<br />iatfixz 1 2  #This should be harmless<br />iatfixx 1 2 3 4 5   #Allow Au to relax only along z<br />iatfixy 1 2 3 4 5   #Allow Au to relax only along z<br /><br />that relaxation IS occurring for atoms 3-4-5 along the x and y directions, contrary to my wishes and expectations.  Also, to my surprise, the .log and .out files contain  natfix         2 and iatfix      1    2   but no iatfixx or iatfixy settings<br /><br />The input variable docs for version 6.0 say: &quot;WARNING : The implementation is inconsistent !! For ionmov==1, the fixing of directions was done in  cartesian coordinates, while for the other values of ionmov, it was done in reduced coordinates&quot;<br /><br />Although my atom coordinate are input in CARTESIAN coords (via xcart), for ease of processing, my primitive translation vectors are<br /><br />acell 2*5.45608005784657 40.0 # Expt a,c <br />angdeg 90 90 120  #angs between ptv 2-3, 1-3, 1-2; NO rprim must be used<br /><br />I would have THOUGHT that 'switching off' relaxation in the x-y plane would have been equivalent to 'switching off' relaxation in the plane spanned by the two primitive translation vectors perpendicular to the c axis.<br /><br />Should the warning instead read &quot;For ionmov.neq.1, iatfixx, iatfixy, iatfixz are the indices of atoms fixed along the first, second, and third primitive<br />translation vectors, and input atom coordinates should be specified in reduced coordinates&quot; ??<br /><br />To fix my problem, should I go back to expressing all input atomic positions in reduced coordinates?<br /><br />Thanks!--DMW</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: x-y plane relaxation DESPITE iatfixx iatfixy settings</h3>
				<div class="date">Posted: <strong>Wed Apr 21, 2010 4:20 pm</strong></div>
				<div class="author">by <strong>mverstra</strong></div>
				<div class="content">you haven't set natfixx and natfixy, so abinit does not care about the iatfix* stuff. <a href="http://www.abinit.org/documentation/helpfiles/for-v6.0/input_variables/varrlx.html#natfixx" class="postlink">http://www.abinit.org/documentation/helpfiles/for-v6.0/input_variables/varrlx.html#natfixx</a><br /><br />Matthieu</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=255&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 00:19:41 GMT -->
</html>
