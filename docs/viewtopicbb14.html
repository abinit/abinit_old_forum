<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=3&t=5188&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Sep 2024 18:31:06 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; Trouble Building on Ubuntu 20.04</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>Trouble Building on Ubuntu 20.04</h2>
		<p><a href="viewtopicb2f6.html?f=3&amp;t=5188">https://forum.abinit.org/viewtopic.php?f=3&amp;t=5188</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>Trouble Building on Ubuntu 20.04</h3>
				<div class="date">Posted: <strong>Thu Oct 08, 2020 7:53 pm</strong></div>
				<div class="author">by <strong>drcosquared</strong></div>
				<div class="content">Hello,<br>
<br>
I'm trying to build Abinit 9.2.1 with the Intel MKL on Ubuntu 20.04 using the mpi GNU compliers v9.3. The configuration script seems to complete with no errors, but compiling fails. I've tried being more explicit with linking libraries and even trying Openblas, but it seems like the same file fails to compile. The point where make fails is here:<br>

<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>make[5]: *** No rule to make target 'm_optim_dumper.F90', needed by 'm_optim_dumper.o'.  Stop.
make[5]: *** Waiting for unfinished jobs....
../../../../../shared/common/src/14_hidewrite/m_io_tools.F90:1129:0:

 1129 |    iomsg = trim(msg)//ch10//"Runtime error message: "//trim(iomsg)
      | 
Warning: ‘__builtin_memset’ specified bound between 9223372036854775808 and 18446744073709551592 exceeds maximum object size 9223372036854775807 [-Wstringop-overflow=]</code></pre></div>

For reference here is my configuration file.
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>prefix="${HOME}/abinit"
with_mpi="yes"
with_mpi_flavor="auto"
enable_mpi_io="yes"
with_linalg_flavor="mkl"
LINALG_CPPFLAGS="-I${MKLROOT}/include"
LINALG_LIBS="-L${MKLROOT}/lib/intel64 -Wl,--start-group  -lmkl_intel_lp64 -lmkl_sequential -lmkl_core -Wl,--end-group -lpthread -lm -ldl"
with_fft_flavor="fftw3"
FFTW3_LIBS="-L/usr/lib/x86_64-linux-gnu -lfftw3 -lfftw3f"
with_libxc="/usr/"
LIBXC_FCFLAGS="-I/usr/include"
LIBXC_LIBS="-L/usr/lib -lxcf90 -lxc"
with_hdf5="/usr"
H5CC="/usr/bin/h5pcc"
with_netcdf="yes"
with_netcdf_fortran="yes"
</code></pre></div>

Any help would be greatly appreciated!</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Trouble Building on Ubuntu 20.04&nbsp;&nbsp;<span style="color: #006600">[SOLVED]</span></h3>
				<div class="date">Posted: <strong>Tue Oct 13, 2020 3:41 pm</strong></div>
				<div class="author">by <strong>ebousquet</strong></div>
				<div class="content">Dear ,<br>
Could your problem the same as this one that has been solved:<br>
<a href="viewtopic8ca4.html?f=3&amp;t=4482" class="postlink">viewtopic.php?f=3&amp;t=4482</a>?<br>
There was a similar question before, please check if it is not in some previous posts.<br>
Best wishes,<br>
Eric</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=3&t=5188&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Sep 2024 18:31:06 GMT -->
</html>
