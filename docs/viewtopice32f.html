<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=388&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Sep 2024 22:31:43 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; error in reading in a _DEN file from previous run</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>error in reading in a _DEN file from previous run</h2>
		<p><a href="viewtopicc4ca.html?f=9&amp;t=388">https://forum.abinit.org/viewtopic.php?f=9&amp;t=388</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>error in reading in a _DEN file from previous run</h3>
				<div class="date">Posted: <strong>Tue Jun 08, 2010 12:47 am</strong></div>
				<div class="author">by <strong>mohua</strong></div>
				<div class="content">Hello all,<br /> <br />I am trying to obtain the E vs k data for a supercell. The input file consists of two data sets .<br /><br />Set1:  using the SCF density from some previously calculated _DEN file tagged 50 do SCF calculations to obtain the new density<br /><br />Set2:<br />non SCF calculations for the kpoints<br /><br />My problem looks like the input file cannot read the density file that I ask it to read. The log file shows error <br /><blockquote class="uncited"><div>ioarr: reading density data<br /> ioarr: file name is KNbO3Fe_nSCFo_DS50_DEN<br />abinit(18065) malloc: *** mmap(size=1362829312) failed (error code=12)<br />*** error: can't allocate region<br />*** set a breakpoint in malloc_error_break to debug<br />abinit(18066) malloc: *** mmap(size=1362829312) failed (error code=12)<br />*** error: can't allocate region<br />*** set a breakpoint in malloc_error_break to debug<br />abinit(18067) malloc: *** mmap(size=1362829312) failed (error code=12)<br />*** error: can't allocate region<br />*** set a breakpoint in malloc_error_break to debug<br />abinit(18068) malloc: *** mmap(size=1362829312) failed (error code=12)<br />*** error: can't allocate region<br />*** set a breakpoint in malloc_error_break to debug<br />abinit(18069) malloc: *** mmap(size=1362829312) failed (error code=12)<br />*** error: can't allocate region<br />*** set a breakpoint in malloc_error_break to debug<br />abinit(18070) malloc: *** mmap(size=1362829312) failed (error code=12)<br />*** error: can't allocate region<br />*** set a breakpoint in malloc_error_break to debug<br />abinit(18071) malloc: *** mmap(size=1362829312) failed (error code=12)<br />*** error: can't allocate region<br />*** set a breakpoint in malloc_error_break to debug<br />[chronic:18064] *** Process received signal ***<br />[chronic:18064] Signal: Segmentation fault (11)<br />[chronic:18064] Signal code: Address not mapped (1)<br />[chronic:18064] Failing at address: 0x6eb4d534<br />Operating system error: Cannot allocate memory<br />Out of memory<br />Operating system error: Cannot allocate memory<br />Out of memory<br />Operating system error: Cannot allocate memory<br />Out of memory<br />Operating system error: Cannot allocate memory<br />Out of memory<br />Operating system error: Cannot allocate memory<br />Out of memory<br />Operating system error: Cannot allocate memory<br />Out of memory<br />Operating system error: Cannot allocate memory<br />Out of memory<br />[chronic:18064] [ 0] 2   libSystem.B.dylib                   0x93eb242b _sigtramp + 43<br />[chronic:18064] [ 1] 3   ???                                 0xffffffff 0x0 + 4294967295<br />[chronic:18064] [ 2] 4   abinit                              0x00653fb1 hdr_io_wfftype_ + 273<br />[chronic:18064] [ 3] 5   abinit                              0x0062e55c ioarr_ + 2284<br />[chronic:18064] [ 4] 6   abinit                              0x00039b77 gstate_ + 30487<br />[chronic:18064] [ 5] 7   abinit                              0x0003fdf1 gstateimg_ + 5441<br />[chronic:18064] [ 6] 8   abinit                              0x00024fdc driver_ + 27964<br />[chronic:18064] [ 7] 9   abinit                              0x000040d1 MAIN__ + 8849<br />[chronic:18064] [ 8] 10  abinit                              0x00a18438 main + 40<br />[chronic:18064] [ 9] 11  abinit                              0x00001df5 start + 53<br />[chronic:18064] *** End of error message ***<br /></div></blockquote><br /><br /><br />and my .files look like <br /><blockquote class="uncited"><div>KNbO3Fe_sc222_Evsk_KS.in<br />KNbO3Fe_sc222_Evsk_KS_nSCF.out<br />KNbO3Fe_nSCFi<br />KNbO3Fe_nSCFo<br />KNbO3Fe<br />k.fhi<br />nb.fhi<br />o.fhi<br />fe_ra_gga.fhi</div></blockquote><br /><br /><br />and snippets of the  input file is <br /><blockquote class="uncited"><div>accesswff 1<br />ndtset 2 <br />enunit 1<br /><br /><br />#Parallelization variables<br />#******************************************<br /><br />paral_kgb 1<br />npband 1<br />npfft 1<br />npkpt 8<br /><br />wfoptalg 4<br />fft_opt_lob 2<br />fftalg 401<br />iprcch 0<br />istwfk *1<br />#######################################################<br /><br />#Set1: Ground state calculation<br /><br />kptopt1 1<br />tolvrs1 1.0d-18 # SCF stopping criterion<br />iscf1 7<br />getden1 50  <br />prtden1 1 <br /><br /># Set 1: Getting data for E vs k plot<br />*************************************************************<br /> <br />kptopt2 -1<br />ndivk2  1                                        #6 8 9 8 8  <br />kptbounds2               0.0  0.0  0.0 # Gamma point<br />                                                      #  0.0  0.0  0.5 # Z point<br />          #              0.0  0.5  0.0 # Y point<br />             #           0.5  0.5  0.5 # S point       # 0.5  0.5  0.5 # R point<br />             #           0.5  0.0  0.0 # X point<br />                        1.0  1.0  1.0 # Gamma point in another cell.<br /><br />tolwfr2  1.0d-10<br />getden2 1<br />nband2   350 <br />iscf2 -2   # non SCF calculation <br /><br /><br /><br />####################################################################<br /><br /><br /># Information about bands, metallic or insulating  properties, occupation numbers<br />#***************************************************************************************<br /> occopt    1<br /> tsmear    0.01 <br /><br /><br />#Definition of lattice parameters<br />#********************************<br /> <br /> chkprim 0               # the code will run even for a non- primitive<br />   <br /> <br />acell   1.5094076729E+01  2.1900312356E+01  2.2041549033E+01 Bohr<br /> <br /> rprim      1.0  0.0  0.0<br />            0.0  1.0  0.0<br />            0.0  0.0  1.0<br /><br /> <br /><br />#Definition of atomic positions and types<br />#*************************************<br /><br /> natom    79 <br /> ntypat     4  <br /> znucl     19     41        8       26<br /> typat   16*1   15*2     47*3      1*4    </div></blockquote><br /><br /><br />It would be really nice if somebody could help me on this.<br />Regards<br />Mohua</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=388&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Sep 2024 22:31:43 GMT -->
</html>
