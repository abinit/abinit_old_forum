<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=3834&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 03:49:12 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; How to solve &quot;Eigenvector with band 1 has zero norm&quot;?</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>How to solve &quot;Eigenvector with band 1 has zero norm&quot;?</h2>
		<p><a href="viewtopic4d34-3.html?f=9&amp;t=3834">https://forum.abinit.org/viewtopic.php?f=9&amp;t=3834</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>How to solve &quot;Eigenvector with band 1 has zero norm&quot;?</h3>
				<div class="date">Posted: <strong>Thu May 03, 2018 4:10 pm</strong></div>
				<div class="author">by <strong>FBNIC</strong></div>
				<div class="content">I am a beginner on Abinit Calculations. When I try to run the scripts as those in tutorial course, I found the following error messages, and the program terminated. Could you give any hints? <br /><br />--- !ERROR<br />src_file: fxphas.F90<br />src_line: 188<br />mpi_rank: 0<br />message: |<br />    The eigenvector with band 1 has zero norm.<br />    This usually happens when the number of bands (nband) is comparable to the number of planewaves (mpw)<br /><br /><br />My Input file from website is in the following:<br />#################################################################<br /># Input file for the positron tutorial                          #<br />#    Positron lifetime calculation within PAW          #<br />#              Si, 2 atoms in the box                           #<br />#################################################################<br /># Datasets definition<br />  ndtset 2<br />  positron1  0      ! Dataset 1 is a simple electronic GS calculation<br />  positron2  1      ! Dataset 2 is a positronic GS calculation<br />  getden2    1      !   in presence of the previous electronic density<br />  kptopt2    0      !   Use only k=gamma point<br />  ixcpositron2  1   ! We are using the Boronski and Nieminen parametrization<br /># Common input parameters<br />  ! Unit cell<br />    acell   3*5.43 angstrom<br />    rprim   0.0 0.5 0.5<br />            0.5 0.0 0.5<br />            0.5 0.5 0.0<br /><br />    natom  2<br />    ntypat  1<br />    typat 2*1<br />    znucl 14<br />    xred  0.0   0.0   0.0<br />          0.25 0.25 0.25<br /><br />  ! K-points and occupations<br />    kptopt 1<br />    ngkpt 4 4 4 <br />    nshiftk 1<br />    shiftk 0.0 0.0 0.0<br />    occopt 1<br />    nband 6<br /><br />    posocc2 1   ! Occupation number for the positron (should be set &lt;1 for bulk calculation with a small cell).<br />                       ! Here the zero positron density limit is used, so results do not depend on posocc.<br /><br />  ! Convergence parameters<br />    ecut 8. pawecutdg 15.<br />    iscf 17<br />    nstep 50 tolvrs 1.d-8<br /><br />!   Miscelaneous<br />    prtwf 0 prteig 0           ! To save disk space<br />    optforces 0 optstress 0    ! Not relevant here<br /><br />---------------------------------------------------------------------------------------------------------------------</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: How to solve &quot;Eigenvector with band 1 has zero norm&quot;?</h3>
				<div class="date">Posted: <strong>Thu May 03, 2018 4:14 pm</strong></div>
				<div class="author">by <strong>FBNIC</strong></div>
				<div class="content">I have checked:<br />1) Band number is less than mpw. <br />2) Increasing ecut is not effective.<br /><br />In addition, I can run other scripts as tpositron2.in, tpositron3.in ... very well. <br />I do not know why the tpositron1.in file cannot run.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: How to solve &quot;Eigenvector with band 1 has zero norm&quot;?&nbsp;&nbsp;<span style="color: #006600">[SOLVED]</span></h3>
				<div class="date">Posted: <strong>Thu May 03, 2018 4:46 pm</strong></div>
				<div class="author">by <strong>ebousquet</strong></div>
				<div class="content">dear FBNIC ,<br />I've submitted the input you give in your post with the Pseudodojo pseudo of Si (<a href="http://www.pseudo-dojo.org/" class="postlink">http://www.pseudo-dojo.org/</a>) and I don't get any error message, it runs nicely. So I don't really know what could be the problem in your run, could you make a run with the Pseudodojo pseudo to check?<br />Best wishes,<br />Eric</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: How to solve &quot;Eigenvector with band 1 has zero norm&quot;?</h3>
				<div class="date">Posted: <strong>Thu May 03, 2018 6:42 pm</strong></div>
				<div class="author">by <strong>FBNIC</strong></div>
				<div class="content">Hey, ebousquet, thank you for your post in advance. Now, the script can work well using the potential, which download from the website you provided. <br /><br />However, the potential provided in psps_for_tests seems not to work well, which meet the problem as my first post.<br /><br />In addition, although the potentials from your provide website can work well, the results are completely different from the running results in the tutarial course.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: How to solve &quot;Eigenvector with band 1 has zero norm&quot;?</h3>
				<div class="date">Posted: <strong>Thu May 03, 2018 9:29 pm</strong></div>
				<div class="author">by <strong>ebousquet</strong></div>
				<div class="content">Yep, in the future the automatic test will use the Pseudodojo pseudos.<br />The fact that the result is very different is because the ecut and k-points used in the tests/tuto are very low to have them running quickly. You have to test the convergence of the physical properties you want to analyze w.r.t. ecut and k-points anyway.<br />All the best,<br />Eric</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=3834&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 03:49:12 GMT -->
</html>
