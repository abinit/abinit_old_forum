<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=10&t=2564&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 03:07:04 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; Configuration : ABINIT aborts linear response calculations</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>Configuration : ABINIT aborts linear response calculations</h2>
		<p><a href="viewtopicac7c-2.html?f=10&amp;t=2564">https://forum.abinit.org/viewtopic.php?f=10&amp;t=2564</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>Configuration : ABINIT aborts linear response calculations</h3>
				<div class="date">Posted: <strong>Mon Mar 24, 2014 11:15 am</strong></div>
				<div class="author">by <strong>uma</strong></div>
				<div class="content">Dear ABINIT experts,<br /><br />I am trying linear response calculations on an amorphous material with 108 atoms. The package gave MPI_Allreduce errors. In this forum, geomatteo recommended that I recompile the package without MPI_INPLACE. The cluster administrators kindly reconfigured the package(ABINIT-7.6.2) for me. But now I get the following message. The ABINIT package itself seems to abort the job. Could you help me with the solution? I have tried with 8, 60, 150 and 100 processors with a wall time of 24 hours. The job was best with 60 processors.<br /><br /><br /><br /><span style="color: #FF0000">PSIlogger: Child with rank 62 exited with status 13.<br /><br />application called MPI_Abort(MPI_COMM_WORLD, 13) - process 62Fatal error in MPI_<br />Allreduce: Other MPI error, error stack:<br />MPI_Allreduce(855).......: MPI_Allreduce(sbuf=0x6a96630, rbuf=0x6882010, count=6<br />84, MPI_DOUBLE_PRECISION, MPI_SUM, MPI_COMM_WORLD) failed<br />MPIR_Allreduce_impl(712).:<br />MPIR_Allreduce_intra(507):<br />mpid_irecv_done(98)......: read from socket failed - request state:recv(pde)done<br />MPIR_Allreduce_intra(442):<br /></span><br /><br />Sincerely,<br />Uma</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Configuration : ABINIT aborts linear response calculatio</h3>
				<div class="date">Posted: <strong>Mon Mar 24, 2014 12:48 pm</strong></div>
				<div class="author">by <strong>delaveau</strong></div>
				<div class="content">Could you please give your input file ?</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Configuration : ABINIT aborts linear response calculatio</h3>
				<div class="date">Posted: <strong>Fri Mar 28, 2014 4:00 pm</strong></div>
				<div class="author">by <strong>uma</strong></div>
				<div class="content">Dear  Delaveau,<br /><br />Thank you for offering to help. But now my problem is solved. I was able to run the code with ABINIT7.6.2 (compiled without mpi-in-place), using 75 processors. The linear response calculations went smooth. But due to want of wall time, the job stopped which I continued as another job. However now when I use the mrgddb code, I get the error,<br /><br /><span style="color: #FF0000">Comparing integers for variable ngfft.<br />  Value from input DDB is        96 and<br />        from transfer DDB is        90.<br />  Action : check your DDBs.<br /></span><br />I need to find a way out of this. I wish I don't have to run the response function calculations again..<br /><br />Sincerely,<br />Uma</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Configuration : ABINIT aborts linear response calculatio</h3>
				<div class="date">Posted: <strong>Fri Mar 28, 2014 4:13 pm</strong></div>
				<div class="author">by <strong>uma</strong></div>
				<div class="content">Got the solution from an earlier post. Just manually change the ngfft in the DDB's to match. Then mrgddb runs smooth.<br />Thanks.<br />Uma</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=10&t=2564&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 03:07:04 GMT -->
</html>
