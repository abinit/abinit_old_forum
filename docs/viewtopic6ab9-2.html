<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=3932&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 02:59:40 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; convergence speed</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>convergence speed</h2>
		<p><a href="viewtopic1cff.html?f=9&amp;t=3932">https://forum.abinit.org/viewtopic.php?f=9&amp;t=3932</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>convergence speed</h3>
				<div class="date">Posted: <strong>Tue Oct 02, 2018 9:23 am</strong></div>
				<div class="author">by <strong>woffermans</strong></div>
				<div class="content">Dear ABINIT friends,<br />  <br /> Since a couple of months I'm using ABINIT to model chemical reactions on metal slabs.<br /> <br />In general ABINIT works well and the calculations succeed.<br /> <br />However in most, if not all, calculations the convergence of total energy is quite slow. <br />I tend to build up the accuracy of my calculations. At the end of this sequence, the convergence speed becomes a real bottleneck.<br /><br />So the question arises how can I mitigate the decreased convergence speed.<br /><br />Any help is welcome!<br /><br />I have included an input and output file.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: convergence speed</h3>
				<div class="date">Posted: <strong>Tue Oct 09, 2018 5:43 pm</strong></div>
				<div class="author">by <strong>ebousquet</strong></div>
				<div class="content">Dear Willem,<br />The convergence is not so so bad in view of the system. To improve it you can start to see if reducing a bit the diemix flag improve a bit the situation?<br />Best wishes,<br />Eric</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: convergence speed</h3>
				<div class="date">Posted: <strong>Thu Oct 11, 2018 10:58 am</strong></div>
				<div class="author">by <strong>woffermans</strong></div>
				<div class="content">Dear Eric,<br /><br />Thank you for the response. I really appreciate it.<br /><br />In the meantime, I have already changed occopt from 3 to 7.<br /><br />I'm not quite sure, but I have the impression that this already increased the convergence speed.<br /><br />In a benchmark calculation, I measured a reduction of almost half of the number of electronic cycles without an unacceptable change in total energy.<br /><br />I hope the following is clear:<br /><br />$ diff pd.in pd.2.in <br />8c8<br />&lt; occopt 3<br />---<br />&gt; occopt 7<br /><br />$ grep -c ETOT pd.out<br />105<br />$ grep -c ETOT pd.2.out <br />65<br /><br />$ grep ETOT pd.out | tail -n1 | awk '{print $3}'<br />-644.05762653655<br />$ grep ETOT pd.2.out | tail -n1 | awk '{print $3}'<br />-644.05744968876<br /><br />$ grep wall pd.out | tail -n1 | awk '{print $10}'<br />3277.6<br />$ grep wall pd.2.out | tail -n1 | awk '{print $10}'<br />2141.8<br /><br />2141.8/3277.6 = 0.65 is almost equal to:<br />65/105 = 0.61<br /><br />I have included both input en output files.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: convergence speed</h3>
				<div class="date">Posted: <strong>Wed Oct 17, 2018 8:53 am</strong></div>
				<div class="author">by <strong>ebousquet</strong></div>
				<div class="content">Dear Willem,<br />I'm not familiar with metals but changing the occopt is already an improvement!<br />Be careful as well that you need to check how your calculation converges with the smearing, I mean not only the speed of convergence but also the physical result.<br />As I mentioned, changing the mixing parameters (diemix and diemixmag if magnetic) could also enhance the convergence in term of number of steps. Two other variables might also help you, nline and nnsclo, these variables help to have better wavefunctions on each SCF and so might help to go to the minimum faster.<br />Best wishes,<br />Eric</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=3932&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 02:59:40 GMT -->
</html>
