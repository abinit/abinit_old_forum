<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=3&t=642&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 02:40:45 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; New Abinit 6.2.3 binaries for Windows (ia32) posted</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>New Abinit 6.2.3 binaries for Windows (ia32) posted</h2>
		<p><a href="viewtopic505b.html?f=3&amp;t=642">https://forum.abinit.org/viewtopic.php?f=3&amp;t=642</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>New Abinit 6.2.3 binaries for Windows (ia32) posted</h3>
				<div class="date">Posted: <strong>Thu Oct 07, 2010 4:59 pm</strong></div>
				<div class="author">by <strong>Alain_Jacques</strong></div>
				<div class="content">Dear All,<br /><br />A new binary package for Abinit 6.2.3 and V_Sim 3.5.2 for Windows (32 bit) has been posted on the ETSF software repository at <a href="http://www.etsf.eu/resources/software/etsf_software_repository" class="postlink">http://www.etsf.eu/resources/software/etsf_software_repository</a><br /><br />Abinit 6.2.3 is the latest production release. This Windows version comes with all advertised plugins and required libraries. It passes the full testsuite (tested in Windows XP SP3).<br />The binaries have been prepared with MPI functions activated i.e. they can use all available cores on SMP systems when invoked with the provided mpiexec launcher. For example, <div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>mpiexec -np 2 abinit.exe &lt;input.files &gt;output.log</code></pre></div> will launch two Abinit parallel processes running commands from the input.files and producing the output.log file.<br /><br />V_Sim 3.5.2 is the latest version of this atomic visualisation application. It comes ready to use with all GTK2 dependencies.<br /><br />Installation HOWTO. Download the .zip file from the repository. Unzip it wherever you would like it. The Abinit program and utilities reside in abinit-6.2.3\bin directory; launch them from a CMD prompt. From an Explorer window, launch the V_Sim structure visualisation application from the V_Sim\bin directory. The package comes with some extra goodies: WinVI (Unix friendly graphical text editor), a few GNU applications ports to Windows to parse text files (grep, awk, sed, ...), GnuPlot (2D/3D data plotting application).<br /> <br /><br />Don't hesitate to post your personal experience on this forum.<br /><br />Alain</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: New Abinit 6.2.3 binaries for Windows (ia32) posted</h3>
				<div class="date">Posted: <strong>Sat Dec 11, 2010 3:21 am</strong></div>
				<div class="author">by <strong>deepak1032</strong></div>
				<div class="content">Hello,<br /><br />This is with regard to the new Abinit 6.2.3 binaries for windows.<br />I am facing the following problem whenever I try to run abinit.exe.<br />3 [main] abinit 792 exception: :handle: Exception: STATUS_ILLEGAL_INSTRUCTION<br />643 [main] abinit 792 open_stackdumpfile: Dumping stack trace to abinit.exe.stackdump.<br /><br />The same job runs fine with Abinit 5.8 or other binaries for windows.<br />Can somebody help me out of this problem?<br /><br />Thanks and regards<br />Deepak</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: New Abinit 6.2.3 binaries for Windows (ia32) posted</h3>
				<div class="date">Posted: <strong>Sat Dec 11, 2010 2:05 pm</strong></div>
				<div class="author">by <strong>Alain_Jacques</strong></div>
				<div class="content">Hello Deepak,<br /><br />Would you please tell me the kind of processor equips your Windows system? Does that error occur with any kind of input parameters - does it run at least the first few v1 tests or not - or is it more specific?  The first think that comes to my mind after reading your feedback is that you maybe have quite an old CPU. I have invested some efforts to make good use of multi cores systems for this Windows release; it is therefore optimized for Core2 and later processors i.e. it covers hardware built since mid 2006.<br />I'm in the process of releasing the new 6.4.2 production version so I may be less restrictive if it helps.<br /><br />Kind regards,<br /><br />Alain</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: New Abinit 6.2.3 binaries for Windows (ia32) posted</h3>
				<div class="date">Posted: <strong>Sat Dec 11, 2010 6:41 pm</strong></div>
				<div class="author">by <strong>deepak1032</strong></div>
				<div class="content">Dear Mr. Alain,<br /><br />Good Evening.<br /><br />Thanks for the prompt reply.<br />I suspected the same. I used P-4 processor for said calculations, which (as you rightly pointed out) might have caused the problem. <br />I would be trying out the intel core-2 duo processor in a short while.<br />Thank you once again.<br /><br />With warm regards<br />Deepak</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: New Abinit 6.2.3 binaries for Windows (ia32) posted</h3>
				<div class="date">Posted: <strong>Mon Dec 13, 2010 12:59 pm</strong></div>
				<div class="author">by <strong>deepak1032</strong></div>
				<div class="content">Dear Mr. Alain<br />Hello again,<br /><br />I tried to run the Abinit 6.2.3 binaries for windows on a core 2 duo intel processor.<br />At this point of time I used the syntax &quot;mpiexec -np 2 abinit.exe &lt;t1x.files &gt;log&quot;<br />This followed by error &quot;Error in system call mpiexec: No such file or directory<br />mpiexec could not exec abinit.exe&quot;<br />Can you please help me in understanding what's wrong here?<br /><br />Rgds<br />Deepak</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: New Abinit 6.2.3 binaries for Windows (ia32) posted</h3>
				<div class="date">Posted: <strong>Mon Dec 13, 2010 3:36 pm</strong></div>
				<div class="author">by <strong>Alain_Jacques</strong></div>
				<div class="content">Probably due to differences between the (cygwin) bash and genuine Windows CMD prompt.<br />Nevertheless, I just tested the distribution again on a plain Windows 7 command prompt. Here follows what I did ... Downloaded the zip, extracted the distribution and then changed directory to abinit-6.2.3\bin. I copied the ..\share\abinit\paral\t_kpt+spin.in, t_kpt+spin.files and ..\share\abinit\Psps_for_tests\26fe.pspnc into the bin directory. Then I launched WinVi, edited t_kpt+spin.files to remove the extra path of 26fe.pspnc line (not needed anymore because everything is in the same directory). So I ended with a directory with several abinit binaries, t_kpt+spin.in parallel test input, corrected t_kpt+spin.files and 26fe.pspnc pseudo. Then ran abinit from the command prompt with <div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>mpiexec -np 2 .\abinit.exe &lt;&quot;t_kpt+spin.files&quot; &gt;t.log</code></pre></div> Windows 7 popped a &quot;security&quot; window saying that my program wanted network access ... nothing fishy here - mpi launcher uses tcp to dialog with threads so clicked to allow. The test runs for about 3 minutes ... and the output t.log looks fine to me.<br /><br />Kind regards,<br /><br />Alain</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: New Abinit 6.2.3 binaries for Windows (ia32) posted</h3>
				<div class="date">Posted: <strong>Mon Dec 13, 2010 4:44 pm</strong></div>
				<div class="author">by <strong>deepak1032</strong></div>
				<div class="content">Thanks Mr. Alain.<br />Is it that I will need admin privileges or mpich or any thing else in addition to Abinit binaries?<br />I almost followed the same scheme as indicated by you.<br />I will try it out again.<br /><br />Anyway thanks for the prompt reply.<br /><br />With warm regards<br />Deepak</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: New Abinit 6.2.3 binaries for Windows (ia32) posted</h3>
				<div class="date">Posted: <strong>Mon Dec 13, 2010 5:53 pm</strong></div>
				<div class="author">by <strong>Alain_Jacques</strong></div>
				<div class="content">Nothing special. I built the package on Windows XP (32 bit) and made the last test as a plain user on Windows 7 (64 bit). I statically linked the MPICH2 library to the Abinit executable so you only need the (provided) mpiexec parallel launcher (it's the &quot;gforker&quot; version i.e. launches local threads only). Adding the cygwin environment is optional - it provides a bash shell (I'm more familiar with that one) - but the stock Windows command prompt works as well maybe with some syntax differences (like the &quot;&quot; to deal with the input file nae that contains a +).<br />You're right, there is no very obvious difference between your command line and mine. I cheated a bit by putting all the files in the same directory and by adding .\ to abinit - a mpiexec -np 2 c:\your_installation_directory\bin\abinit.exe ... should work i.e. use the full path to abinit.exe (maybe avoid spaces in pathnames). You should be able to move the .exe files anywhere on your directory tree; the only important thing is to keep the cygwin dlls in the same directory as the binaries.<br /><br />Alain</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: New Abinit 6.2.3 binaries for Windows (ia32) posted</h3>
				<div class="date">Posted: <strong>Mon Dec 13, 2010 7:03 pm</strong></div>
				<div class="author">by <strong>deepak1032</strong></div>
				<div class="content">Hi Mr. Alain,<br /><br />I really appreciate your inputs and help that to very promptly.<br />You indicated that &quot;I statically linked the MPICH2 library to the Abinit executable so you only need the (provided) mpiexec parallel launcher (it's the &quot;gforker&quot; version i.e. launches local threads only)&quot; which means I need to install MPICH2 or does it means just use the mpiexec.exe (link it somehow), it is so?<br />and how to link MPICH2 library to Abinit statically?<br />I know this might sound stupid. But any clue may help me greatly.<br /><br />With appreciation and great many thanks<br />Deepak</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: New Abinit 6.2.3 binaries for Windows (ia32) posted</h3>
				<div class="date">Posted: <strong>Mon Dec 13, 2010 10:51 pm</strong></div>
				<div class="author">by <strong>Alain_Jacques</strong></div>
				<div class="content">It means that everything is included in the distribution to run Abinit in parallel without having to install any extra utility/library or linking whatsoever i.e. MPICH2 library is already inside abinit.exe and you only have to use mpiexec to launch multiple threads of Abinit. If you happen to install another MPI library on your system to serve another program, no problem, Abinit won't use it and won't interfere with it.<br />I think that the origin of your &quot;mpiexec could not exec abinit.exe&quot; error message is that mpiexec - being borrowed from Unix world - doesn't search by default in the current directory when given abinit.exe as argument. So simply try to add the full path to abinit.exe or the shortcut .\ for the current directory<br /><br />So for an example session with a parallelization on k points and spin ... let's say that you unzipped abinit-6.2.3.zip in a newly &quot;abinit&quot; subdirectory of C:\Program Files. Open a command prompt and <br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>cd &quot;c:\Program Files\abinit&quot;<br />C:\Program Files\abinit&gt;dir<br />&nbsp;Volume in drive C has no label.<br />&nbsp;Volume Serial Number is DCAA-01D7<br /><br />&nbsp;Directory of C:\Program Files\abinit<br /><br />12/13/2010&nbsp; 10:08 PM&nbsp; &nbsp; &lt;DIR&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .<br />12/13/2010&nbsp; 10:08 PM&nbsp; &nbsp; &lt;DIR&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ..<br />12/13/2010&nbsp; 10:06 PM&nbsp; &nbsp; &lt;DIR&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; abinit-6.2.3<br />10/07/2010&nbsp; 02:10 PM&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 32,746 Abinit_on_Windows.pdf<br />12/13/2010&nbsp; 10:05 PM&nbsp; &nbsp; &lt;DIR&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gnuplot<br />12/13/2010&nbsp; 10:08 PM&nbsp; &nbsp; &lt;DIR&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gnuwin32<br />12/13/2010&nbsp; 10:08 PM&nbsp; &nbsp; &lt;DIR&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tofrodos<br />12/13/2010&nbsp; 10:06 PM&nbsp; &nbsp; &lt;DIR&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; V_Sim<br />12/13/2010&nbsp; 10:05 PM&nbsp; &nbsp; &lt;DIR&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; winvi<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1 File(s)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;32,746 bytes<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;8 Dir(s)&nbsp; 56,759,336,960 bytes free<br /><br />C:\Program Files\abinit&gt;mkdir example<br /><br />C:\Program Files\abinit&gt;cd example<br /><br />C:\Program Files\abinit\example&gt;copy &quot;..\abinit-6.2.3\share\abinit\paral\Input\t_kpt+spin.files&quot; .<br />&nbsp; &nbsp; &nbsp; &nbsp; 1 file(s) copied.<br /><br />C:\Program Files\abinit\example&gt;copy &quot;..\abinit-6.2.3\share\abinit\paral\Input\t_kpt+spin.in&quot; .<br />&nbsp; &nbsp; &nbsp; &nbsp; 1 file(s) copied.<br /><br />C:\Program Files\abinit\example&gt;copy &quot;..\abinit-6.2.3\share\abinit\Psps_for_tests\26fe.pspnc&quot; .<br />&nbsp; &nbsp; &nbsp; &nbsp; 1 file(s) copied.<br /><br />C:\Program Files\abinit\example&gt;..\winvi\WinVi32.exe &quot;t_kpt+spin.files&quot;<br /><br />C:\Program Files\abinit\example&gt;..\abinit-6.2.3\bin\mpiexec.exe -np 2 ..\abinit-6.2.3\bin\abinit.exe &lt; &quot;t_kpt+spin.files&quot; &gt; &quot;t_kpt+spin.log&quot;<br /></code></pre></div><br /><br />When the WinVi window opens, edit the t_kpt+spin.files file to remove the extra path to the pseudopotential file i.e. change the last line to 26fe.pspnc. Save the file.<br />When Abinit is launched, 2 &quot;security&quot; windows open; unblock abinit and mpiexec - nothing surprising here, the launcher and parallel threads use tcp sockets to talk each other (nothing goes on Internet, only through the local interface)<br />After a few minutes - depending on the speed of your system ...<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>C:\Program Files\abinit\example&gt;dir<br />&nbsp;Volume in drive C has no label.<br />&nbsp;Volume Serial Number is DCAA-01D7<br /><br />&nbsp;Directory of C:\Program Files\abinit\example<br /><br />12/13/2010&nbsp; 10:27 PM&nbsp; &nbsp; &lt;DIR&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .<br />12/13/2010&nbsp; 10:27 PM&nbsp; &nbsp; &lt;DIR&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ..<br />10/03/2010&nbsp; 11:00 AM&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;305,169 26fe.pspnc<br />12/13/2010&nbsp; 10:27 PM&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 28,164 t.o_DS1_DDB<br />12/13/2010&nbsp; 10:26 PM&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;479,282 t.o_DS1_DEN<br />12/13/2010&nbsp; 10:27 PM&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 74,570 t.o_DS1_EIG<br />12/13/2010&nbsp; 10:27 PM&nbsp; &nbsp; &nbsp; &nbsp; 63,181,618 t.o_DS1_WFK<br />12/13/2010&nbsp; 10:17 PM&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 50 t_kpt+spin.files<br />10/03/2010&nbsp; 11:01 AM&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1,012 t_kpt+spin.in<br />12/13/2010&nbsp; 10:27 PM&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;245,478 t_kpt+spin.log<br />12/13/2010&nbsp; 10:27 PM&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;128,209 t_kpt+spin.out<br />12/13/2010&nbsp; 10:27 PM&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7,579 t_LOG_0001<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 10 File(s)&nbsp; &nbsp; &nbsp;64,451,131 bytes<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2 Dir(s)&nbsp; 56,694,702,080 bytes free<br /></code></pre></div><br />And to look at the output log ... <div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>C:\Program Files\abinit\example&gt;..\winvi\WinVi32.exe &quot;t_kpt+spin.log&quot;</code></pre></div><br /><br />Kind regards,<br /><br />Alain</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: New Abinit 6.2.3 binaries for Windows (ia32) posted</h3>
				<div class="date">Posted: <strong>Tue Dec 14, 2010 5:21 pm</strong></div>
				<div class="author">by <strong>deepak1032</strong></div>
				<div class="content">Dear Mr. Alain,<br /><br />This time everything worked fine.<br />Thank you for the detailed guidance and in-time prompt help.<br />The only missing thing was that &quot;mpiexec.exe -np 2 .\abinit.exe &lt;&quot;t_kpt+spin.files&quot;&gt; t_kpt+spin.log&quot;, wherein I replaced abinit.exe by .\abinit.exe.<br /><br />Thank you once again.<br /><br />With warm regards<br />Deepak</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: New Abinit 6.2.3 binaries for Windows (ia32) posted</h3>
				<div class="date">Posted: <strong>Tue Dec 28, 2010 10:38 am</strong></div>
				<div class="author">by <strong>deepak1032</strong></div>
				<div class="content">Dear Mr. Alain,<br /><br />After a break I am again here.<br /><br />Now I tried to run abinit 6.2.3 binaries with window 7 and with quad core xeon 3440 processors.<br />The error is &quot;Fatal error in MPI_Barrier: Other MPI error, error stack MPI barrier (362)&quot; and others.<br />Can you kindly let me know what could have gone wrong here?<br /><br />By the way I was trying to run the same files: &quot;mpiexec.exe -np 4 .\abinit.exe &lt;&quot;t_kpt+spin.files&quot;&gt; &quot;t_kpt+spin.log&quot;.<br /><br />Any clue would be really helpful.<br /><br />With thanks <br />Deepak</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: New Abinit 6.2.3 binaries for Windows (ia32) posted</h3>
				<div class="date">Posted: <strong>Tue Dec 28, 2010 1:10 pm</strong></div>
				<div class="author">by <strong>Alain_Jacques</strong></div>
				<div class="content">Hello Deepak,<br /><br />As already mentioned, this binary has been prepared (and tested) on XP 32bit but I checked it with that specific input on a Windows 7 Pro 64bit (with success). MPI_barrier is a routine that returns to the caller when all the other threads have called it. As it works fine on my system, I suspect that you have a problem of communication between MPI members on yours - if it is the case, it would be logic that abinit fails almost immediately after launch. Did you allow abinit to pass through the Windows firewall - I noticed a popup windows requesting permission when I ran the test the first time on Windows 7? Are you using some kind of third party firewall that would deny outbound tcp communications? If it is your case, you may disable it (temporarily) to check. Nothing fishy in abinit - MPI uses local sockets to communicate - nothing goes out of your box, you may unplug your ethernet cable during the test if you're paranoid.<br /><br />Kind regards,<br /><br />Alain</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: New Abinit 6.2.3 binaries for Windows (ia32) posted</h3>
				<div class="date">Posted: <strong>Wed Dec 29, 2010 5:17 am</strong></div>
				<div class="author">by <strong>deepak1032</strong></div>
				<div class="content">Dear Mr. Alain,<br /><br />Good Morning.<br /><br />Thanks for the lightening fast reply.<br />Yeah, the execution of ABINIT stalls immediately after startup.<br />With respect to the &quot;firewall&quot; popup, strangely it DID N'T appear.<br />Will try out again with firewall disabled. Hopefully this may work.<br /><br />Rgds<br />Deepak</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: New Abinit 6.2.3 binaries for Windows (ia32) posted</h3>
				<div class="date">Posted: <strong>Tue Feb 15, 2011 2:37 am</strong></div>
				<div class="author">by <strong>abinitnewuser</strong></div>
				<div class="content">Hi,<br /><br />I am trying Abinit 6.2.3 (ia32) on MS Windows. I can run the tests on &quot;Intel Core2 Duo+ XP SP3&quot;, but fail on &quot;AMD Athlon 64 x2 + XP SP2&quot; and &quot;AMD Pheonom II x6 1075T + Win7&quot;. The error message is something like:<br /><span style="color: #0040BF">        4 [main] abinit 29076 exception::handle: Exception: STATUS_ILLEGAL_INSTRUCTION<br />   1033 [main] abinit 29076 open_stackdumpfile: Dumping stack trace to abinit.exe.stackdump</span><br />which are similar to the ones posted by Deepak on Dec 10, 2010. Is it a known issue related to AMD's CPU?<br /><br />Thanks for your help.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: New Abinit 6.2.3 binaries for Windows (ia32) posted</h3>
				<div class="date">Posted: <strong>Tue Feb 15, 2011 1:17 pm</strong></div>
				<div class="author">by <strong>pouillon</strong></div>
				<div class="content">No, this is because this build of Abinit has been optimized for the Intel processor instruction set (machine language). Some of these instructions do not exist on AMD processors, which is why you get these error messages.<br /><br />The solution would be to rebuild Abinit with different optimizations.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: New Abinit 6.2.3 binaries for Windows (ia32) posted</h3>
				<div class="date">Posted: <strong>Tue Feb 15, 2011 3:54 pm</strong></div>
				<div class="author">by <strong>Alain_Jacques</strong></div>
				<div class="content">Hmmm ... my optimization for SSE instructions breaks compatibility with AMD processors. Let's try to cure this. You will find specific binaries for AMD (K8 variant and up) on <a href="http://www.etsf.eu/resources/software/etsf_software_repository" class="postlink">http://www.etsf.eu/resources/software/etsf_software_repository</a> or directly at <a href="http://www.etsf.be/downloads/ETSF_softlib/Windows_binaries/abinit-6.2.3_amdk8.zip" class="postlink">http://www.etsf.be/downloads/ETSF_softlib/Windows_binaries/abinit-6.2.3_amdk8.zip</a>.<br />I have no AMD Windows system to test them so use them with caution and I would be grateful to have a feedback about success or failure.<br /><br />Kind regards,<br /><br />Alain</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: New Abinit 6.2.3 binaries for Windows (ia32) posted</h3>
				<div class="date">Posted: <strong>Tue Feb 15, 2011 6:19 pm</strong></div>
				<div class="author">by <strong>abinitnewuser</strong></div>
				<div class="content">Hi,<br /><br />I have tried the binaries for AMD K8, and completed the test (t1x.files with t11.in) on both my AMD Windows machines. Thanks a lot.<br /><br />I did some parallel tests on AMD Pheonom II X6 1075 T + win7. It ran and finished the test with 6 cores. However, no matter how many cores I used, I always got the same cpu time for proc. 0. For example,<br /><br />For 1 core,<br />- Proc.   0 individual time (sec): cpu=          0.6  wall=          0.7<br />+Overall time at end (sec) : cpu=          0.6  wall=          0.7<br /><br />For 2 cores,<br />- Proc.   0 individual time (sec): cpu=          0.6  wall=          0.7<br />+Overall time at end (sec) : cpu=          1.1  wall=          1.3<br /><br />For 4 cores,<br />- Proc.   0 individual time (sec): cpu=          0.7  wall=          0.8<br />+Overall time at end (sec) : cpu=          2.5  wall=          3.0<br /><br />For 6 cores,<br />- Proc.   0 individual time (sec): cpu=          0.6  wall=          0.8<br />+Overall time at end (sec) : cpu=          3.6  wall=          5.1<br /><br />Is it a problem, or the parallel processing does not have advantages in this simple test?<br />Anyway, I will go through the tutorial test, and I will report problems if I find them during the test.<br />Thanks again for the new binaries.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: New Abinit 6.2.3 binaries for Windows (ia32) posted</h3>
				<div class="date">Posted: <strong>Tue Feb 15, 2011 7:25 pm</strong></div>
				<div class="author">by <strong>Alain_Jacques</strong></div>
				<div class="content">Well it's already good news that the AMD binaries didn't crash on your box <img class="smilies" src="images/smilies/icon_e_smile.gif" alt=":-)" title="Smile" /><br /><br />Testing parallel builds with such sort running time isn't really significant. So may I suggest to run a more substantial benchmark.<br />Create a new test directory; copy the abinit-6.2.3\share\abinit\paral\Input\t_kpt+spin.* and abinit-6.2.3\share\abinit\Psps_for_tests\26fe.pspnc files in the new dir. Edit the t_kpt+spin.files to reflect the new localization of the pseudo file. Run the test with 1, 2 and 4 cores as described in the Abinit_on_Windows.pdf doc; it should keep your system busy long enough to perceive a difference (if any, it should be quite linear). Don't forget to &quot;unblock&quot; Windows firewall when the security windows pops-up - nothing fishy, MPI threads use sockets to dialog i.e. nothing comes out of your box network.<br /><br />Alain</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: New Abinit 6.2.3 binaries for Windows (ia32) posted</h3>
				<div class="date">Posted: <strong>Tue Feb 15, 2011 9:38 pm</strong></div>
				<div class="author">by <strong>Alain_Jacques</strong></div>
				<div class="content">please update your links ... <a href="viewtopic853e-2.html?f=2&amp;t=889" class="postlink">http://forum.abinit.org/viewtopic.php?f=2&amp;t=889</a><br /><br />Alain</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: New Abinit 6.2.3 binaries for Windows (ia32) posted</h3>
				<div class="date">Posted: <strong>Wed Feb 16, 2011 3:08 am</strong></div>
				<div class="author">by <strong>abinitnewuser</strong></div>
				<div class="content">Hi,<br /><br />I have run the parallel tests (t_kpt+spin.files) as you suggested. I do not have the expertise to know if the results are correct or not, though.<br /><br />The tests ran on an AMD Pheonom II X6 1075T Win 7 32bits 4GB RAM with a lot of programs (AVG 2011, IE 8, taskmgr.exe, remote desktop, abode reader, etc.) running in the background. The results are in the following. It looks like that, from 4 to 6 cores, the reduction in proc. 0 individual CPU time is still significant.<br /><br />For 1 core,<br />- Proc.   0 individual time (sec): cpu=        878.2  wall=        881.2<br />+Overall time at end (sec) : cpu=        878.2  wall=        881.2<br /><br />For 2 cores,<br />- Proc.   0 individual time (sec): cpu=        442.2  wall=        447.5<br />+Overall time at end (sec) : cpu=        887.1  wall=        894.9<br /><br />For 4 cores,<br />- Proc.   0 individual time (sec): cpu=        265.5  wall=        270.2<br />+Overall time at end (sec) : cpu=       1047.3  wall=       1081.0<br /><br />For 6 cores,<br />- Proc.   0 individual time (sec): cpu=        187.2  wall=        190.8<br />+Overall time at end (sec) : cpu=       1091.7  wall=       1145.0<br /><br />Thanks very much for the new Abinit 6.4.3 for windows. I will try it and post the test results when i have them.</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=3&t=642&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 02:40:45 GMT -->
</html>
