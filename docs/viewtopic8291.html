<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?p=2641 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 02:40:55 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1" />

<title>installing abinit 6.4.3 on rocks clusters 5.3 - ABINIT Discussion Forums</title>


	<link rel="canonical" href="viewtopicdf1a-2.html?t=858">

<!--
	phpBB style name: Flat Style
	Based on style:   prosilver (this is the default phpBB3 style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:      Ian Bradley
-->

<link href="assets/css/font-awesome.minaea1.css?assets_version=57" rel="stylesheet">
<link href="styles/flat-style/theme/stylesheetaea1.css?assets_version=57" rel="stylesheet">
<link href="styles/flat-style/theme/en/stylesheetaea1.css?assets_version=57" rel="stylesheet">




<!--[if lte IE 9]>
	<link href="./styles/flat-style/theme/tweaks.css?assets_version=57" rel="stylesheet">
<![endif]-->

<meta name="google-site-verification" content="PLdTN48UENWHvJ5ViWhDTahZKzoMyw5e1QZgw1IECVw" />
<link rel="alternate" type="application/atom+xml" title="ATOM" href="app.php/smartfeed/feed.html" />
<link rel="alternate" type="application/rss+xml" title="RSS" href="app.php/smartfeed/feed9830.html?y=2" />

<link href="ext/crizzo/aboutus/styles/prosilver/theme/aboutusaea1.css?assets_version=57" rel="stylesheet" media="screen" />
<link href="ext/dmzx/topicageday/styles/prosilver/theme/topicagedayaea1.css?assets_version=57" rel="stylesheet" media="screen" />
<link href="ext/hifikabin/clock/styles/all/theme/clockaea1.css?assets_version=57" rel="stylesheet" media="screen" />
<link href="ext/hifikabin/googlesearch/styles/prosilver/theme/googlesearchaea1.css?assets_version=57" rel="stylesheet" media="screen" />
<link href="ext/kinerity/bestanswer/styles/prosilver/theme/bestansweraea1.css?assets_version=57" rel="stylesheet" media="screen" />
<link href="ext/phpbb/collapsiblecategories/styles/all/theme/collapsiblecategoriesaea1.css?assets_version=57" rel="stylesheet" media="screen" />
<link href="ext/phpbbservices/smartfeed/styles/prosilver/theme/customaea1.css?assets_version=57" rel="stylesheet" media="screen" />
<link href="ext/senky/userstatistics/styles/prosilver/theme/userstatisticsaea1.css?assets_version=57" rel="stylesheet" media="screen" />
<link href="ext/tierra/topicsolved/styles/prosilver/theme/buttonsaea1.css?assets_version=57" rel="stylesheet" media="screen" />



</head>
<body id="phpbb" class="nojs notouch section-viewtopic ltr ">


<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>
	<div id="page-header">
		<div class="headerbar" role="banner">
					<div class="inner">

			<div id="site-description">
				<a id="logo" class="logo" href="index-2.html" title="Board index"><span class="site_logo"></span></a>
				<div  class="site-description">
					<h1>ABINIT Discussion Forums</h1>
					<p>The meeting place for ABINIT users and developers</p>
					<p class="skiplink"><a href="#start_here">Skip to content</a></p>
				</div>
			</div>

			</div>
					</div>
				<div class="navbar navbar-top" role="navigation">
	<div class="inner">

	<ul id="nav-main" class="nav-main linklist" role="menubar">

		<li id="quick-links" class="quick-links dropdown-container responsive-menu" data-skip-responsive="true">
			<a href="#" class="dropdown-trigger">
				<i class="icon fa-bars fa-fw" aria-hidden="true"></i><span>Quick links</span>
			</a>
			<div class="dropdown">
				<div class="pointer"><div class="pointer-inner"></div></div>
				<ul class="dropdown-contents" role="menu">
					
											<li class="separator"></li>
																									<li>
								<a href="search33a7.html?search_id=unanswered" role="menuitem">
									<i class="icon fa-file fa-fw" aria-hidden="true"></i><span>Unanswered topics</span>
								</a>
							</li>
							<li>
								<a href="search526f.html?search_id=active_topics" role="menuitem">
									<i class="icon fa-file fa-fw" aria-hidden="true"></i><span>Active topics</span>
								</a>
							</li>
							<li class="separator"></li>
							<li>
								<a href="search.html" role="menuitem">
									<i class="icon fa-search fa-fw" aria-hidden="true"></i><span>Search</span>
								</a>
							</li>
					
										
										<li class="separator"></li>

									</ul>
			</div>
		</li>

			<li class="small-icon icon-smartfeed no-bulletin"><a href="app.php/smartfeed/ui.html">Smartfeed</a></li>		<li data-skip-responsive="true">
			<a href="app.php/help/faq.html" rel="help" title="Frequently Asked Questions" role="menuitem">
				<i class="icon fa-question-circle fa-fw" aria-hidden="true"></i><span>FAQ</span>
			</a>
		</li>
								<li data-last-responsive="true">
				<a href="https://www.abinit.org/" title="" role="menuitem" target="_blank">
				<i class="icon fa-home fa-fw" aria-hidden="true"></i><span>Main Site</span>
				</a>
			</li>
								<li data-last-responsive="true">
				<a href="https://www.abinit.org/packages" title="" role="menuitem" target="_blank">
				<i class="icon fa-download fa-fw" aria-hidden="true"></i><span>Download</span>
				</a>
			</li>
								<li data-last-responsive="true">
				<a href="https://docs.abinit.org/" title="" role="menuitem" target="_blank">
				<i class="icon fa-book fa-fw" aria-hidden="true"></i><span>Documentations</span>
				</a>
			</li>
								<li data-last-responsive="true">
				<a href="https://docs.abinit.org/tutorial/" title="" role="menuitem" target="_blank">
				<i class="icon fa-graduation-cap fa-fw" aria-hidden="true"></i><span>Tutorials</span>
				</a>
			</li>
							
			<li class="rightside"  data-skip-responsive="true">
			<a href="ucp26c3.html?mode=login" title="Login" accesskey="x" role="menuitem">
				<i class="icon fa-power-off fa-fw" aria-hidden="true"></i><span>Login</span>
			</a>
		</li>
						</ul>
    </div>
</div>

<div class="navbar" role="navigation">
	<div class="inner">
	<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks" role="menubar">
								<li class="breadcrumbs" itemscope itemtype="http://schema.org/BreadcrumbList">
										<span class="crumb"  itemtype="http://schema.org/ListItem" itemprop="itemListElement" itemscope><a href="index-2.html" itemtype="https://schema.org/Thing" itemprop="item" accesskey="h" data-navbar-reference="index"><i class="icon fa-home fa-fw"></i><span itemprop="name">Board index</span></a><meta itemprop="position" content="1" /></span>
											<span class="crumb"  itemtype="http://schema.org/ListItem" itemprop="itemListElement" itemscope data-forum-id="1"><a href="viewforum58da.html?f=1" itemtype="https://schema.org/Thing" itemprop="item"><span itemprop="name">Building ABINIT</span></a><meta itemprop="position" content="2" /></span>
															<span class="crumb"  itemtype="http://schema.org/ListItem" itemprop="itemListElement" itemscope data-forum-id="3"><a href="viewforum4d6b.html?f=3" itemtype="https://schema.org/Thing" itemprop="item"><span itemprop="name">Configuring and compiling ABINIT</span></a><meta itemprop="position" content="3" /></span>
												</li>
		<li class="rightside responsive-hide">
	<div id="show-clock">
		<div id="liveclock" class="outer_face">
			<div class="marker oneseven"></div>
			<div class="marker twoeight"></div>
			<div class="marker fourten"></div>
			<div class="marker fiveeleven"></div>
			<div class="inner_face">
				<div class="hand hour"></div>
				<div class="hand minute"></div>
				<div class="hand second"></div>
			</div>
		</div>
	</div>
</li><!--[if !IE]><!-->
<li id="g-search-box" class="search-box rightside responsive-hide">
	<form action="https://forum.abinit.org/app.php/googlesearch">
	<fieldset>
		<input name="cx" type="hidden" value="017804512478788106347:tlftx8kncg4">
		<input name="q" type="search" maxlength="255" class="inputbox search tiny" value="" placeholder="Google Search ...">
		<button class="button button-search-google" type="submit" name="sitesearch" title="Google Search">
		<i class="icon fa-search fa-fw" aria-hidden="true"></i>
		</button>
	</fieldset>
</form>
</li>
<!--<![endif]-->

							<li id="search-box" class="rightside search-box responsive-hide" role="search">
				<form action="https://forum.abinit.org/search.php" method="get" id="search">
				<fieldset>
					<input name="keywords" id="keywords" type="search" maxlength="128" title="Search for keywords" class="inputbox search tiny" size="20" value="" placeholder="Search…" />
					<button class="button button-search" type="submit" title="Search">
						<i class="icon fa-search fa-fw" aria-hidden="true"></i><span class="sr-only">Search</span>
					</button>
					<a href="search.html" class="button button-search-end" title="Advanced search">
						<i class="icon fa-cog fa-fw" aria-hidden="true"></i><span class="sr-only">Advanced search</span>
					</a>
					
				</fieldset>
				</form>
			</li>

			<li class="rightside responsive-search">
				<a href="search.html" title="View the advanced search options" role="menuitem">
					<i class="icon fa-search fa-fw" aria-hidden="true"></i><span class="sr-only">Search</span>
				</a>
			</li>
					</ul>

	</div>
</div>
	</div>

	
	<a id="start_here" class="anchor"></a>
	<div id="page-body" class="page-body" role="main">
		
		﻿
<h2 class="topic-title"><a href="viewtopic6daa.html?f=3&amp;t=858">installing abinit 6.4.3 on rocks clusters 5.3</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body -->
<div style="display: none !important;">option, parallelism,...<br /></div>
<p>
	<strong>Moderators:</strong> <a href="memberlist5296.html?mode=viewprofile&amp;u=2740" class="username">fgoudreault</a>, <a href="memberlist7468.html?mode=viewprofile&amp;u=53" class="username">mcote</a>
</p>

	<div class="rules">
		<div class="inner">

					<strong>Forum rules</strong><br />
			Please have a look at ~abinit/doc/config/build-config.ac in the source package for detailed and up-to-date information about the configuration of Abinit 8 builds.<br>
For a video explanation on how to build Abinit 7.x for Linux, please go to: <a href="http://www.youtube.com/watch?v=DppLQ-KQA68" class="postlink">http://www.youtube.com/watch?v=DppLQ-KQA68</a>.<br>
<strong class="text-strong">IMPORTANT: when an answer solves your problem, please check the little green V-like button on its upper-right corner to accept it.</strong>
		
		</div>
	</div>

<div class="action-bar bar-top">
	
			<a href="posting13a5.html?mode=reply&amp;f=3&amp;t=858" class="button" title="This topic is locked, you cannot edit posts or make further replies.">
							<span>Locked</span> <i class="icon fa-lock fa-fw" aria-hidden="true"></i>
					</a>
	
			<div class="dropdown-container dropdown-button-control topic-tools">
		<span title="Topic tools" class="button button-secondary dropdown-trigger dropdown-select">
			<i class="icon fa-wrench fa-fw" aria-hidden="true"></i>
			<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
		</span>
		<div class="dropdown">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
																												<li>
					<a href="viewtopice49e-2.html?f=3&amp;t=858&amp;view=print" title="Print view" accesskey="p">
						<i class="icon fa-print fa-fw" aria-hidden="true"></i><span>Print view</span>
					</a>
				</li>
											</ul>
		</div>
	</div>
	
			<div class="search-box" role="search">
			<form method="get" id="topic-search" action="https://forum.abinit.org/search.php">
			<fieldset>
				<input class="inputbox search tiny"  type="search" name="keywords" id="search_keywords" size="20" placeholder="Search this topic…" />
				<button class="button button-search" type="submit" title="Search">
					<i class="icon fa-search fa-fw" aria-hidden="true"></i><span class="sr-only">Search</span>
				</button>
				<a href="search.html" class="button button-search-end" title="Advanced search">
					<i class="icon fa-cog fa-fw" aria-hidden="true"></i><span class="sr-only">Advanced search</span>
				</a>
				<input type="hidden" name="t" value="858" />
<input type="hidden" name="sf" value="msgonly" />

			</fieldset>
			</form>
		</div>
	
			<div class="pagination">
			10 posts
							&bull; Page <strong>1</strong> of <strong>1</strong>
					</div>
		</div>




			<div id="p2627" class="post has-profile bg2 offline">
		<div class="inner">

		<dl class="postprofile" id="profile2627">
			<dt class="no-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlistaf29.html?mode=viewprofile&amp;u=132" class="username">asanee</a>							</dt>

									
		<dd class="profile-posts"><strong>Posts:</strong> <a href="searchf50c.html?author_id=132&amp;sr=posts">5</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Tue Jan 19, 2010 10:30 am</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content2627">

						<h3 class="first"><a href="#p2627">installing abinit 6.4.3 on rocks clusters 5.3</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="postingb20b.html?mode=quote&amp;f=3&amp;p=2627" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author">
									<a class="unread" href="viewtopic03c2.html?p=2627#p2627" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlistaf29.html?mode=viewprofile&amp;u=132" class="username">asanee</a></strong> &raquo; </span>Mon Jan 24, 2011 7:44 am
			</p>
			
			
			
			<div class="content">Dear All, <br /><br />I have a problem when configure the abinit, I tried installing it in a parallel environment using this string<br /><br />./configure --enable-64bit-flags=&quot;yes&quot; --enable-mpi=&quot;yes&quot; --with-mpi-prefix=&quot;/opt/mpich2/gnu/include/&quot;<br /><br />Unforturnately, I am a new for using parallel on abinit. After, it's configure, the process is going well.<br />Then, I just type &quot;make mj4&quot; Its got a message look like this<br /><br />[root@cluster abinit-6.4.3]# make mj4<br />make multi multi_nprocs=4 <br />make[1]: Entering directory `/state/partition1/apps/abinit-6.4.3'<br />cd prereqs &amp;&amp; make -j4 <br />make[2]: Entering directory `/state/partition1/apps/abinit-6.4.3/prereqs'<br />Making all in linalg<br />make[3]: Entering directory `/state/partition1/apps/abinit-6.4.3/prereqs/linalg'<br />make -f ../../prereqs/linalg/linalg.mk <br />make[4]: Entering directory `/state/partition1/apps/abinit-6.4.3/prereqs/linalg'<br />lapack-abinit_6.0 has been uncompressed.<br />touch configure-stamp<br />lapack-abinit_6.0 has been configured.<br />cd blas &amp;&amp; make FC=&quot;gfortran -m64&quot; FCFLAGS=&quot;-m64 -ffixed-form -m64 -g   -O2 -mtune=native -march=native -mfpmath=sse&quot; AR=&quot;ar&quot; ARFLAGS=&quot;rc&quot; RANLIB=&quot;ranlib&quot;<br />make[5]: Entering directory `/state/partition1/apps/abinit-6.4.3/prereqs/linalg/blas'<br />gfortran -m64 -m64 -ffixed-form -m64 -g   -O2 -mtune=native -march=native -mfpmath=sse -c caxpy.f<br />gfortran -m64 -m64 -ffixed-form -m64 -g   -O2 -mtune=native -march=native -mfpmath=sse -c ccopy.f<br />gfortran -m64 -m64 -ffixed-form -m64 -g   -O2 -mtune=native -march=native -mfpmath=sse -c cdotc.f<br />caxpy.f:0: error: bad value (native) for -march= switch<br />caxpy.f:0: error: bad value (native) for -mtune= switch<br />ccopy.f:0: error: bad value (native) for -march= switch<br />ccopy.f:0: error: bad value (native) for -mtune= switch<br />make[5]: *** [caxpy.o] Error 1<br />make[5]: *** Waiting for unfinished jobs....<br />make[5]: *** [ccopy.o] Error 1<br />cdotc.f:0: error: bad value (native) for -march= switch<br />cdotc.f:0: error: bad value (native) for -mtune= switch<br />make[5]: *** [cdotc.o] Error 1<br />make[5]: Leaving directory `/state/partition1/apps/abinit-6.4.3/prereqs/linalg/blas'<br />make[4]: *** [build-stamp] Error 2<br />make[4]: Leaving directory `/state/partition1/apps/abinit-6.4.3/prereqs/linalg'<br />make[3]: *** [package-ready] Error 2<br />make[3]: Leaving directory `/state/partition1/apps/abinit-6.4.3/prereqs/linalg'<br />make[2]: *** [all-recursive] Error 1<br />make[2]: Leaving directory `/state/partition1/apps/abinit-6.4.3/prereqs'<br />make[1]: *** [multi] Error 2<br />make[1]: Leaving directory `/state/partition1/apps/abinit-6.4.3'<br />make: *** [mj4] Error 2<br /><br />Do I make some mistake, Please recommend me<br /><br />Thank <br />Asanee</div>
			
			
			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p2631" class="post has-profile bg1 offline">
		<div class="inner">

		<dl class="postprofile" id="profile2631">
			<dt class="no-profile-rank has-avatar">
				<div class="avatar-container">
																<a href="memberliste9a7.html?mode=viewprofile&amp;u=60" class="avatar"><img class="avatar" src="download/filecff2.jpg?avatar=60_1348167350.jpg" width="92" height="92" alt="User avatar" /></a>														</div>
								<a href="memberliste9a7.html?mode=viewprofile&amp;u=60" class="username">Alain_Jacques</a>							</dt>

									
		<dd class="profile-posts"><strong>Posts:</strong> <a href="search1175.html?author_id=60&amp;sr=posts">279</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Sat Aug 15, 2009 9:34 pm</dd>		
		
											<dd class="profile-custom-field profile-phpbb_location"><strong>Location:</strong> Université catholique de Louvain - Belgium</dd>
							
						
		</dl>

		<div class="postbody">
						<div id="post_content2631">

						<h3 ><a href="#p2631">Re: installing abinit 6.4.3 on rocks clusters 5.3</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="posting6eaf.html?mode=quote&amp;f=3&amp;p=2631" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author">
									<a class="unread" href="viewtopic0df1.html?p=2631#p2631" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberliste9a7.html?mode=viewprofile&amp;u=60" class="username">Alain_Jacques</a></strong> &raquo; </span>Mon Jan 24, 2011 11:46 am
			</p>
			
			
			
			<div class="content">Hello Asanee,<br /><br />Two things look fishy to me.<br />First of all, you configured with mpi enabled but gfortran is invoked instead of the mpif90 wrapper. I bet the --with-mpi-prefix is wrong (it should point to the root dir of your MPI implementation i.e. where bin/, lib/ and include/ live)<br />Secondly, gfortran chokes on march=native (and mtune). It's probably quite an old version not supported anymore by Abinit - check it with gfortran --version.<br /><br />Kind regards,<br /><br />Alain</div>
			
			
			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p2634" class="post has-profile bg2 offline">
		<div class="inner">

		<dl class="postprofile" id="profile2634">
			<dt class="no-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlistaf29.html?mode=viewprofile&amp;u=132" class="username">asanee</a>							</dt>

									
		<dd class="profile-posts"><strong>Posts:</strong> <a href="searchf50c.html?author_id=132&amp;sr=posts">5</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Tue Jan 19, 2010 10:30 am</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content2634">

						<h3 ><a href="#p2634">Re: installing abinit 6.4.3 on rocks clusters 5.3</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="posting6b17.html?mode=quote&amp;f=3&amp;p=2634" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author">
									<a class="unread" href="viewtopic92a7-2.html?p=2634#p2634" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlistaf29.html?mode=viewprofile&amp;u=132" class="username">asanee</a></strong> &raquo; </span>Mon Jan 24, 2011 1:01 pm
			</p>
			
			
			
			<div class="content">Thank. Alain_Jacques to answer me<br /><br />First of all, I am a new in Linux user. So, If I have change for the mpi libs to<br /><br />./configure --enable-64bit-flags=&quot;yes&quot; --enable-mpi=&quot;yes&quot; --with-mpi-prefix=&quot;/usr/lib/openmpi/1.3.2-gcc/include/&quot;<br /><br />As, I know the mpi.h file is in there ( &quot;/usr/lib/openmpi/1.3.2-gcc/include/&quot;) and the gfortran version is 4.1.2.<br />however, it might be the older version. Could you help me for the next step? Please .... if i got the same error as i have been got before<br />Could I change another compiler insteat of gfortran or it just update for gfortran ? <br /><br />Thank Asanee</div>
			
			
			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p2636" class="post has-profile bg1 offline">
		<div class="inner">

		<dl class="postprofile" id="profile2636">
			<dt class="no-profile-rank has-avatar">
				<div class="avatar-container">
																<a href="memberliste9a7.html?mode=viewprofile&amp;u=60" class="avatar"><img class="avatar" src="download/filecff2.jpg?avatar=60_1348167350.jpg" width="92" height="92" alt="User avatar" /></a>														</div>
								<a href="memberliste9a7.html?mode=viewprofile&amp;u=60" class="username">Alain_Jacques</a>							</dt>

									
		<dd class="profile-posts"><strong>Posts:</strong> <a href="search1175.html?author_id=60&amp;sr=posts">279</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Sat Aug 15, 2009 9:34 pm</dd>		
		
											<dd class="profile-custom-field profile-phpbb_location"><strong>Location:</strong> Université catholique de Louvain - Belgium</dd>
							
						
		</dl>

		<div class="postbody">
						<div id="post_content2636">

						<h3 ><a href="#p2636">Re: installing abinit 6.4.3 on rocks clusters 5.3</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="posting7693.html?mode=quote&amp;f=3&amp;p=2636" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author">
									<a class="unread" href="viewtopicac9f.html?p=2636#p2636" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberliste9a7.html?mode=viewprofile&amp;u=60" class="username">Alain_Jacques</a></strong> &raquo; </span>Mon Jan 24, 2011 2:04 pm
			</p>
			
			
			
			<div class="content">if you use the --with-mpi-prefix=&quot;/SomeDirectory&quot;, configure expects to find mpi.h in /SomeDirectory/include/mpi.h, mpif90 in /SomeDirectory/bin/mpif90, libmpi.so in /SomeDirectory/lib/libmpi.so ... and so on. If your mpi implementation is scattered then use --with-mpi-includes=&quot;-I/usr/lib/openmpi/1.3.2-gcc/include/&quot; and --with-mpi-libs=&quot;-L/usr/lib/openmpi/1.3.2-gcc/lib -lmpi&quot; instead. Now these libs seem associated with an old gfortran 4.1.2 which is not supported anymore (because it is quite buggy).<br /><br />So try either <div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>export LD_LIBRARY_PATH=/opt/mpich2/gnu/lib:$LD_LIBRARY_PATH<br />./configure --enable-64bit-flags=&quot;yes&quot; --enable-mpi=&quot;yes&quot; --with-mpi-prefix=&quot;/opt/mpich2/gnu/&quot; --disable-linalg&nbsp; FCFLAGS=&quot;-O2&quot; CFLAGS=&quot;-O2&quot; CXXFLAGS=&quot;-O2&quot;</code></pre></div> by reference to your first post or <div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>./configure --enable-64bit-flags=&quot;yes&quot; --enable-mpi=&quot;yes&quot; --with-mpi-includes=&quot;-I/usr/lib/openmpi/1.3.2-gcc/include/&quot; --with-mpi-libs=&quot;-L/usr/lib/openmpi/1.3.2-gcc/lib -lmpi&quot; --disable-linalg FCFLAGS=&quot;-O2&quot; CFLAGS=&quot;-O2&quot; CXXFLAGS=&quot;-O2&quot;</code></pre></div><br />and maybe add --disable-all-plugins if you are in trouble with one of them.<br /><br />You mentioned that you work on a cluster; it would be reasonable to think that gfortran 4.1.2 is not the only available fortran compiler on it. Sorry, I don't know where they hide ... ask the system admin. Abinit supports quite a variety of compilers ... gnu, Intel, PGI, ... And also ask for the mpi associated with the compilers (mpi is build for a specific compiler i.e. don't try to mix). Then I can help you further with this info.<br /><br />Updating to a new gfortran means compiling a new compiler - not for the fainted of heart, you'll probably have to prepare new gmp, mpfr and mpc libraries. And new mpi libs when finished. Better to check first if this hasn't been done already on your system.<br /><br /><br />Alain</div>
			
			
			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p2637" class="post has-profile bg2 offline">
		<div class="inner">

		<dl class="postprofile" id="profile2637">
			<dt class="no-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlistaf29.html?mode=viewprofile&amp;u=132" class="username">asanee</a>							</dt>

									
		<dd class="profile-posts"><strong>Posts:</strong> <a href="searchf50c.html?author_id=132&amp;sr=posts">5</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Tue Jan 19, 2010 10:30 am</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content2637">

						<h3 ><a href="#p2637">Re: installing abinit 6.4.3 on rocks clusters 5.3</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="postingc75e.html?mode=quote&amp;f=3&amp;p=2637" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author">
									<a class="unread" href="viewtopicfb9a-2.html?p=2637#p2637" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlistaf29.html?mode=viewprofile&amp;u=132" class="username">asanee</a></strong> &raquo; </span>Tue Jan 25, 2011 6:22 am
			</p>
			
			
			
			<div class="content">Dear Alain_Jacques<br /><br />I would be appreciate in your kind helping me. Anyway, I try to configue my cluster which has a few node. <br />Before that I have been familiar to use abinit within single run. <br />My system is quit large, and also took a long time. Thus, I have plan for mpirun to help my calculationl. So,.... <br />I have done on your recommend with a bit change as following<br /><br /> ./configure --enable-mpi=&quot;yes&quot; --with-mpi-includes=&quot;-I/usr/lib/openmpi/1.3.2-gcc/include/&quot; --with-mpi-libs=&quot;-L/usr/lib/openmpi/1.3.2-gcc/lib/&quot; -disable-all-plugins FC=&quot;f95&quot; FCFLAGS=&quot;-L/usr/bin/&quot;<br /><br />As results, this can neglect for &quot;gfortran&quot; problems (as I was understand). However, I had stuck on ... .. with I don't know such that problem as shown below (this is only some part of the messege)<br /><br />Error: Symbol 'mpi_comm_null' at (1) has no IMPLICIT type<br /> In file xallgather_mpi.F90:197<br /><br />     Included at m_xmpi.F90:628<br /><br />   call MPI_ALLGATHER(xval,nelem,MPI_INTEGER,recvcounts,nelem,MPI_INTEGER,space<br />                                           1<br />Error: Symbol 'mpi_integer' at (1) has no IMPLICIT type<br /> In file xallgather_mpi.F90:135<br /><br />     Included at m_xmpi.F90:628<br /><br />   call MPI_ALLGATHER(charval,20,MPI_CHARACTER,recvcounts,20,MPI_CHARACTER,spac<br />                                             1<br />Error: Symbol 'mpi_character' at (1) has no IMPLICIT type<br /> In file xallgather_mpi.F90:133<br /><br />     Included at m_xmpi.F90:628<br /><br /> if (spaceComm /= MPI_COMM_SELF .and. spaceComm /= MPI_COMM_NULL) then<br />                              1<br />Error: Symbol 'mpi_comm_self' at (1) has no IMPLICIT type<br /> In file xallgather_mpi.F90:133<br /><br />     Included at m_xmpi.F90:628<br /><br /> if (spaceComm /= MPI_COMM_SELF .and. spaceComm /= MPI_COMM_NULL) then<br />                                                               1<br />Error: Symbol 'mpi_comm_null' at (1) has no IMPLICIT type<br /> In file xallgather_mpi.F90:73<br /><br />     Included at m_xmpi.F90:628<br /><br /> if (spaceComm /= MPI_COMM_SELF .and. spaceComm /= MPI_COMM_NULL) then<br />                              1<br />Error: Symbol 'mpi_comm_self' at (1) has no IMPLICIT type<br /> In file xallgather_mpi.F90:73<br /><br />     Included at m_xmpi.F90:628<br /><br /> if (spaceComm /= MPI_COMM_SELF .and. spaceComm /= MPI_COMM_NULL) then<br />                                                               1<br />Error: Symbol 'mpi_comm_null' at (1) has no IMPLICIT type<br /> In file xallgather_mpi.F90:75<br /><br />     Included at m_xmpi.F90:628<br /><br />   call MPI_ALLGATHER(xval,1,MPI_INTEGER,recvcounts,1,MPI_INTEGER,spaceComm,ier)<br />                                       1<br />Error: Symbol 'mpi_integer' at (1) has no IMPLICIT type<br /> In file m_xmpi.F90:517<br /><br /> if (spaceComm /= MPI_COMM_NULL) then<br />                              1<br />Error: Symbol 'mpi_comm_null' at (1) has no IMPLICIT type<br /> In file m_xmpi.F90:467<br /><br /> if ( spaceComm/=MPI_COMM_NULL ) then<br />                             1<br />Error: Symbol 'mpi_comm_null' at (1) has no IMPLICIT type<br /> In file m_xmpi.F90:421<br /><br /> if ( spaceComm/=MPI_COMM_NULL ) then<br />                             1<br />Error: Symbol 'mpi_comm_null' at (1) has no IMPLICIT type<br /> In file m_xmpi.F90:335<br /><br /> call MPI_ATTR_GET(MPI_COMM_WORLD, MPI_TAG_UB, attribute_val, lflag, ierr) ! De<br />                                            1<br />Error: Symbol 'mpi_tag_ub' at (1) has no IMPLICIT type<br /> In file m_xmpi.F90:335<br /><br /> call MPI_ATTR_GET(MPI_COMM_WORLD, MPI_TAG_UB, attribute_val, lflag, ierr) ! De<br />                                1<br />Error: Symbol 'mpi_comm_world' at (1) has no IMPLICIT type<br />make[3]: *** [m_xmpi.o] Error 1<br />make[3]: Leaving directory `/state/partition1/home/abinit-6.4.3/src/12_hide_mpi'<br />make[2]: *** [all-recursive] Error 1<br />make[2]: Leaving directory `/state/partition1/home/abinit-6.4.3/src'<br />make[1]: *** [all-recursive] Error 1<br />make[1]: Leaving directory `/state/partition1/home/abinit-6.4.3'<br />make: *** [all] Error 2<br /><br /><br />For now, this thing I don't understand. Should I go back to use single run again ... ?  I'm Sorry for my knowledge using linux however Thank you again.<br /><br />Thank<br />Asanee</div>
			
			
			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p2641" class="post has-profile bg1 offline">
		<div class="inner">

		<dl class="postprofile" id="profile2641">
			<dt class="no-profile-rank has-avatar">
				<div class="avatar-container">
																<a href="memberlist981e.html?mode=viewprofile&amp;u=71" class="avatar"><img class="avatar" src="download/fileb0c3.png?avatar=g8_1366628657.png" width="64" height="64" alt="User avatar" /></a>														</div>
								<a href="memberlist981e.html?mode=viewprofile&amp;u=71" style="color: #6633FF;" class="username-coloured">pouillon</a>							</dt>

									
		<dd class="profile-posts"><strong>Posts:</strong> <a href="search42e4.html?author_id=71&amp;sr=posts">651</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Wed Aug 19, 2009 10:08 am</dd>		
		
																<dd class="profile-custom-field profile-phpbb_location"><strong>Location:</strong> Spain</dd>
												
							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact pouillon">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact pouillon</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="https://www.materialsevolution.es/" title="Website">
										<span class="contact-icon phpbb_website-icon">Website</span>
									</a>
																																																<a href="skype:ypouillon80?userinfo" title="Skype" class="last-cell">
										<span class="contact-icon phpbb_skype-icon">Skype</span>
									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content2641">

						<h3 ><a href="#p2641">Re: installing abinit 6.4.3 on rocks clusters 5.3</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="posting4184.html?mode=quote&amp;f=3&amp;p=2641" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author">
									<a class="unread" href="viewtopic8291.html?p=2641#p2641" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlist981e.html?mode=viewprofile&amp;u=71" style="color: #6633FF;" class="username-coloured">pouillon</a></strong> &raquo; </span>Tue Jan 25, 2011 2:41 pm
			</p>
			
			
			
			<div class="content">You should do exactly as Alain told you in his first suggestion. If you do otherwise, it will likely not work.<br /><br />An alternative to setting CFLAGS, CXXFLAGS and FCFLAGS is to use the following options:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>--with-fc-vendor=&quot;gnu&quot; --with-fc-version=&quot;4.2&quot;<br /></code></pre></div></div>
			
			
			
									
									<div id="sig2641" class="signature">Yann Pouillon<br /><em class="text-italics">Simune Atomistics<br />Donostia-San Sebastián, Spain</em></div>
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p2642" class="post has-profile bg2 offline">
		<div class="inner">

		<dl class="postprofile" id="profile2642">
			<dt class="no-profile-rank has-avatar">
				<div class="avatar-container">
																<a href="memberliste9a7.html?mode=viewprofile&amp;u=60" class="avatar"><img class="avatar" src="download/filecff2.jpg?avatar=60_1348167350.jpg" width="92" height="92" alt="User avatar" /></a>														</div>
								<a href="memberliste9a7.html?mode=viewprofile&amp;u=60" class="username">Alain_Jacques</a>							</dt>

									
		<dd class="profile-posts"><strong>Posts:</strong> <a href="search1175.html?author_id=60&amp;sr=posts">279</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Sat Aug 15, 2009 9:34 pm</dd>		
		
											<dd class="profile-custom-field profile-phpbb_location"><strong>Location:</strong> Université catholique de Louvain - Belgium</dd>
							
						
		</dl>

		<div class="postbody">
						<div id="post_content2642">

						<h3 ><a href="#p2642">Re: installing abinit 6.4.3 on rocks clusters 5.3</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="posting1404.html?mode=quote&amp;f=3&amp;p=2642" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author">
									<a class="unread" href="viewtopic02a5.html?p=2642#p2642" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberliste9a7.html?mode=viewprofile&amp;u=60" class="username">Alain_Jacques</a></strong> &raquo; </span>Tue Jan 25, 2011 5:58 pm
			</p>
			
			
			
			<div class="content">Here are some recipes to build a new compiler toolchain ... let's try to have a clean gfortran 4.4 working on your box. As you currently have gcc-4.1.2 installed, I assume you're working with some sort of RHEL 5 or variant (CentOS, Scientific Linux, ...)<br /><br />1. download GNU MP from <a href="ftp://ftp.gmplib.org/pub/gmp-4.3.2/gmp-4.3.2.tar.bz2" class="postlink">ftp://ftp.gmplib.org/pub/gmp-4.3.2/gmp-4.3.2.tar.bz2</a> Configure, build, check and install with <div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>./configure --prefix=/opt/gmp-4.3.2<br />make<br />make check<br />make install</code></pre></div><br /><br />2. download MPFR from <a href="http://www.mpfr.org/mpfr-2.4.2/mpfr-2.4.2.tar.bz2" class="postlink">http://www.mpfr.org/mpfr-2.4.2/mpfr-2.4.2.tar.bz2</a> Configure, ... with<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>./configure --prefix=/opt/mpfr-2.4.2 --with-gmp=/opt/gmp-4.3.2<br />make<br />make check<br />make install</code></pre></div><br /><br />3. download gcc-4.4.5 from a mirror of <a href="http://gcc.gnu.org/" class="postlink">http://gcc.gnu.org/</a> Untar. Create a separate build directory, cd to it then configure, .... with<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>PathToGCCSource/configure --prefix=/opt/gcc-4.4.5 --enable-bootstrap --enable-shared --enable-threads=posix --with-system-zlib --enable-languages=c,c++,fortran --with-cpu=generic --with-mpfr=/opt/mpfr-2.4.2 --with-gmp=/opt/gmp-4.3.2<br />make<br />make install</code></pre></div><br />You should have a brand new gcc/gfortran in /opt/gcc-4.4.5<br /><br />4. prepare your environment to use the new toolchain ...<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>export PATH=/opt/gcc-4.4.5/bin:$PATH<br />export LD_LIBRARY_PATH=/opt/gcc-4.4.5/lib:$LD_LIBRARY_PATH</code></pre></div><br />From now, a plain gfortran -v should return the new compiler.<br /><br />5. Build a new MPI (don't try to recycle the one already on your system). Download <a href="http://www.open-mpi.org/software/ompi/v1.4/downloads/openmpi-1.4.3.tar.bz2" class="postlink">http://www.open-mpi.org/software/ompi/v1.4/downloads/openmpi-1.4.3.tar.bz2</a> Configure, ... with<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>./configure --prefix=/opt/openmpi-1.4.3_gcc-4.4.5 CC=/opt/gcc-4.4.5/bin/gcc CXX=/opt/gcc-4.4.5/bin/g++ F77=/opt/gcc-4.4.5/bin/gfortran FC=/opt/gcc-4.4.5/bin/gfortran CPP=/opt/gcc-4.4.5/bin/cpp<br />make<br />make check<br />make install</code></pre></div><br /><br />6. append the parallel environment ...<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>export PATH=/opt/openmpi-1.4.3_gcc-4.4.5/bin:$PATH<br />export LD_LIBRARY_PATH=/opt/openmpi-1.4.3_gcc-4.4.5/lib:$LD_LIBRARY_PATH</code></pre></div><br />From now, mpif90 -show should return the new MPI wrapper<br /><br />7. back to abinit 6.4.3. Try to configure with <div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>./configure --enable-64bit-flags=&quot;yes&quot; --enable-mpi=&quot;yes&quot; --with-mpi-prefix=/opt/openmpi-1.4.3_gcc-4.4.5 --enable-linalg=&quot;no&quot;</code></pre></div><br /><br />Working?<br /><br />Alain</div>
			
			
			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p2645" class="post has-profile bg1 offline">
		<div class="inner">

		<dl class="postprofile" id="profile2645">
			<dt class="no-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlistaf29.html?mode=viewprofile&amp;u=132" class="username">asanee</a>							</dt>

									
		<dd class="profile-posts"><strong>Posts:</strong> <a href="searchf50c.html?author_id=132&amp;sr=posts">5</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Tue Jan 19, 2010 10:30 am</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content2645">

						<h3 ><a href="#p2645">Re: installing abinit 6.4.3 on rocks clusters 5.3</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="postingfacb.html?mode=quote&amp;f=3&amp;p=2645" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author">
									<a class="unread" href="viewtopic3ad8-2.html?p=2645#p2645" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlistaf29.html?mode=viewprofile&amp;u=132" class="username">asanee</a></strong> &raquo; </span>Wed Jan 26, 2011 8:42 am
			</p>
			
			
			
			<div class="content">Thank you for both of your recommendation<br /><br />I had try exactly as both of you suggestion but, I can't update new compiler as a good recommendation from Alain. <br />Thank for Pouillon, for the suggestion. I re-configure again by using the first as Alian guide me <br /><br /> ./configure --enable-mpi=&quot;yes&quot; --with-mpi-prefix=&quot;/opt/mpich2/gnu/&quot; --disable-linalg  FCFLAGS=&quot;-O2&quot; CFLAGS=&quot;-O2&quot; CXXFLAGS=&quot;-O2&quot; --disable-all-plugins<br /><br />and get the result message as showing<br /><br /><br /> ==============================================================================<br /> === C support                                                              ===<br /> ==============================================================================<br /><br />checking for gcc... /opt/mpich2/gnu//bin/mpicc<br />checking whether the C compiler works... yes<br />checking for C compiler default output file name... a.out<br />checking for suffix of executables... <br />checking whether we are cross compiling... no<br />checking for suffix of object files... o<br />checking whether we are using the GNU C compiler... yes<br />checking whether /opt/mpich2/gnu//bin/mpicc accepts -g... yes<br />checking for /opt/mpich2/gnu//bin/mpicc option to accept ISO C89... none needed<br />checking for style of include used by make... GNU<br />checking dependency style of /opt/mpich2/gnu//bin/mpicc... gcc3<br />checking how to run the C preprocessor... /opt/mpich2/gnu//bin/mpicc -E<br />checking which type of compiler we have... gnu 4.1<br />checking for ANSI C header files... yes<br />checking for sys/types.h... yes<br />checking for sys/stat.h... yes<br />checking for stdlib.h... yes<br />checking for string.h... yes<br />checking for memory.h... yes<br />checking for strings.h... yes<br />checking for inttypes.h... yes<br />checking for stdint.h... yes<br />checking for unistd.h... yes<br />checking whether byte ordering is bigendian... no<br /><br /> ==============================================================================<br /> === C++ support                                                            ===<br /> ==============================================================================<br /><br />checking whether we are using the GNU C++ compiler... yes<br />checking whether /opt/mpich2/gnu//bin/mpicxx accepts -g... yes<br />checking dependency style of /opt/mpich2/gnu//bin/mpicxx... gcc3<br />checking which type of C++ compiler we have... gnu 4.1<br /><br /> ==============================================================================<br /> === Fortran support                                                        ===<br /> ==============================================================================<br /><br />checking whether we are using the GNU Fortran compiler... yes<br />checking whether /opt/mpich2/gnu//bin/mpif90 accepts -g... yes<br />checking which type of Fortran compiler we have... gnu 4.1<br />checking fortran 90 modules extension... mod<br />checking for Fortran flag to compile .F90 files... none<br />configure: determining Fortran module case<br />checking whether Fortran modules are upper-case... no<br />checking how to get verbose linking output from /opt/mpich2/gnu//bin/mpif90... -v<br />checking for Fortran libraries of /opt/mpich2/gnu//bin/mpif90...  -L/opt/mpich2/gnu/lib -L/usr/lib/gcc/x86_64-redhat-linux/4.1.2 -L/usr/lib/gcc/x86_64-redhat-linux/4.1.2/../../../../lib64 -L/lib/../lib64 -L/usr/lib/../lib64 -lmpichf90 -lmpich -lopa -lpthread -lrt -luuid -lgfortranbegin -lgfortran -lm<br />checking for dummy main to link with Fortran libraries... none<br />checking for Fortran name-mangling scheme... lower case, underscore, no extra underscore<br />.<br />.<br />.<br /> ==============================================================================<br /> === Connectors                                                             ===<br /> ==============================================================================<br /><br />checking whether the C compiler supports MPI... yes<br />checking whether the C++ compiler supports MPI... yes<br />checking whether the Fortran Compiler supports MPI... yes<br />checking whether MPI is usable... yes<br />configure: enabling MPI I/O support<br />checking whether to build MPI code... yes<br />checking whether to build MPI I/O code... yes<br />checking whether to build MPI I/O untested features... no<br />checking whether to build MPI time tracing code... no<br />checking which level of MPI is supported by the Fortran compiler... 2<br />checking whether to activate GPU support... no<br />checking whether to use transferable I/O libraries... no<br />checking whether to use optimized timer libraries... no<br />checking whether to use optimized linear algebra libraries... no<br />checking whether to activate ScaLAPACK support... no<br />checking whether to use optimized math libraries... no<br />checking whether to use optimized FFT libraries... no<br />checking whether to use DFT libraries... no<br /><br />This is seem to be good, however, I have continue by &quot; make mj4&quot; . I got this message <br />The screen show the succeed complie of compiler, however ...<br /> <br />In file interfaces_67_common.F90:580<br /><br />  real(dp), intent(out), allocatable :: csix(:,:)<br />                                           1<br />Error: ALLOCATABLE attribute conflicts with DUMMY attribute at (1)<br />/opt/mpich2/gnu//bin/mpif90 -m64 -DHAVE_CONFIG_H -I. -I../.. -I../../src/incs -I../../src/incs    -ffree-form -J/export/home/asanee/Desktop/abinit-6.4.3/src/mods -I/export/home/asanee/Desktop/abinit-6.4.3/src/mods  -O2 -c -o calc_fc.o calc_fc.F90<br />/opt/mpich2/gnu//bin/mpif90 -m64 -DHAVE_CONFIG_H -I. -I../.. -I../../src/incs -I../../src/incs    -ffree-form -J/export/home/asanee/Desktop/abinit-6.4.3/src/mods -I/export/home/asanee/Desktop/abinit-6.4.3/src/mods  -O2 -c -o clnup2.o clnup2.F90<br />/opt/mpich2/gnu//bin/mpif90 -m64 -DHAVE_CONFIG_H -I. -I../.. -I../../src/incs -I../../src/incs    -ffree-form -J/export/home/asanee/Desktop/abinit-6.4.3/src/mods -I/export/home/asanee/Desktop/abinit-6.4.3/src/mods  -O2 -c -o dens_in_sph.o dens_in_sph.F90<br />/opt/mpich2/gnu//bin/mpif90 -m64 -DHAVE_CONFIG_H -I. -I../.. -I../../src/incs -I../../src/incs    -ffree-form -J/export/home/asanee/Desktop/abinit-6.4.3/src/mods -I/export/home/asanee/Desktop/abinit-6.4.3/src/mods  -O2 -c -o dielmt2.o dielmt2.F90<br />/opt/mpich2/gnu//bin/mpif90 -m64 -DHAVE_CONFIG_H -I. -I../.. -I../../src/incs -I../../src/incs    -ffree-form -J/export/home/asanee/Desktop/abinit-6.4.3/src/mods -I/export/home/asanee/Desktop/abinit-6.4.3/src/mods  -O2 -c -o dielmt.o dielmt.F90<br />/opt/mpich2/gnu//bin/mpif90 -m64 -DHAVE_CONFIG_H -I. -I../.. -I../../src/incs -I../../src/incs    -ffree-form -J/export/home/asanee/Desktop/abinit-6.4.3/src/mods -I/export/home/asanee/Desktop/abinit-6.4.3/src/mods  -O2 -c -o dieltcel.o dieltcel.F90<br /> In file interfaces_67_common.F90:572<br /><br /> subroutine evdw_wannier(csix,corrvdw,nwan,vdw_nwan,&amp;  <br />                            1<br />Error: Symbol 'csix' at (1) has no IMPLICIT type<br />/opt/mpich2/gnu//bin/mpif90 -m64 -DHAVE_CONFIG_H -I. -I../.. -I../../src/incs -I../../src/incs    -ffree-form -J/export/home/asanee/Desktop/abinit-6.4.3/src/mods -I/export/home/asanee/Desktop/abinit-6.4.3/src/mods  -O2 -c -o ewald.o ewald.F90<br />/opt/mpich2/gnu//bin/mpif90 -m64 -DHAVE_CONFIG_H -I. -I../.. -I../../src/incs -I../../src/incs    -ffree-form -J/export/home/asanee/Desktop/abinit-6.4.3/src/mods -I/export/home/asanee/Desktop/abinit-6.4.3/src/mods  -O2 -c -o ewald2.o ewald2.F90<br />make[5]: *** [interfaces_67_common.o] Error 1<br />make[5]: *** Waiting for unfinished jobs....<br />make[5]: Leaving directory `/state/partition1/home/asanee/Desktop/abinit-6.4.3/src/67_common'<br />make[4]: *** [all-recursive] Error 1<br />make[4]: Leaving directory `/state/partition1/home/asanee/Desktop/abinit-6.4.3/src'<br />make[3]: *** [all-recursive] Error 1<br />make[3]: Leaving directory `/state/partition1/home/asanee/Desktop/abinit-6.4.3'<br />make[2]: *** [all] Error 2<br />make[2]: Leaving directory `/state/partition1/home/asanee/Desktop/abinit-6.4.3'<br />make[1]: *** [multi] Error 2<br />make[1]: Leaving directory `/state/partition1/home/asanee/Desktop/abinit-6.4.3'<br />make: *** [mj4] Error 2<br /><br />I think the error might come from somethings which it does not concern to the compiler. <br />So, for now, I would be appreciated for boths of your helps. I would be afraid of your offering for the sake of my less<br />linux user. Anyway, Is there possible if I change to use fedora14 (This might be a new compiler), and install mpich2, then <br />abinit in single computer? This would be easier than rocks cluster.<br /><br />Very thank boths<br />Asanee</div>
			
			
			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p2651" class="post has-profile bg2 offline">
		<div class="inner">

		<dl class="postprofile" id="profile2651">
			<dt class="no-profile-rank has-avatar">
				<div class="avatar-container">
																<a href="memberliste9a7.html?mode=viewprofile&amp;u=60" class="avatar"><img class="avatar" src="download/filecff2.jpg?avatar=60_1348167350.jpg" width="92" height="92" alt="User avatar" /></a>														</div>
								<a href="memberliste9a7.html?mode=viewprofile&amp;u=60" class="username">Alain_Jacques</a>							</dt>

									
		<dd class="profile-posts"><strong>Posts:</strong> <a href="search1175.html?author_id=60&amp;sr=posts">279</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Sat Aug 15, 2009 9:34 pm</dd>		
		
											<dd class="profile-custom-field profile-phpbb_location"><strong>Location:</strong> Université catholique de Louvain - Belgium</dd>
							
						
		</dl>

		<div class="postbody">
						<div id="post_content2651">

						<h3 ><a href="#p2651">Re: installing abinit 6.4.3 on rocks clusters 5.3</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="posting703a.html?mode=quote&amp;f=3&amp;p=2651" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author">
									<a class="unread" href="viewtopic689b.html?p=2651#p2651" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberliste9a7.html?mode=viewprofile&amp;u=60" class="username">Alain_Jacques</a></strong> &raquo; </span>Wed Jan 26, 2011 11:29 am
			</p>
			
			
			
			<div class="content">Hello Asanee,<br /><br />Fedora 14 comes with gcc-4.5 ... this compiler version is well supported. And yes, you can use MPICH2 on a single SMP box - multicores and/or multicpus - in this case, I configure MPICH2 with gforker process manager and ch3:nemesis communication device.<br /><br />Kind regards,<br /><br />Alain</div>
			
			
			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p2652" class="post has-profile bg1 offline">
		<div class="inner">

		<dl class="postprofile" id="profile2652">
			<dt class="no-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlistaf29.html?mode=viewprofile&amp;u=132" class="username">asanee</a>							</dt>

									
		<dd class="profile-posts"><strong>Posts:</strong> <a href="searchf50c.html?author_id=132&amp;sr=posts">5</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Tue Jan 19, 2010 10:30 am</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content2652">

						<h3 ><a href="#p2652">Re: installing abinit 6.4.3 on rocks clusters 5.3</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="posting9383-2.html?mode=quote&amp;f=3&amp;p=2652" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author">
									<a class="unread" href="viewtopic5328.html?p=2652#p2652" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlistaf29.html?mode=viewprofile&amp;u=132" class="username">asanee</a></strong> &raquo; </span>Wed Jan 26, 2011 2:14 pm
			</p>
			
			
			
			<div class="content">Dear Alain<br /><br />Thank for reply me. Now, I decide to install abinit on fedora14 with has compiler 4.5.1 in it. This is correct as you had been mension before.<br />The compiling procedure is strange forword as you suggest. It's working. Thank again. The mpich2 and abinit are well compatible. <br />But one thing that's quit differ from a single run is &quot; Does mpirun need memory (RAM) to calculate for the whole process as a single core before?&quot;<br />I check by using system monitor and observe that It doesn't a litle bit within a big system calculation, or do I make something worng?<br /><br />Finally, Thank you for all you kind helping me again<br />Asanee</div>
			
			
			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
	

	<div class="action-bar bar-bottom">
	
			<a href="posting13a5.html?mode=reply&amp;f=3&amp;t=858" class="button" title="This topic is locked, you cannot edit posts or make further replies.">
							<span>Locked</span> <i class="icon fa-lock fa-fw" aria-hidden="true"></i>
					</a>
		
		<div class="dropdown-container dropdown-button-control topic-tools">
		<span title="Topic tools" class="button button-secondary dropdown-trigger dropdown-select">
			<i class="icon fa-wrench fa-fw" aria-hidden="true"></i>
			<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
		</span>
		<div class="dropdown">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
																												<li>
					<a href="viewtopice49e-2.html?f=3&amp;t=858&amp;view=print" title="Print view" accesskey="p">
						<i class="icon fa-print fa-fw" aria-hidden="true"></i><span>Print view</span>
					</a>
				</li>
											</ul>
		</div>
	</div>

			<form method="post" action="https://forum.abinit.org/viewtopic.php?f=3&amp;t=858">
		<div class="dropdown-container dropdown-container-left dropdown-button-control sort-tools">
	<span title="Display and sorting options" class="button button-secondary dropdown-trigger dropdown-select">
		<i class="icon fa-sort-amount-asc fa-fw" aria-hidden="true"></i>
		<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
	</span>
	<div class="dropdown hidden">
		<div class="pointer"><div class="pointer-inner"></div></div>
		<div class="dropdown-contents">
			<fieldset class="display-options">
							<label>Display: <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select></label>
								<label>Sort by: <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select></label>
				<label>Direction: <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select></label>
								<hr class="dashed" />
				<input type="submit" class="button2" name="sort" value="Go" />
						</fieldset>
		</div>
	</div>
</div>
		</form>
	
	
	
			<div class="pagination">
			10 posts
							&bull; Page <strong>1</strong> of <strong>1</strong>
					</div>
	</div>


<div class="action-bar actions-jump">
		<p class="jumpbox-return">
		<a href="viewforum4d6b.html?f=3" class="left-box arrow-left" accesskey="r">
			<i class="icon fa-angle-left fa-fw icon-black" aria-hidden="true"></i><span>Return to “Configuring and compiling ABINIT”</span>
		</a>
	</p>
	
		<div class="jumpbox dropdown-container dropdown-container-right dropdown-up dropdown-left dropdown-button-control" id="jumpbox">
			<span title="Jump to" class="button button-secondary dropdown-trigger dropdown-select">
				<span>Jump to</span>
				<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
			</span>
		<div class="dropdown">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
																				<li><a href="viewforumffeb.html?f=20" class="jumpbox-forum-link"> <span> News &amp; Announcements</span></a></li>
																<li><a href="viewforum8011.html?f=23" class="jumpbox-forum-link"> <span> Jobs and Other Announcements</span></a></li>
																<li><a href="viewforum58da.html?f=1" class="jumpbox-cat-link"> <span> Building ABINIT</span></a></li>
																<li><a href="viewforum4d6b.html?f=3" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Configuring and compiling ABINIT</span></a></li>
																<li><a href="viewforum31e6.html?f=4" class="jumpbox-cat-link"> <span> Running Abinit</span></a></li>
																<li><a href="viewforumfdc5.html?f=9" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Ground state</span></a></li>
																<li><a href="viewforum15ca.html?f=10" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Response calculations</span></a></li>
																<li><a href="viewforum8a83.html?f=11" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Many-body perturbation theory</span></a></li>
																<li><a href="viewforum01c9.html?f=12" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Other tools and postprocessing in ABINIT</span></a></li>
																<li><a href="viewforum345c.html?f=24" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Python interfacing : Abipy ecosystem</span></a></li>
																<li><a href="viewforum9780.html?f=14" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Link to other codes</span></a></li>
																<li><a href="viewforume774.html?f=5" class="jumpbox-cat-link"> <span> Developing Abinit</span></a></li>
																<li><a href="viewforum218b.html?f=19" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Improving ABINIT</span></a></li>
											</ul>
		</div>
	</div>

	</div>


			</div>


<div id="page-footer" class="page-footer" role="contentinfo">
	<div class="navbar navbar-bottom" role="navigation">
	<div class="inner">

	<ul id="nav-footer" class="nav-footer linklist" role="menubar">
		<li class="breadcrumbs">
									<span class="crumb"><a href="index-2.html" data-navbar-reference="index"><i class="icon fa-home fa-fw" aria-hidden="true"></i><span>Board index</span></a></span>					</li>
		
				
							<li class="rightside">
				<a href="ucp033a.html?mode=delete_cookies" data-ajax="true" data-refresh="true" role="menuitem">
					<i class="icon fa-trash fa-fw" aria-hidden="true"></i><span>Delete cookies</span>
				</a>
			</li>
				
		<li class="rightside" data-last-responsive="true"><a href="app.php/aboutus.html" role="menuitem"><i class="icon fa-info-circle fa-fw" aria-hidden="true"></i><span>About us</span></a></li>			</ul>

	</div>
</div>

	<div class="copyright">
		<script type="text/javascript">
copyright=new Date();

update=copyright.getFullYear();

document.write("Copyright\u0020\u0026copy\u003B 2009 - "+ update +	" ABINIT Discussion Forums All\u0020rights\u0020reserved.");

</script>
<br /><br />		<p class="footer-row">
			<span class="footer-copyright">Flat Style by <a href="http://phpbbstyles.oo.gd/">Ian Bradley</a></span>
		</p>
        <p class="footer-row">
			<span class="footer-copyright">Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited</span>
		</p>
						<p class="footer-row">
			<a class="footer-link" href="ucp4d86.html?mode=privacy" title="Privacy" role="menuitem">
				<span class="footer-link-text">Privacy</span>
			</a>
			|
			<a class="footer-link" href="ucp226b.html?mode=terms" title="Terms" role="menuitem">
				<span class="footer-link-text">Terms</span>
			</a>
		</p>
					</div>

	<div id="darkenwrapper" class="darkenwrapper" data-ajax-error-title="AJAX error" data-ajax-error-text="Something went wrong when processing your request." data-ajax-error-text-abort="User aborted request." data-ajax-error-text-timeout="Your request timed out; please try again." data-ajax-error-text-parsererror="Something went wrong with the request and the server returned an invalid reply.">
		<div id="darken" class="darken">&nbsp;</div>
	</div>

	<div id="phpbb_alert" class="phpbb_alert" data-l-err="Error" data-l-timeout-processing-req="Request timed out.">
		<a href="#" class="alert_close">
			<i class="icon fa-times-circle fa-fw" aria-hidden="true"></i>
		</a>
		<h3 class="alert_title">&nbsp;</h3><p class="alert_text"></p>
	</div>
	<div id="phpbb_confirm" class="phpbb_alert">
		<a href="#" class="alert_close">
			<i class="icon fa-times-circle fa-fw" aria-hidden="true"></i>
		</a>
		<div class="alert_text"></div>
	</div>
</div>

</div>

<div>
	<a id="bottom" class="anchor" accesskey="z"></a>
	</div>

<script src="assets/javascript/jquery.minaea1.js?assets_version=57"></script>
<script src="assets/javascript/coreaea1.js?assets_version=57"></script>



<script>
	(function() {
		var cx = '017804512478788106347\u003Atlftx8kncg4';
		var gcse = document.createElement('script');
		gcse.type = 'text/javascript';
		gcse.async = true;
		gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
			'//cse.google.com/cse.js?cx=' + cx;
		var s = document.getElementsByTagName('script')[0];
		s.parentNode.insertBefore(gcse, s);
	})();
</script>
<script type="text/javascript">
(function($) {  // Avoid conflicts with other libraries

'use strict';
	
	phpbb.addAjaxCallback('reporttosfs', function(data) {
		if (data.postid !== "undefined") {
			$('#sfs' + data.postid).hide();
			phpbb.closeDarkenWrapper(5000);
		}
	});

})(jQuery);
</script>
<script src="ext/hifikabin/clock/styles/all/template/js/js_clockaea1.js?assets_version=57"></script>
<script src="ext/phpbb/collapsiblecategories/styles/all/template/js/collapsiblecategoriesaea1.js?assets_version=57"></script>
<script src="styles/prosilver/template/forum_fnaea1.js?assets_version=57"></script>
<script src="styles/prosilver/template/ajaxaea1.js?assets_version=57"></script>



</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?p=2641 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 02:40:55 GMT -->
</html>
