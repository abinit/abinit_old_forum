<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=3&t=2756&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 03:27:13 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; Cannot compile Abinit 7.8</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>Cannot compile Abinit 7.8</h2>
		<p><a href="viewtopicd9ed.html?f=3&amp;t=2756">https://forum.abinit.org/viewtopic.php?f=3&amp;t=2756</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>Cannot compile Abinit 7.8</h3>
				<div class="date">Posted: <strong>Wed Aug 06, 2014 9:08 pm</strong></div>
				<div class="author">by <strong>abokhanc</strong></div>
				<div class="content">After everything configures i try to compile the latest version of Abinit, but i get the following error:<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>caxpy.f:0: error: bad value (native) for -march= switch<br />caxpy.f:0: error: bad value (native) for -mtune= switch<br />make&#91;5&#93;: *** &#91;caxpy.o&#93; Error 1<br />make&#91;5&#93;: *** Waiting for unfinished jobs....<br />cdotc.f:0: error: bad value (native) for -march= switch<br />cdotc.f:0: error: bad value (native) for -mtune= switch<br />make&#91;5&#93;: *** &#91;cdotc.o&#93; Error 1<br />cdotu.f:0: error: bad value (native) for -march= switch<br />cdotu.f:0: error: bad value (native) for -mtune= switch<br />ccopy.f:0: error: bad value (native) for -march= switch<br />ccopy.f:0: error: bad value (native) for -mtune= switch<br />make&#91;5&#93;: *** &#91;cdotu.o&#93; Error 1<br />make&#91;5&#93;: *** &#91;ccopy.o&#93; Error 1<br />cgbmv.f:0: error: bad value (native) for -march= switch<br />cgbmv.f:0: error: bad value (native) for -mtune= switch<br />make&#91;5&#93;: *** &#91;cgbmv.o&#93; Error 1<br />make&#91;5&#93;: Leaving directory `/home/stud2/abinit-7.8.1/build/fallbacks/sources/lap&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ack-abinit_6.10/blas'<br />make&#91;4&#93;: *** &#91;all_targets&#93; Error 2<br />make&#91;4&#93;: Leaving directory `/home/stud2/abinit-7.8.1/build/fallbacks/sources/lap&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ack-abinit_6.10'<br />make&#91;3&#93;: *** &#91;stamps/linalg-build-stamp&#93; Error 2<br />make&#91;3&#93;: Leaving directory `/home/stud2/abinit-7.8.1/build/fallbacks'<br />make&#91;2&#93;: &#91;all-local&#93; Error 2 (ignored)<br />Checking build of linalg fallback<br />test -e stamps/linalg-install-stamp<br />make&#91;2&#93;: *** &#91;all-local&#93; Error 1<br />make&#91;2&#93;: Leaving directory `/home/stud2/abinit-7.8.1/build/fallbacks'<br />make&#91;1&#93;: *** &#91;multi&#93; Error 2<br />make&#91;1&#93;: Leaving directory `/home/stud2/abinit-7.8.1/build'<br />make: *** &#91;mj4&#93; Error 2<br /></code></pre></div><br /><br />My configuration summary is as follows:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>Summary of important options:<br /><br />&nbsp; * C compiler&nbsp; &nbsp; &nbsp; : gnu version 4.1<br />&nbsp; * Fortran compiler: gnu version 4.1<br />&nbsp; * architecture&nbsp; &nbsp; : intel xeon (64 bits)<br /><br />&nbsp; * debugging&nbsp; &nbsp; &nbsp; &nbsp;: yes<br />&nbsp; * optimizations&nbsp; &nbsp;: standard<br /><br />&nbsp; * OpenMP enabled&nbsp; : no (collapse: ignored)<br />&nbsp; * MPI&nbsp; &nbsp; enabled&nbsp; : no<br />&nbsp; * MPI-IO enabled&nbsp; : no<br />&nbsp; * GPU&nbsp; &nbsp; enabled&nbsp; : no (flavor: none)<br /><br />&nbsp; * TRIO&nbsp; &nbsp;flavor = none<br />&nbsp; * TIMER&nbsp; flavor = abinit (libs: ignored)<br />&nbsp; * LINALG flavor = netlib-fallback (libs: ignored)<br />&nbsp; * ALGO&nbsp; &nbsp;flavor = none (libs: ignored)<br />&nbsp; * FFT&nbsp; &nbsp; flavor = none (libs: ignored)<br />&nbsp; * MATH&nbsp; &nbsp;flavor = none (libs: ignored)<br />&nbsp; * DFT&nbsp; &nbsp; flavor = none<br /><br />Configuration complete.<br />You may now type &quot;make&quot; to build ABINIT.</code></pre></div></div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Cannot compile Abinit 7.8&nbsp;&nbsp;<span style="color: #006600">[SOLVED]</span></h3>
				<div class="date">Posted: <strong>Thu Aug 07, 2014 4:23 pm</strong></div>
				<div class="author">by <strong>Jordan</strong></div>
				<div class="content">Hi,<br /><br />You are using GCC 4.1 which is not maintained anymore, which means that the compilation might not work and the results might not be correct.<br /><br />According to your system, I would recommand first to upgrade to a more recent version of GCC, I would recommand GCC 4.7 at least, 4.8 and 4.9 would be even better. See for instance <a href="ftp://ftp.gnu.org/gnu/gcc/" class="postlink">ftp://ftp.gnu.org/gnu/gcc/</a>.<br />If you don't want to compile a new compiler, you may look into your distribution packages what is available.<br /><br />Once done, I would also suggest to use an other linear algebra library insteas of the abinit fallback, you check into your distribution packages whether there is lapack and blas or atlas, or since your are using an intel xeon cpu, you could download the intel compiler and the MKL library which as an optimized implementation of lapack and blas (and fftw3) for intel cpus.<br />See <a href="https://software.intel.com/en-us/non-commercial-software-development" class="postlink">https://software.intel.com/en-us/non-commercial-software-development</a> to download the latest intel and MKL library (if you decide to use the intel compiler, you don't need to intall the recent GCC compiler mentioned above). The installation is automatically done and does not require any compilation compared to installing the new GCC.<br /><br />See abinit-7.8.2/doc/build/config-examples/bb_xeon-intel14_buda.ac or bb_xeon-intel14_tikal.ac for configuration files with intel14 and MKL. <br /><br />Good luck<br /><br />Jordan</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=3&t=2756&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 03:27:13 GMT -->
</html>
