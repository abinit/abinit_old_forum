<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=14&t=1202&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 01:49:35 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; UPF Pseudopotential</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>UPF Pseudopotential</h2>
		<p><a href="viewtopic6bb7.html?f=14&amp;t=1202">https://forum.abinit.org/viewtopic.php?f=14&amp;t=1202</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>UPF Pseudopotential</h3>
				<div class="date">Posted: <strong>Wed Jul 06, 2011 4:42 am</strong></div>
				<div class="author">by <strong>Tim</strong></div>
				<div class="content">Does ABINIT support UPF pseudopotentials?  Based on another forum post I found, it appears that it does.  And when I run ABINIT (6.8.1) with a UPF pseudopotential it does not complain.  However I'm seeing a strange bug.  When I run a calculation on Zn with ecut=20, I get the following error in the output:<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>- pspatm: opening atomic psp file&nbsp; &nbsp; Zn_HSCV_PBE-1.0.upf<br />&nbsp; Reading pseudopotential file in UPF format...<br />&nbsp; ...done<br />&nbsp;upf2abinit: XC string from pseudopotential is :<br />&gt; XXX&nbsp; CCC&nbsp; XXX CCC&nbsp; &lt;<br /><br />&nbsp;pspatm: WARNING -<br />&nbsp; Pseudopotential file pspxc=&nbsp; &nbsp; &nbsp; &nbsp;2,<br />&nbsp; not equal to input ixc=&nbsp; &nbsp; &nbsp; 11.<br />&nbsp; These parameters must agree to get the same xc <br />&nbsp; in ABINIT code as in psp construction.<br />&nbsp; Action : check psp design or input file.<br />&nbsp; Assume experienced user. Execution will continue.<br /><br />&nbsp;pspatm: epsatm=&nbsp; &nbsp;63.12654446<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;--- l&nbsp; ekb(1:nproj) --&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1&nbsp; &nbsp;-0.022489<br />forrtl: severe (27): too many records in I/O statement, unit -5, file Internal Formatted Write<br />Image&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PC&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Routine&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Line&nbsp; &nbsp; &nbsp; &nbsp; Source&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />libirc.so&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 00002B1931D0E396&nbsp; Unknown&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Unknown&nbsp; Unknown<br />libirc.so&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 00002B1931D0D328&nbsp; Unknown&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Unknown&nbsp; Unknown<br />libifcoremt.so.5&nbsp; &nbsp;00002B193169C736&nbsp; Unknown&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Unknown&nbsp; Unknown<br />libifcoremt.so.5&nbsp; &nbsp;00002B19316236A4&nbsp; Unknown&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Unknown&nbsp; Unknown<br />libifcoremt.so.5&nbsp; &nbsp;00002B1931622F06&nbsp; Unknown&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Unknown&nbsp; Unknown<br />libifcoremt.so.5&nbsp; &nbsp;00002B193166C17C&nbsp; Unknown&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Unknown&nbsp; Unknown<br />abinit-serial&nbsp; &nbsp; &nbsp; 0000000000F7DFCE&nbsp; Unknown&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Unknown&nbsp; Unknown<br />abinit-serial&nbsp; &nbsp; &nbsp; 0000000000F69E78&nbsp; Unknown&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Unknown&nbsp; Unknown<br />abinit-serial&nbsp; &nbsp; &nbsp; 0000000000510885&nbsp; Unknown&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Unknown&nbsp; Unknown<br />abinit-serial&nbsp; &nbsp; &nbsp; 0000000000468517&nbsp; Unknown&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Unknown&nbsp; Unknown<br />abinit-serial&nbsp; &nbsp; &nbsp; 000000000045C8B2&nbsp; Unknown&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Unknown&nbsp; Unknown<br />abinit-serial&nbsp; &nbsp; &nbsp; 0000000000453AFA&nbsp; Unknown&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Unknown&nbsp; Unknown<br />abinit-serial&nbsp; &nbsp; &nbsp; 0000000000452B92&nbsp; Unknown&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Unknown&nbsp; Unknown<br />libc.so.6&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0000003904C1C3FB&nbsp; Unknown&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Unknown&nbsp; Unknown<br />abinit-serial&nbsp; &nbsp; &nbsp; 0000000000452ADA&nbsp; Unknown&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Unknown&nbsp; Unknown</code></pre></div><br /><br />When I use ecut=40, the calculation appears to run fine, except I still get this in the output:<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>&nbsp;pspatm: epsatm=&nbsp; &nbsp;63.12654446<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;--- l&nbsp; ekb(1:nproj) --&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1&nbsp; &nbsp;-0.022489<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2</code></pre></div><br /><br />Is the last line supposed to be blank after the 2?  I can't seem to find an obvious trend for why this error shows up with some values of ecut and not others.  There is some evidence that the error is less likely to appear for high values of ecut.</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=14&t=1202&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 01:49:35 GMT -->
</html>
