<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=1154&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 03:53:43 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; how to treat a cluster as a molecule</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>how to treat a cluster as a molecule</h2>
		<p><a href="viewtopicd6c3-3.html?f=9&amp;t=1154">https://forum.abinit.org/viewtopic.php?f=9&amp;t=1154</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>how to treat a cluster as a molecule</h3>
				<div class="date">Posted: <strong>Sat Jun 11, 2011 12:51 am</strong></div>
				<div class="author">by <strong>golden</strong></div>
				<div class="content">HI,<br />  I have been trying to treat a cluster of 13 gold atoms as single molecule i.e as a single k-point. But if I select kptopt 1 and nkpt 1 ; it always gives me an error message<br /> getkgrid.F90:446:BUG<br />   The argument nkpt=     1, does not match<br />  the number of k points generated by kptopt, kptrlatt, shiftk,<br />  and the eventual symmetries, that is, nkpt=     4.<br />  However, note that it might be due to the user,<br />  if nkpt is explicitely defined in the input file.<br />  In this case, please check your input file.<br />  Action : contact ABINIT group.<br /><br />---- <br />1) How can I include my cluster of 13 atoms as a single entity? If anyone could point out what am I doing incorrectly in the input file, I would appreciate the help. But when I comment out nkpt 1 the job runs fine, but it takes 4 k-points which i do not want to happen.<br /><br />following is my input file;<br />ionmov  3              # Use the modified Broyden algorithm<br />ntime   10             # Maximum number of Broyden &quot;timesteps&quot;<br />tolmxf  5.0d-4         # Stopping criterion for the geometry optimization : when <br />                       # the residual forces are less than tolmxf, the Broyden <br />                       # algorithm can stop<br />#nsym=1  #nosymmetry<br /><br />#starting value of the<br />#atomic coordinates<br />xangst   0.000000    0.000000    0.000000<br />         0.849720    1.069510    2.492360<br />        -2.491980   -1.263910   -0.196890<br />         2.502080    1.253390    0.209750<br />        -0.848840   -1.068710   -2.494550<br />        -0.024370    2.889930    0.133860<br />         1.974360   -1.593130    1.393900<br />        -1.975910    1.613340   -1.381670<br />         0.029030   -2.880950   -0.147810<br />        -0.875280   -1.401910    2.339300<br />         2.079160   -1.113220   -1.624250<br />        -2.082130    1.116450    1.628250<br />         0.857510    1.406510   -2.336120<br /><br />toldff  5.0d-5         # Will stop the SCF cycle when, twice in a row, <br />                       # the difference between two consecutive evaluations of<br />                       # forces differ by less than toldff (in Hartree/Bohr)<br />#toldfe  1.0d-6<br />#------------------------------------------------------------------------------<br />#Definition of the unit cell<br />acell 8 8 8  angstroms  # The keyword &quot;acell&quot; refers to the<br />                  # lengths of the primitive vectors (in Bohr)<br />#rprim 1 0 0  0 1 0  0 0 1 # This line, defining orthogonal primitive vectors,<br />                           # is commented, because it is precisely the default value of rprim<br /><br />#Definition of the atom types<br />ntypat 1   #2 types of atom<br />znucl 79 <br /><br />#Definition of the atoms<br />natom 13        # There are 13  atoms<br />typat 1 1 1 1 1 1 1 1 1 1 1 1 1       #<br /><br />#Definition of the planewave basis set<br />ecut 20.0     # Maximal kinetic energy cut-off, in Hartree<br /><br />#Definition of the k-point grid<br />kptopt 1          # Enter the k points manually <br />nshiftk 1<br />shiftk 0.5 0.5 0.5<br /><span style="color: #FF0000">#nkpt 1            # Only one k point is needed for isolated system,<br />                  # taken by default to be 0.0 0.0 0.0</span>  So when I comment this it runs fine !!!! *<br />ngkpt 2 2 2<br />Chksymbreak 0<br /><br />#Definition of the SCF procedure<br />nstep 200          # Maximal number of SCF cycles<br />#toldfe is no more defined, as toldff is used above... <br />diemac 2.0        # Although this is not mandatory, it is worth to<br />                  # precondition the SCF cycle. The model dielectric<br />                  # function used as the standard preconditioner<br />                  # is described in the &quot;dielng&quot; input variable section.<br />                  # Here, we follow the prescriptions for molecules<br />                  # in a big box<br /><br /><br />==== <br />2) but when it runs , it does not convergers, (but ofcourse i can increase SCF cycles ) But my biggest concern is after 50 runs the icosahedral structure for the 13 atoms is lost.  <br />I've been using Troullier-Martins pseudopotentials  for my calculations , so is there any reliable pseudopototentials for gold ? <br /><br />Thank you very much</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: how to treat a cluster as a molecule</h3>
				<div class="date">Posted: <strong>Wed Jun 22, 2011 4:23 am</strong></div>
				<div class="author">by <strong>xmilchmann</strong></div>
				<div class="content">Dude, use kptopt 0, not kptopt 1. Then you can use nkpt 1 and it should run fine. Read the documentation, homie. In fact, there's actually a tutorial (for running parallel jobs) that treats a gold cluster like you are doing. It might be worth taking a look at. You should find it in your tests/paral/Input directory where you installed abinit. good luck.</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=1154&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 03:53:43 GMT -->
</html>
