<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=10&t=383&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 00:42:23 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; error with memory</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>error with memory</h2>
		<p><a href="viewtopiceb88.html?f=10&amp;t=383">https://forum.abinit.org/viewtopic.php?f=10&amp;t=383</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>error with memory</h3>
				<div class="date">Posted: <strong>Mon Jun 07, 2010 9:19 am</strong></div>
				<div class="author">by <strong>bmalvandi</strong></div>
				<div class="content">hello<br />I ran rf1 lesson for LaCoO3 in cubic phase and I had an error about lowing memory<br />my problem was solved because I wrote xcart instead of xred but now again I have this error in 3th program in rf1 lesson for LaCoO3 in rhombohedral phase and when I decrease the ecut for example both memory (memory I need and memory I have) decrease and again the error is appeared.<br />I think it is not really about memory and maybe it is about something in my input variables<br />please help me<br />thanks<br /><br /># Crystalline LaCoO3(rhombohedral) : computation of the second derivative of the total energy<br />#<br /><br />#Response-function calculation, with q=0<br />  rfphon   1           <br /> rfatpol   1 1          <br />   rfdir   1 0 0        <br />    nqpt   1            <br />     qpt   0 0 0        <br />  kptopt   2           <br />  tolvrs   1.0d-5      <br />    iscf   7           <br />  irdwfk   1           <br /> <br /><br />#######################################################################<br />#Common input variables<br /><br />#Definition of the unit cell<br />acell 3*10.163        <br /><br />#Definition of the atom types<br />ntypat 3              <br />znucl 57 27 8          <br />                       <br /><br />#Definition of the atoms<br />natom 10                       <br />typat 1 1 2 2 3 3 3 3 3 3      <br />xred                            <br />    0.2500  0.2500  0.2500      <br />    0.7500  0.7500  0.7500     <br />    0.0000  0.0000  0.0000    <br />    0.5000  0.5000  0.5000<br />    0.1982  0.3018  0.7500<br />    0.8018  0.6982  0.2500<br />    0.3018  0.7500  0.1982<br />    0.6982  0.2500  0.8018<br />    0.7500  0.1982  0.3018<br />    0.2500  0.8018  0.6982  <br /><br />angdeg   3*60.798  <br /><br />#Gives the number of band, explicitely (do not take the default)<br />nband  30               #<br /><br />#Exchange-correlation functional<br />ixc 1           <br /><br />#Definition of the planewave basis set<br />ecut    85.0           <br /><br />#Definition of the k-point grid<br />kptrlatt -4  4  4      <br />          4 -4  4      <br />          4  4 -4      <br /><br />#Definition of the SCF procedure<br />nstep 75               <br />diemac 9.0            <br /><br /><br /><strong class="text-strong">and the error in log</strong><br /><br />  ABINIT <br />  <br />  Give name for formatted input file: <br />tmrf1_3.in<br />  Give name for formatted output file:<br />tmrf1_3.out<br />  Give root name for generic input files:<br />tmrf1_xi<br />  Give root name for generic output files:<br />tmrf1_xo<br />  Give root name for generic temporary files:<br />tmrf1_x<br /><br /> <br /><br /><br /><br /><br /><br />  <br />- input  file    -&gt; tmrf1_3.in<br />- output file    -&gt; tmrf1_3.outB<br />- root for input  files -&gt; tmrf1_xi<br />- root for output files -&gt; tmrf1_xo<br /><br /> instrng :    75 lines of input have been read<br /><br /> iofn2 : Please give name of formatted atomic psp file<br /> iofn2 : for atom type   1 , psp file is ../../Psps_for_tests/57la.pspnc<br />  read the values zionpsp=  3.0 , pspcod=   1 , lmax=   3<br /><br /> iofn2 : Please give name of formatted atomic psp file<br /> iofn2 : for atom type   2 , psp file is ../../Psps_for_tests/27co.pspnc<br />  read the values zionpsp=  9.0 , pspcod=   1 , lmax=   2<br /><br /> iofn2 : Please give name of formatted atomic psp file<br /> iofn2 : for atom type   3 , psp file is ../../Psps_for_tests/8o.pspnc<br />  read the values zionpsp=  6.0 , pspcod=   1 , lmax=   1<br /><br /> iofn2 : deduce mpsang  =   4, n1xccc  =2501.<br /><br /> invars1m : enter jdtset=     0<br /><br /> ingeo : use angdeg to generate rprim.<br /> ingeo : takes atomic coordinates from input array xred<br /> symspgr : the symmetry operation no.   1 is the identity<br /> symspgr : the symmetry operation no.   2 is an inversion<br /> symplanes : the symmetry operation no.   3 is a secondary c plane<br /> symaxes : the symmetry operation no.   4 is a 2-axis <br /> symaxes : the symmetry operation no.   5 is a 3-axis <br /> symspgr : the symmetry operation no.   6 is a -3 axis <br /> symplanes : the symmetry operation no.   7 is a secondary c plane<br /> symaxes : the symmetry operation no.   8 is a 2-axis <br /> symaxes : the symmetry operation no.   9 is a 3-axis <br /> symspgr : the symmetry operation no.  10 is a -3 axis <br /> symplanes : the symmetry operation no.  11 is a secondary c plane<br /> symaxes : the symmetry operation no.  12 is a 2-axis <br /> symspgr : spgroup= 167  R-3 c   (=D3d^6)<br /> getkgrid : length of smallest supercell vector (bohr)=    5.783766E+01<br />       Simple Lattice Grid<br /> invars1: mkmem  undefined in the input file. Use default mkmem  = nkpt<br /> invars1: With nkpt_me=  128 and mkmem  =   128, ground state wf handled in core.<br /> invars1: mkqmem undefined in the input file. Use default mkqmem = nkpt<br /> invars1: With nkpt_me=  128 and mkqmem =   128, ground state wf handled in core.<br /> invars1: mk1mem undefined in the input file. Use default mk1mem = nkpt<br /> invars1: With nkpt_me=  128 and mk1mem =   128, ground state wf handled in core.<br /><br /> Symmetries : space group R-3 c (#167); Bravais hR (rhombohedral)<br /> getkgrid : length of smallest supercell vector (bohr)=    5.783766E+01<br />       Simple Lattice Grid<br /><br /> inkpts : istwfk preprocessed, gives following first values (max. 6): 1 1 1 1 1 1<br /> chkneu : initialized the occupation numbers for occopt=    1<br />    spin-unpolarized case :<br />  2.00  2.00  2.00  2.00  2.00  2.00  2.00  2.00  2.00  2.00  2.00  2.00<br />  2.00  2.00  2.00  2.00  2.00  2.00  2.00  2.00  2.00  2.00  2.00  2.00<br />  2.00  2.00  2.00  2.00  2.00  2.00<br /> For input ecut=  8.000000E+01 best grid ngfft=      90      90      90<br />       max ecut=  9.675018E+01<br /> getng: value of mgfft=      90 and nfft=      729000<br /> getng: values of ngfft(4),ngfft(5),ngfft(6)      91      91      90<br /> getmpw: optimal value of mpw=   25861<br /> getmpw: optimal value of mpw=   25861<br /><br /> iofn2 : deduce lmnmax  =  15, lnmax  =   3,<br />                lmnmaxso=  15, lnmaxso=   3.<br /> symq3 : found symmetry   1 preserves q<br /> symq3 : found symmetry    1 + TimeReversal preserves q<br /> symq3 : found symmetry   2 preserves q<br /> symq3 : found symmetry    2 + TimeReversal preserves q<br /> symq3 : found symmetry   3 preserves q<br /> symq3 : found symmetry    3 + TimeReversal preserves q<br /> symq3 : found symmetry   4 preserves q<br /> symq3 : found symmetry    4 + TimeReversal preserves q<br /> symq3 : found symmetry   5 preserves q<br /> symq3 : found symmetry    5 + TimeReversal preserves q<br /> symq3 : found symmetry   6 preserves q<br /> symq3 : found symmetry    6 + TimeReversal preserves q<br /> symq3 : found symmetry   7 preserves q<br /> symq3 : found symmetry    7 + TimeReversal preserves q<br /> symq3 : found symmetry   8 preserves q<br /> symq3 : found symmetry    8 + TimeReversal preserves q<br /> symq3 : found symmetry   9 preserves q<br /> symq3 : found symmetry    9 + TimeReversal preserves q<br /> symq3 : found symmetry  10 preserves q<br /> symq3 : found symmetry   10 + TimeReversal preserves q<br /> symq3 : found symmetry  11 preserves q<br /> symq3 : found symmetry   11 + TimeReversal preserves q<br /> symq3 : found symmetry  12 preserves q<br /> symq3 : found symmetry   12 + TimeReversal preserves q<br /> symq3 : able to use time-reversal symmetry.<br />  (except for gamma, not yet able to use time-reversal symmetry)<br />  memorf : analysis of memory needs<br />================================================================================<br /> Values of the parameters that define the memory need of the present run (RF).<br />   intxc =         0    iscf =         7     ixc =         1  lmnmax =         3<br />   lnmax =         3   mband =        30  mffmem =         1   mgfft =        90<br />P  mkmem =       128  mkqmem =       128  mk1mem =       128 mpssoang=         4<br />     mpw =     25861  mqgrid =      1201   natom =        10    nfft =    729000<br />    nkpt =       128  nloalg =         4  nspden =         1 nspinor =         1<br />  nsppol =         1    nsym =        12  n1xccc =      2501  ntypat =         3<br />  occopt =         1<br />================================================================================<br />P This job should need less than                    4797.602 Mbytes of memory.<br />  Rough estimation (10% accuracy) of disk space for files :<br />  WF disk file :   1515.295 Mbytes ; DEN or POT disk file :      5.564 Mbytes.<br />================================================================================<br /><br /> Biggest array : cg(disk), with   1515.2950 MBytes.<br /> memana : allocated an array of   1515.295 Mbytes, for testing purposes.<br /><br /> memana : ERROR -<br />  Test failed to allocate    4797.602 Mbytes<br />  It is not worth to continue<br />  Action : modify input variable to fit the available memory.<br />  or increase limit on available memory.<br /><br /> leave_new : decision taken to exit ...<br />1</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: error with memory</h3>
				<div class="date">Posted: <strong>Thu Jun 10, 2010 9:13 am</strong></div>
				<div class="author">by <strong>mverstra</strong></div>
				<div class="content">No it _really_ is a memory problem. You have a huge energy cutoff, and abinit needs more than 4 Gb of memory to do this calculation. Your computer does not have them so it stops. You should believe abinit when it stops with an error message!<br /><br />Find softer pseudopotentials to reduce ecut, or run on a parallel machine, or add more ram...<br /><br />matthieu</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=10&t=383&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 00:42:23 GMT -->
</html>
