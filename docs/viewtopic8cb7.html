<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=3&t=2747&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 03:26:10 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; Error compiling abinit-7.2.2 on 32-bit ubuntu-14</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>Error compiling abinit-7.2.2 on 32-bit ubuntu-14</h2>
		<p><a href="viewtopicc0df.html?f=3&amp;t=2747">https://forum.abinit.org/viewtopic.php?f=3&amp;t=2747</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>Error compiling abinit-7.2.2 on 32-bit ubuntu-14</h3>
				<div class="date">Posted: <strong>Sun Jul 27, 2014 12:59 am</strong></div>
				<div class="author">by <strong>esr3d</strong></div>
				<div class="content">Hi,<br /><br />I'm trying to compile Abinit-7.2.2 on a 32-bit Ubunutu 14 system.  I am using the following .ac configuration file:<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>&nbsp; enable_mpi=&quot;yes&quot;<br />&nbsp; &nbsp; enable_mpi_io=&quot;yes&quot;<br />&nbsp; &nbsp; with_mpi_prefix=&quot;/usr&quot;<br />&nbsp; &nbsp; with_netcdf_incs=&quot;-I/usr/include&quot;<br />&nbsp; &nbsp; with_netcdf_libs=&quot;-L/usr/lib -lnetcdf -lnetcdff&quot;<br />&nbsp; &nbsp; with_fft_flavor=&quot;fftw3&quot;<br />&nbsp; &nbsp; with_fft_incs=&quot;-I/usr/include/&quot;<br />&nbsp; &nbsp; with_fft_libs=&quot;-L/usr/lib/i386-linux-gnu -lfftw3 -lfftw3f&quot;<br />&nbsp; &nbsp; with_linalg_flavor=&quot;atlas&quot;<br />&nbsp; &nbsp; with_linalg_libs=&quot;-L/usr/lib -llapack -lf77blas -lcblas -latlas&quot;<br />&nbsp; &nbsp; with_dft_flavor=&quot;atompaw+bigdft+libxc+wannier90&quot;<br />&nbsp; &nbsp; enable_gw_dpc=&quot;yes&quot;<br />&nbsp; &nbsp; enable_maintainer_checks=&quot;no&quot;<br />&nbsp; &nbsp; enable_test_timeout=&quot;yes&quot;<br />&nbsp; &nbsp; enable_gui_build=&quot;no&quot;</code></pre></div><br /><br />I compile using ./configure --with-config-file=&quot;./ellen.ac&quot;<br /><br />However, I get this error when I make mj4<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>../../src/11_memory_mpi/lib11_memory_mpi.a(m_profiling.o):/home/ellen/Desktop/abinit-7.2.2/src/11_memory_mpi/m_profiling.F90:83: first defined here<br />collect2: error: ld returned 1 exit status<br /></code></pre></div><br /><br />Does anyone have suggestions for how to resolve this error?<br />Thanks!</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Error compiling abinit-7.2.2 on 32-bit ubuntu-14</h3>
				<div class="date">Posted: <strong>Wed Jul 30, 2014 3:50 pm</strong></div>
				<div class="author">by <strong>Jordan</strong></div>
				<div class="content">Hi,<br /><br />I do not any clue for your problem, but you should rather use the latest version of abinit : 7.8.2 just released a few days ago. It has many bugs fixed and improved support.<br /><br />If you get the same error, come back and we'll help you. Provide version of you compiler and libraries, as well as the log of your configure step (config.log) and a few more lines before the error raised.<br /><br />Jordan</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Error compiling abinit-7.2.2 on 32-bit ubuntu-14</h3>
				<div class="date">Posted: <strong>Fri Aug 08, 2014 9:09 pm</strong></div>
				<div class="author">by <strong>esr3d</strong></div>
				<div class="content">Hi,<br /><br />Thank you, I have successfully compiled the new version of Abinit (7.8.2).<br /><br />However, I cannot get the tests to run properly.<br />In the tests directory, I run ./runtests.py and get the following output:<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>Traceback (most recent call last):<br />&nbsp; File &quot;./runtests.py&quot;, line 457, in &lt;module&gt;<br />&nbsp; &nbsp; sys.exit(main())<br />&nbsp; File &quot;./runtests.py&quot;, line 269, in main<br />&nbsp; &nbsp; build_env = BuildEnvironment(build_dir_path)<br />&nbsp; File &quot;/home/ellen/Desktop/abinit-7.8.2/tests/pymods/testsuite.py&quot;, line 908, in __init__<br />&nbsp; &nbsp; build_dir = find_top_build_tree(build_dir)<br />&nbsp; File &quot;/home/ellen/Desktop/abinit-7.8.2/tests/pymods/testsuite.py&quot;, line 732, in find_top_build_tree<br />&nbsp; &nbsp; raise RuntimeError(&quot;Cannot find the ABINIT build tree after %s trials&quot; % ntrials)<br />RuntimeError: Cannot find the ABINIT build tree after 10 trials<br /></code></pre></div><br /><br />Do you have any suggestions for running the tests?  Is there a way I can find the location of the build tree?<br />Thank you!</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Error compiling abinit-7.2.2 on 32-bit ubuntu-14</h3>
				<div class="date">Posted: <strong>Fri Aug 08, 2014 9:21 pm</strong></div>
				<div class="author">by <strong>Jordan</strong></div>
				<div class="content">Hi,<br /><br />Glad you figured out to compile abinit.<br /><br />Usually, what I do, in the abinit root directory /aaa/b/bbb/abinit-7.8,2 for intance, I make a new directory called build and configure/compile the code inside this build directory.<br />At the end of the compilation you have a test directory in which I run ../../runtests.py<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>cd abinit-7.8.2<br />mkdir build<br />cd build<br />../configure &#91;--with-config-file=XXX ....&#93;<br />make mj4<br />cd tests<br />../../runtests.py &#91;-j 4&#93;<br /></code></pre></div><br /><br />The script tries to find where the executable of abinit is with 10 tries, so if you are not where it expects you to be.... it does not work.<br /><br />If it still does not work, make sure you have an executable abinit in build/src/98_main/ <br /><br />Cheers,<br /><br />Jordan</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=3&t=2747&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 03:26:10 GMT -->
</html>
