<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=3092&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Sep 2024 23:48:54 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; 24 core running, 48core not for Version 7.10.4 of ABINIT</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>24 core running, 48core not for Version 7.10.4 of ABINIT</h2>
		<p><a href="viewtopicd67d.html?f=9&amp;t=3092">https://forum.abinit.org/viewtopic.php?f=9&amp;t=3092</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>24 core running, 48core not for Version 7.10.4 of ABINIT</h3>
				<div class="date">Posted: <strong>Sat Sep 05, 2015 10:23 am</strong></div>
				<div class="author">by <strong>onion2440</strong></div>
				<div class="content">hello:<br />     RT, with the Version 7.10.4 of ABINIT, use 24 core can run correctly while 48 not, when one do the calculation along the tutorials: lesson on polarization and finite electric field,  Part-0. Ground-state properties of AlAs and general parameters. The log file gives no information after the sentence:chkinp: Checking input parameters for consistency.<br />     I wanna know who gives me such a nightmare for nearly 2 days!</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: 24 core running, 48core not for Version 7.10.4 of ABINIT</h3>
				<div class="date">Posted: <strong>Sat Sep 05, 2015 6:01 pm</strong></div>
				<div class="author">by <strong>jzwanzig</strong></div>
				<div class="content">which input file is causing problems, and what are the details of your build (compiler, version, linear algebra and fft libraries, mpi)? BTW nobody is &quot;giving you nightmares&quot;, this is an open source project that is done by many people in collaboration and given away for free to the community (you're welcome).</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: 24 core running, 48core not for Version 7.10.4 of ABINIT</h3>
				<div class="date">Posted: <strong>Tue Sep 08, 2015 7:02 am</strong></div>
				<div class="author">by <strong>onion2440</strong></div>
				<div class="content">hello:<br />     It's just a humor and I hope you do not mind at it. BTW, if so i am very sorry for you!<br />     The output details are attached below, please chek it, thanks. <br />Bestwishes<br />-----------------------------------------<br /> === Compiler Suite === <br />  C compiler       : intel11.1<br />  C++ compiler     : gnu11.1<br />  Fortran compiler : intel11.1<br />  CFLAGS           :  -g -O2 -vec-report0<br />  CXXFLAGS         :  -g -O2 -mtune=native -march=native<br />  FCFLAGS          :  -g -extend-source -vec-report0 -noaltparam -nofpscomp<br />  FC_LDFLAGS       :    -static-intel -static-libgcc<br />    <br /> === Optimizations === <br />  Debug level        : basic<br />  Optimization level : standard<br />  Architecture       : intel_xeon<br /> <br /> === Multicore ===<br />  Parallel build : yes<br />  Parallel I/O   : auto<br />  openMP support : no <br />  GPU support    : no                <br /> <br /> === Connectors / Fallbacks === <br />  Connectors on : yes<br />  Fallbacks on  : yes<br />  DFT flavor    : none<br />  FFT flavor    : none<br />  LINALG flavor : netlib-fallback<br />  MATH flavor   : none<br />  TIMER flavor  : abinit<br />  TRIO flavor   : none<br /> <br /> === Experimental features === <br />  Bindings            : @enable_bindings@<br />  Exports             : no           <br />  GW double-precision : no</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: 24 core running, 48core not for Version 7.10.4 of ABINIT</h3>
				<div class="date">Posted: <strong>Tue Sep 08, 2015 7:38 pm</strong></div>
				<div class="author">by <strong>jbeuken</strong></div>
				<div class="content">Hi,<br /><br />You can't use ifort 11.x to compile abinit 7.x<br /><br />for intel compilers, only these versions are supported : &gt;= 12.1.7, &gt;= 13.1.3, &gt;= 14.0.4, == 15.0.3.187<br /><br />regards<br /><br />jmb</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: 24 core running, 48core not for Version 7.10.4 of ABINIT</h3>
				<div class="date">Posted: <strong>Wed Sep 09, 2015 7:05 pm</strong></div>
				<div class="author">by <strong>onion2440</strong></div>
				<div class="content">Dear Prof.<br />     Now I need to use gcc compilers, do you know which version should be better?<br />Bestwishes<br /><br /><blockquote><div><cite>jbeuken wrote:</cite>Hi,<br /><br />You can't use ifort 11.x to compile abinit 7.x<br /><br />for intel compilers, only these versions are supported : &gt;= 12.1.7, &gt;= 13.1.3, &gt;= 14.0.4, == 15.0.3.187<br /><br />regards<br /><br />jmb</div></blockquote></div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: 24 core running, 48core not for Version 7.10.4 of ABINIT</h3>
				<div class="date">Posted: <strong>Wed Sep 09, 2015 7:54 pm</strong></div>
				<div class="author">by <strong>onion2440</strong></div>
				<div class="content">Dear Prof. <br />     I'm sorry for trouble you again.<br />     Do you know which version of abinit can compile with ifort 11.x?<br />Bestwishes<br /><br /><blockquote><div><cite>jbeuken wrote:</cite>Hi,<br /><br />You can't use ifort 11.x to compile abinit 7.x<br /><br />for intel compilers, only these versions are supported : &gt;= 12.1.7, &gt;= 13.1.3, &gt;= 14.0.4, == 15.0.3.187<br /><br />regards<br /><br />jmb</div></blockquote></div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: 24 core running, 48core not for Version 7.10.4 of ABINIT</h3>
				<div class="date">Posted: <strong>Thu Sep 10, 2015 8:43 pm</strong></div>
				<div class="author">by <strong>jbeuken</strong></div>
				<div class="content">I think that the last version abinit compatible with intel 11 is 7.6<br /><br /><!-- m --><a class="postlink" href="http://www.abinit.org/downloads/packages/7-6.4">http://www.abinit.org/downloads/packages/7-6.4</a><!-- m --><br /><br />regards<br /><br />jmb</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: 24 core running, 48core not for Version 7.10.4 of ABINIT</h3>
				<div class="date">Posted: <strong>Sat Sep 12, 2015 11:52 am</strong></div>
				<div class="author">by <strong>onion2440</strong></div>
				<div class="content">Hi,<br />    compile abinit 7.6.4 with intel 11.1 and it still can't work smoothly. <br />    The configuration command is attached below:<br />     ./configure --enable-mpi  --with-mpi-prefix=/opt/apps/intel11_1/mvapich2/1.6/ FC=mpif90 --prefix=/home1/03646/onionbit/software/764abinit/abinit-7.6.4/build CC=&quot;icc&quot; CXX=&quot;icpc&quot;  --enable-64bit-flags<br />   <br />    The env is like this:<br /><br />     === Build Information ===<br />  Version       : 7.6.4<br />  Build target  : x86_64_linux_intel11.1<br />  Build date    : 20150912<br /><br /> === Compiler Suite ===<br />  C compiler       : intel11.1<br />  CFLAGS           :  -g -O2 -vec-report0<br />  C++ compiler     : gnu11.1<br />  CXXFLAGS         : -m64 -g -O2 -mtune=native -march=native<br />  Fortran compiler : intel11.1<br />  FCFLAGS          :  -g -extend-source -vec-report0 -noaltparam -nofpscomp<br />  FC_LDFLAGS       :    -static-intel -static-libgcc<br /><br /> === Optimizations ===<br />  Debug level        : basic<br />  Optimization level : standard<br />  Architecture       : intel_xeon<br /><br /> === Multicore ===<br />  Parallel build : yes<br />  Parallel I/O   : auto<br />  Time tracing   : no<br />  openMP support : no<br />  GPU support    : no<br /><br /> === Connectors / Fallbacks ===<br />  Connectors on : yes<br />  Fallbacks on  : yes<br />  DFT flavor    : none<br />  FFT flavor    : none<br />  LINALG flavor : netlib-fallback<br />  MATH flavor   : none<br />  TIMER flavor  : abinit<br />  TRIO flavor   : none<br /><br /> === Experimental features ===<br />  Bindings            : no<br />  Exports             : no<br />  <br />    The error information is like this:<br /><br />     --- !WARNING<br />message: |<br />    Restart of self-consistent calculation need translated wavefunctions.<br />src_file: Subroutine Unknown<br />src_line: 0<br />...<br /><br />  Indeed, critical differences between current calculation and<br />  restart file have been detected in:<br />        * the number, position, or weight of k-points<br />        * the format of wavefunctions (istwfk)<br />================================================================================<br />-inwffil : will read wavefunctions from disk file trf2_xo_DS1_WFK<br />forrtl: severe (174): SIGSEGV, segmentation fault occurred<br />Image              PC                Routine            Line        Source<br />abinit             00000000014D204E  Unknown               Unknown  Unknown<br />abinit             00000000013D8A20  Unknown               Unknown  Unknown<br />abinit             0000000000566AD8  Unknown               Unknown  Unknown<br />abinit             00000000004D0C56  Unknown               Unknown  Unknown     <br /><br />Then i use a little CPU per core (change 12/core to 8/core) and the error like this:<br /><br />--- !BUG<br />message: |<br />    The second dimension of the FFT grid, ngfft(2), should be  a multiple of the number of processors for the FFT, nproc_fft.  However, ngfft(2)=   20 and nproc_fft=    3<br />src_file: Subroutine Unknown<br />src_line: 0<br />...<br /><br /><br /> leave_new : decision taken to exit ...<br />calling XMPI_ABORT...<br /> MPI_ERROR_STRING: Unknown error.  Please file a bug report.<br />application called MPI_Abort(MPI_COMM_WORLD, 13) - process 0<br />application called MPI_Abort(MPI_COMM_WORLD, 13) - process 7<br />application called MPI_Abort(MPI_COMM_WORLD, 13) - process 6<br />application called MPI_Abort(MPI_COMM_WORLD, 13) - process 4<br />application called MPI_Abort(MPI_COMM_WORLD, 13) - process 1<br />application called MPI_Abort(MPI_COMM_WORLD, 13) - process 2<br />application called MPI_Abort(MPI_COMM_WORLD, 13) - process 3<br />application called MPI_Abort(MPI_COMM_WORLD, 13) - process 5<br />MPI process (rank: 6) terminated unexpectedly on c309-302.ls4.tacc.utexas.edu<br />Exit code -5 signaled from c309-302<br />forrtl: error (69): process interrupted (SIGINT)<br />Image              PC                Routine            Line        Source<br />libmpich.so.1.2    00002B7056EE2F5D  Unknown               Unknown  Unknown<br /><br />do you know how to fix it ?<br /><br />Bestwishes.<br /><br /><blockquote><div><cite>jbeuken wrote:</cite>I think that the last version abinit compatible with intel 11 is 7.6<br /><br /><!-- m --><a class="postlink" href="http://www.abinit.org/downloads/packages/7-6.4">http://www.abinit.org/downloads/packages/7-6.4</a><!-- m --><br /><br />regards<br /><br />jmb</div></blockquote></div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: 24 core running, 48core not for Version 7.10.4 of ABINIT</h3>
				<div class="date">Posted: <strong>Sun Sep 13, 2015 11:27 am</strong></div>
				<div class="author">by <strong>jbeuken</strong></div>
				<div class="content">Hi,<br /><br />first of all, the right command for mpi configuration is :<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>./configure --enable-mpi --with-mpi-prefix=/opt/apps/intel11_1/mvapich2/1.6/&nbsp; --prefix=/home1/03646/onionbit/software/764abinit/abinit-7.6.4/build&nbsp; --enable-64bit-flags</code></pre></div><br /><br />but , you can start with a serial version :<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>./configure --disable-mpi FC=&quot;ifort&quot; CC=&quot;icc&quot; CXX=&quot;icpc&quot; --enable-64bit-flags </code></pre></div><br /><br />regards<br /><br />jmb</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: 24 core running, 48core not for Version 7.10.4 of ABINIT</h3>
				<div class="date">Posted: <strong>Sun Sep 13, 2015 1:09 pm</strong></div>
				<div class="author">by <strong>onion2440</strong></div>
				<div class="content">Hi,<br />   Change to the abinit 7.0.5 and it seems work well. But abinit 7.2.2can not work well.<br /><br /> Bestwishes<br /><br /><blockquote><div><cite>jbeuken wrote:</cite>Hi,<br /><br />first of all, the right command for mpi configuration is :<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>./configure --enable-mpi --with-mpi-prefix=/opt/apps/intel11_1/mvapich2/1.6/&nbsp; --prefix=/home1/03646/onionbit/software/764abinit/abinit-7.6.4/build&nbsp; --enable-64bit-flags</code></pre></div><br /><br />but , you can start with a serial version :<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>./configure --disable-mpi FC=&quot;ifort&quot; CC=&quot;icc&quot; CXX=&quot;icpc&quot; --enable-64bit-flags </code></pre></div><br /><br />regards<br /><br />jmb</div></blockquote></div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=3092&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Sep 2024 23:48:54 GMT -->
</html>
