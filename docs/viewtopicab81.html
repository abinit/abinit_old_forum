<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=10&t=4346&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Sep 2024 19:43:47 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; D-field freezes in parallel (and tips on converging?)</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>D-field freezes in parallel (and tips on converging?)</h2>
		<p><a href="viewtopicbcea.html?f=10&amp;t=4346">https://forum.abinit.org/viewtopic.php?f=10&amp;t=4346</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>D-field freezes in parallel (and tips on converging?)&nbsp;&nbsp;<span style="color: #006600">[SOLVED]</span></h3>
				<div class="date">Posted: <strong>Sat Mar 21, 2020 10:55 am</strong></div>
				<div class="author">by <strong>dbennett1994</strong></div>
				<div class="content">Hi all,<br>
<br>
I'm trying to run a set of finite (reduced) D-field calculations for a 5 atom unit cell perovskite and am having some problems. I am doing a relaxation of the atomic coordinates and the lattice vector that lines up with the D-field. When I run the calculation in parallel (4 cores), the first calculation with zero field runs fine, but the finite field calculation freezes in the SCF cycle, always on the 3rd step.<br>
<br>

<div class="inline-attachment">
			
		
		
				<dl class="file">
			<dt><img src="images/upload_icons/txt.gif" alt="" /> <a class="postlink" href="download/filede7f.php?id=1837">lao.in</a></dt>
						<dd>(6.75 KiB) Downloaded 199 times</dd>
		</dl>
		
		
			</div>
<div class="inline-attachment">
			
		
		
				<dl class="file">
			<dt><img src="images/upload_icons/txt.gif" alt="" /> <a class="postlink" href="download/filed0bf.php?id=1838">lao_parallel.out</a></dt>
						<dd>(51.98 KiB) Downloaded 207 times</dd>
		</dl>
		
		
			</div>
<div class="inline-attachment">
			
		
		
				<dl class="file">
			<dt><img src="images/upload_icons/txt.gif" alt="" /> <a class="postlink" href="download/filea3c0.php?id=1839">log_parallel.out</a></dt>
						<dd>(146.02 KiB) Downloaded 212 times</dd>
		</dl>
		
		
			</div>

<br>
When I run in serial, this doesn't happen. Similar problems were reported a few years ago <a href="viewtopice51c.html?f=10&amp;t=3680" class="postlink">here</a>, but I don't think a solution was found.<br>
<br>
As a separate issue, the finite D-field calculations are not converging in serial, and I would appreciate any advice on getting them to converge. I was using a red_dfield of around 10% of the reduced polarisation and the program suggested to try using a smaller one. Even when I go to 1% of the reduced polarisation it still doesn't converge.<br>
<br>

<div class="inline-attachment">
			
		
		
				<dl class="file">
			<dt><img src="images/upload_icons/txt.gif" alt="" /> <a class="postlink" href="download/file264d.php?id=1840">lao_serial.out</a></dt>
						<dd>(52.04 KiB) Downloaded 184 times</dd>
		</dl>
		
		
			</div>
<div class="inline-attachment">
			
		
		
				<dl class="file">
			<dt><img src="images/upload_icons/txt.gif" alt="" /> <a class="postlink" href="download/file4db6.php?id=1841">log_serial.out</a></dt>
						<dd>(177.83 KiB) Downloaded 209 times</dd>
		</dl>
		
		
			</div>

<br>
Thank you</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: D-field freezes in parallel (and tips on converging?)</h3>
				<div class="date">Posted: <strong>Mon Apr 20, 2020 8:30 am</strong></div>
				<div class="author">by <strong>ebousquet</strong></div>
				<div class="content">Dear dbennett1994,<br>
The applied D-field has not been implemented properly and the developer did not make it correctly for parallel. <br>
Same applies for phonons under applied electric field, only sequential up to somebody put his hands in... <br>
Best wishes,<br>
Eric</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: D-field freezes in parallel (and tips on converging?)</h3>
				<div class="date">Posted: <strong>Wed Apr 22, 2020 12:07 pm</strong></div>
				<div class="author">by <strong>dbennett1994</strong></div>
				<div class="content">Dear Eric,<br>
<br>
Thanks for letting me know. I'll mark this as solved now<br>
<br>
Danny</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=10&t=4346&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Sep 2024 19:43:47 GMT -->
</html>
