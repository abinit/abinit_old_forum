<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=3&t=955&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 02:42:52 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; Installing abinitv6.6.1 on rocks cluster with PGI compiler</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>Installing abinitv6.6.1 on rocks cluster with PGI compiler</h2>
		<p><a href="viewtopic9682.html?f=3&amp;t=955">https://forum.abinit.org/viewtopic.php?f=3&amp;t=955</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>Installing abinitv6.6.1 on rocks cluster with PGI compiler</h3>
				<div class="date">Posted: <strong>Fri Mar 11, 2011 4:11 pm</strong></div>
				<div class="author">by <strong>murphyp</strong></div>
				<div class="content">Dear Abinitioners,<br /><br />I need some help compiling abinitv6.6.1 using the PGI compiler. I am trying to compile the sequential file, as simply as possible, but I run into the following error:<br /><br />pgf90 -DHAVE_CONFIG_H -I. -I../../../src/12_hide_mpi -I../.. -I../../src/incs -I../../../src/incs -g -c -o m_xmpi.o ../../../src/12_hide_mpi/m_xmpi.F90<br />PGF90-F-0004-Unable to open MODULE file defs_basis.mod (../../../src/12_hide_mpi/m_xmpi.F90: 32)<br /><br />I understand it is an error found by another user in previous version of abinit, with an older version of the compiler. The fix of including -module in the configure introduces other errors for netcdf to find other modules. Am I missing some simple flags?<br /><br />Here are the config files:<br /><br /><br />Thank you.<br /><br />Best regards,<br />Philip</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Installing abinitv6.6.1 on rocks cluster with PGI compil</h3>
				<div class="date">Posted: <strong>Fri Mar 11, 2011 6:12 pm</strong></div>
				<div class="author">by <strong>murphyp</strong></div>
				<div class="content">Hi,<br /><br />Ultimately made it work by compiling the plugins first (netcdf and etsf_io), then adding<br /><br />FCFLAGS_EXTRA=&quot;-module ${PWD}/src/mods -I${PWD}/plugins/netcdf -I${PWD}/plugins/etsf_io&quot;<br /><br />and compiling the rest. After much compilation, I come across this error:<br /><br />ILM file: can't find intrinsic ..sqrt<br />PGF90-F-0000-Internal compiler error. Errors in ILM file       1 (../../../src/56_xc/mkvxcgga3.F90: 91)<br /><br />During the compilation, there were many comments such as <br /><br />PGF90-W-0435-Array declared with zero size (../../../src/56_recipspace/m_gsphere.F90: 1754)<br /><br />which seem a bit odd.<br /><br />Please help.<br /><br />Thank you<br /><br />Philip</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Installing abinitv6.6.1 on rocks cluster with PGI compil</h3>
				<div class="date">Posted: <strong>Wed Mar 16, 2011 1:24 pm</strong></div>
				<div class="author">by <strong>pouillon</strong></div>
				<div class="content">We don't support PGI compilers anymore, because even when one succeeds in compiling Abinit with them, the test suite usually fails.<br /><br />If you really want to use PGI and get successful results with the test suite, please let us know about all tricks you had to use. We'll then be able to think whether we could reintroduce support for those compilers.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Installing abinitv6.6.1 on rocks cluster with PGI compil</h3>
				<div class="date">Posted: <strong>Tue Mar 29, 2011 12:19 pm</strong></div>
				<div class="author">by <strong>murphyp</strong></div>
				<div class="content">Thank you, Yann. I'd rather make my life easier. Which compiler would you recommend as working better? The cluster here runs Rocks on Opteron cores.<br /><br />Best Regards,<br />Philip</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Installing abinitv6.6.1 on rocks cluster with PGI compil</h3>
				<div class="date">Posted: <strong>Tue Mar 29, 2011 12:38 pm</strong></div>
				<div class="author">by <strong>Alain_Jacques</strong></div>
				<div class="content">Hi Philip,<br /><br />gcc/gfortran, let's say versions &gt;= 4.3, are working fine. And if you have time to tune it better, consider ATLAS and FFTW3 external libraries.<br /><br />Kind regards,<br /><br />Alain</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=3&t=955&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 02:42:52 GMT -->
</html>
