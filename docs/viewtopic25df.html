<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=3&t=2247&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 03:41:27 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; installation problem  abinit 7.2.2</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>installation problem  abinit 7.2.2</h2>
		<p><a href="viewtopice040.html?f=3&amp;t=2247">https://forum.abinit.org/viewtopic.php?f=3&amp;t=2247</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>installation problem  abinit 7.2.2</h3>
				<div class="date">Posted: <strong>Thu Aug 15, 2013 5:10 pm</strong></div>
				<div class="author">by <strong>spaz</strong></div>
				<div class="content">dear all,<br /> I am trying to install abinit 7.2.2 on opensuse 12.3 system. first i installed intel  C and fortran compilers then mpich to /opt file. then added  related paths to .bashrc  then i confıgured the abinit &quot;ac &quot; file as here and coppied it to ~/.abinit/build file and coppied all fallbacks files to ~/.abinit/tarballs file. <br /><br />when ı use <br /><br />&quot;./configure --prefix=/opt/abinit/mpich2&quot;<br /><br /> command to confıgure abınıt it gives<br /><br /> &quot;configure: error: the requested mkl+scalapack linear algebra flavor is not supported on this architecture&quot;<br /><br />  error on screen. if i changed mkl+scalapack to custom this warning disappears. but this time i faced with the <br /><br />&quot;The error &quot;HAVE_MPI1 and HAVE_MPI2 are both undefined&quot; error. i read too much forum topics (&quot;--with-mpi-level=2&quot; or &quot;--with-mpi-level=1&quot; didnt worked )to solve this problem  but  nothing changed.<br /><br />indium.ac file content: <br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>--enable-mpi=yes<br />--with-mpi-prefix=/opt/mpich2/intel<br />--with-trio-flavor=&quot;none&quot;<br />--with-linalg-flavor=&quot;mkl+scalapack&quot;<br />--with_linalg_libs=&quot;-L/opt/intel/Compiler/mkl/lib/intel64 -Wl,--start-group -lmkl_scalapack_lp64&nbsp; -lmkl_blacs_lp64 -lmkl_intel_lp64 -lmkl_sequential -lmkl_core -Wl,--end-group<br />--with-dft-flavor=&quot;atompaw+bigdft+libxc&quot;<br />--enable-gw-dpc=&quot;yes&quot;<br />--enable-test-timeout=&quot;yes&quot;<br />--enable-gui-build=&quot;no&quot;</code></pre></div></div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: installation problem  abinit 7.2.2</h3>
				<div class="date">Posted: <strong>Thu Aug 15, 2013 11:44 pm</strong></div>
				<div class="author">by <strong>jbeuken</strong></div>
				<div class="content">Hi,<br /><br />first of all, scalapack is not yet officially supported... <img class="smilies" src="images/smilies/icon_rolleyes.gif" alt=":roll:" title="Rolling Eyes" /> <br /><br />we have not yet tested intel 12 compiler under opensuse,<br />but we have a nightly bot that tests a configuration with &quot;native&quot; packages of opensuse 12.1<br /><br />packages : fftw3, openmpi 1.4.3, gfortran 4.6.2, netcdf 4<br /><br />and my build.ac file is <br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>enable_mpi=&quot;yes&quot;<br />enable_mpi_io=&quot;yes&quot;<br />with_mpi_prefix=&quot;/usr/lib64/mpi/gcc/openmpi&quot;<br />with_trio_flavor=&quot;netcdf+etsf_io+fox&quot;<br />with_netcdf_incs=&quot;-I/usr/include&quot;<br />with_netcdf_libs=&quot;-L/usr/lib64 -lnetcdf -lnetcdff&quot;<br />with_fft_flavor=&quot;fftw3&quot;<br />with_fft_incs=&quot;-I/usr/include&quot;<br />with_fft_libs=&quot;-L/usr/lib64 -lfftw3 -lfftw3f&quot;<br />with_linalg_flavor=&quot;netlib&quot;<br />with_linalg_libs=&quot;-L/usr/lib64 -llapack -lblas&quot;<br />with_dft_flavor=&quot;atompaw+bigdft+libxc+wannier90&quot;<br />enable_clib=&quot;yes&quot;<br />enable_gw_dpc=&quot;yes&quot;</code></pre></div><br /><br />and the command :<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>./configure --with-config-file=./build.ac</code></pre></div><br /><br /><br />to resolve your problem, can you send the config.log ?<br /><br />regards<br /><br />jmb</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: installation problem  abinit 7.2.2</h3>
				<div class="date">Posted: <strong>Fri Aug 16, 2013 1:02 am</strong></div>
				<div class="author">by <strong>spaz</strong></div>
				<div class="content">hi again,<br /><br />iused the build.ac file as below: <br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>enable_mpi=&quot;yes&quot;<br />enable_mpi_io=&quot;yes&quot;<br />with_mpi_prefix=&quot;/opt/mpich2/intel&quot;<br />#with_trio_flavor=&quot;netcdf+etsf_io+fox&quot;<br />with_trio_flavor=&quot;none&quot;<br />#with_netcdf_incs=&quot;-I/usr/include&quot;<br />#with_netcdf_libs=&quot;-L/usr/lib64 -libnetcdf -lnetcdff&quot;<br />with_fft_flavor=&quot;fftw3&quot;<br />with_fft_incs=&quot;-I/usr/include&quot;<br />with_fft_libs=&quot;-L/usr/lib64 -lfftw3 -lfftw3f&quot;<br />with_linalg_flavor=&quot;netlib&quot;<br />with_linalg_libs=&quot;-L/usr/lib64 -llapack -lblas&quot;<br />with_dft_flavor=&quot;atompaw+bigdft+libxc+wannier90&quot;<br />with_mpi_level=&quot;1&quot;<br />with-tardir=&quot;/home/menderes/.abinit/tarballs&quot;<br />enable_clib=&quot;yes&quot;</code></pre></div><br /><br />with the command <div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>./configure --prefix=/opt/abinit/mpich2&nbsp; </code></pre></div>./configure --prefix=/opt/abinit/mpich2  <br /><br />after this it gives the summary as here<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>Summary of important options:<br /><br />&nbsp; * C compiler&nbsp; &nbsp; &nbsp; : gnu version 4.7<br />&nbsp; * Fortran compiler: gnu version 4.7<br />&nbsp; * architecture&nbsp; &nbsp; : unknown unknown (64 bits)<br /><br />&nbsp; * debugging&nbsp; &nbsp; &nbsp; &nbsp;: basic<br />&nbsp; * optimizations&nbsp; &nbsp;: standard<br /><br />&nbsp; * OpenMP enabled&nbsp; : no (collapse: ignored)<br />&nbsp; * MPI&nbsp; &nbsp; enabled&nbsp; : yes<br />&nbsp; * MPI-IO enabled&nbsp; : yes<br />&nbsp; * GPU&nbsp; &nbsp; enabled&nbsp; : no (none)<br /><br />&nbsp; * TRIO&nbsp; &nbsp;flavor = none<br />&nbsp; * TIMER&nbsp; flavor = abinit (libs: ignored)<br />&nbsp; * LINALG flavor = netlib-fallback (libs: ignored)<br />&nbsp; * ALGO&nbsp; &nbsp;flavor = none (libs: ignored)<br />&nbsp; * FFT&nbsp; &nbsp; flavor = fftw3 (libs: user-defined)<br />&nbsp; * MATH&nbsp; &nbsp;flavor = none (libs: ignored)<br />&nbsp; * DFT&nbsp; &nbsp; flavor = libxc-fallback+atompaw-fallback+bigdft-fallback+wannier90-fallback<br /><br /></code></pre></div><br /><br />then i did make mj4 and it ended with this message <br />&quot;make[5]: Entering directory `/home/menderes/programs/abinit-7.2.2/src/11_memory_mpi'<br />gfortran -DHAVE_CONFIG_H -I. -I../.. -I../../src/incs -I../../src/incs -I/home/menderes/programs/abinit-7.2.2/fallbacks/exports/include   -ffree-form -J/home/menderes/programs/abinit-7.2.2/src/mods  -O2 -mtune=native -march=native -g -ffree-line-length-none   -c -o m_profiling.o m_profiling.F90<br />m_profiling.F90:275: Error: Can't open included file 'mpif.h'<br />make[5]: *** [m_profiling.o] Error 1<br />make[5]: Leaving directory `/home/menderes/programs/abinit-7.2.2/src/11_memory_mpi'<br />make[4]: *** [all-recursive] Error 1<br />make[4]: Leaving directory `/home/menderes/programs/abinit-7.2.2/src'<br />make[3]: *** [all-recursive] Error 1<br />make[3]: Leaving directory `/home/menderes/programs/abinit-7.2.2'<br />make[2]: *** [all] Error 2<br />make[2]: Leaving directory `/home/menderes/programs/abinit-7.2.2'<br />make[1]: *** [multi] Error 2<br />make[1]: Leaving directory `/home/menderes/programs/abinit-7.2.2':</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: installation problem  abinit 7.2.2</h3>
				<div class="date">Posted: <strong>Fri Aug 16, 2013 4:19 pm</strong></div>
				<div class="author">by <strong>pouillon</strong></div>
				<div class="content">Looks like the build system of Abinit did not find the mpif90 compiler wrapper, but since you forced enable_mpi to &quot;yes&quot;, it has considered that you know what you're doing. You will find more information at the beginning of the configure output and in the &quot;Multicore architecture support&quot; section.<br /><br />Please check the following:<br /><ul><li>/opt/mpich2/intel/bin/mpif90 exists and is executable;</li><li>/opt/mpich2/intel/lib exists and is in the $LD_LIBRARY_PATH variable.</li></ul></div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: installation problem  abinit 7.2.2</h3>
				<div class="date">Posted: <strong>Fri Aug 16, 2013 6:17 pm</strong></div>
				<div class="author">by <strong>spaz</strong></div>
				<div class="content">hii......<br /><br />I began to build abinit from the beginning and to do that re-installed all intel fortran and C compilaer then mpich2 into /opt directory and all paths are defined as follows in .bashrc file<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code># Intel Compilers<br />source /opt/intel/composer_xe_2013.0.079/bin/compilervars.sh intel64<br />source /opt/intel/composer_xe_2013.0.079/mkl/bin/mklvars.sh intel64<br />#<br /><br /># Mpich2<br />ulimit -s unlimited<br />export OMP_NUM_THREADS=2<br />PATH=/opt/mpich2/intel/bin:$PATH<br />export PATH<br />LD_LIBRARY_PATH=/opt/mpich2/intel/lib64:$LD_LIBRARY_PATH<br />export LD_LIBRARY_PATH<br />#</code></pre></div><br /><br />then I configured the abinit with build.ac directory at ~/.abinit/build and  copied all tarballs to ~/.abinit/tarballs directory\ then typed the command<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>/configure --prefix=/opt/abinit/mpich2&nbsp; --enable-mpi=yes –with-mpi-prefix=/opt/mpich2/intel –with-trio-flavor=”none” --with-linalg-flavor=”mkl+scalapack” --with-linalg-libs=&quot;-L/opt/intel/composer_xe_2013.0.079/mkl/lib/intel64 -Wl,--start-group -libmkl_scalapack_lp64&nbsp; -libmkl_blacs_lp64 -libmkl_intel_lp64 <br />&nbsp;-libmkl_sequential -libmkl_core -Wl,--end-group&quot;<br />--with-dft-flavor=”atompaw+bigdft+libxc” --enable-gui-build=”no” --enable-gw-dpc=”yes” --enable-test-timeout=”yes” </code></pre></div><br /><br />then the summary is as follows<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>Summary of important options:<br /><br />&nbsp; * C compiler&nbsp; &nbsp; &nbsp; : intel version 13.0<br />&nbsp; * Fortran compiler: intel version 13.0<br />&nbsp; * architecture&nbsp; &nbsp; : unknown unknown (64 bits)<br /><br />&nbsp; * debugging&nbsp; &nbsp; &nbsp; &nbsp;: basic<br />&nbsp; * optimizations&nbsp; &nbsp;: standard<br /><br />&nbsp; * OpenMP enabled&nbsp; : no (collapse: ignored)<br />&nbsp; * MPI&nbsp; &nbsp; enabled&nbsp; : yes<br />&nbsp; * MPI-IO enabled&nbsp; : no<br />&nbsp; * GPU&nbsp; &nbsp; enabled&nbsp; : no (none)<br /><br />&nbsp; * TRIO&nbsp; &nbsp;flavor = none<br />&nbsp; * TIMER&nbsp; flavor = abinit (libs: ignored)<br />&nbsp; * LINALG flavor = mkl+scalapack (libs: auto-detected)<br />&nbsp; * ALGO&nbsp; &nbsp;flavor = none (libs: ignored)<br />&nbsp; * FFT&nbsp; &nbsp; flavor = none (libs: ignored)<br />&nbsp; * MATH&nbsp; &nbsp;flavor = none (libs: ignored)<br />&nbsp; * DFT&nbsp; &nbsp; flavor = libxc-fallback+atompaw-fallback+bigdft-fallback+wannier90-fallback<br /><br />Configuration complete.<br />You may now type &quot;make&quot; to build ABINIT.<br />(or, on a SMP machine, &quot;make mj4&quot;, or &quot;make multi multi_nprocs=&lt;n&gt;&quot;)</code></pre></div><br /><br />then typed `make`<br /><br />after too many outputs.... I faced with this error message!!!!!<br />….............<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>/opt/mpich2/intel/bin/mpif90 -DHAVE_CONFIG_H -I. -I../.. -I../../src/incs -I../../src/incs -I/home/menderes/programs/abinit-7.2.2/fallbacks/exports/include&nbsp; &nbsp;-free -module /home/menderes/programs/abinit-7.2.2/src/mods&nbsp; -O2 -xHost -g -extend-source -vec-report0 -noaltparam -nofpscomp&nbsp; &nbsp;-c -o xdefineoff.o xdefineoff.F90<br />rm -f lib51_manage_mpi.a<br />ar rc lib51_manage_mpi.a clnmpi_atom.o clnmpi_grid.o clnmpi_img.o clnmpi_pert.o distrb2.o get_npert_rbz.o herald.o initmpi_atom.o initmpi_band.o initmpi_grid.o initmpi_img.o initmpi_pert.o initmpi_seq.o initmpi_world.o leave_test.o mpi_enreg_tools.o m_io_redirect.o m_wffile.o m_xredistribute.o pawbcast.o pawrad_bcast.o pawtab_bcast.o pre_gather.o pre_scatter.o pspheads_comm.o xdefineoff.o interfaces_51_manage_mpi.o <br />ranlib lib51_manage_mpi.a<br />make&#91;3&#93;: Leaving directory `/home/menderes/programs/abinit-7.2.2/src/51_manage_mpi'<br />Making all in 52_fft_mpi_noabirule<br />make&#91;3&#93;: Entering directory `/home/menderes/programs/abinit-7.2.2/src/52_fft_mpi_noabirule'<br />/opt/mpich2/intel/bin/mpif90 -DHAVE_CONFIG_H -I. -I../.. -I../../src/incs -I../../src/incs -I/home/menderes/programs/abinit-7.2.2/fallbacks/exports/include&nbsp; &nbsp;-free -module /home/menderes/programs/abinit-7.2.2/src/mods&nbsp; -O2 -xHost -g -extend-source -vec-report0 -noaltparam -nofpscomp&nbsp; &nbsp;-c -o interfaces_52_fft_mpi_noabirule.o interfaces_52_fft_mpi_noabirule.F90<br />/opt/mpich2/intel/bin/mpif90 -DHAVE_CONFIG_H -I. -I../.. -I../../src/incs -I../../src/incs -I/home/menderes/programs/abinit-7.2.2/fallbacks/exports/include&nbsp; &nbsp;-free -module /home/menderes/programs/abinit-7.2.2/src/mods&nbsp; -O2 -xHost -g -extend-source -vec-report0 -noaltparam -nofpscomp&nbsp; &nbsp;-c -o accrho.o accrho.F90<br />accrho.F90(76): error #6401: The attributes of this name conflict with those made accessible by a USE statement.&nbsp; &nbsp;&#91;MPI_COMM&#93;<br />&nbsp; &nbsp; &nbsp; &nbsp; integer&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; :: md1,md2proc,md3,mpi_comm,nproc,iproc,paral_kgb<br />----------------------------------------------^<br />accrho.F90(224): error #6405: The same named entity from different modules and/or program units cannot be referenced.&nbsp; &nbsp;&#91;MPI_COMM&#93;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; MPI_double_precision,mpi_comm,ierr)<br />-----------------------------------------------^<br />accrho.F90(224): error #6478: A type-name must not be used as a variable.&nbsp; &nbsp;&#91;MPI_COMM&#93;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; MPI_double_precision,mpi_comm,ierr)<br />-----------------------------------------------^<br />compilation aborted for accrho.F90 (code 1)<br />make&#91;3&#93;: *** &#91;accrho.o&#93; Error 1<br />make&#91;3&#93;: Leaving directory `/home/menderes/programs/abinit-7.2.2/src/52_fft_mpi_noabirule'<br />make&#91;2&#93;: *** &#91;all-recursive&#93; Error 1<br />make&#91;2&#93;: Leaving directory `/home/menderes/programs/abinit-7.2.2/src'<br />make&#91;1&#93;: *** &#91;all-recursive&#93; Error 1<br />make&#91;1&#93;: Leaving directory `/home/menderes/programs/abinit-7.2.2'<br />make: *** &#91;all&#93; Error 2</code></pre></div></div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: installation problem  abinit 7.2.2</h3>
				<div class="date">Posted: <strong>Fri Aug 16, 2013 10:11 pm</strong></div>
				<div class="author">by <strong>jbeuken</strong></div>
				<div class="content">Hi,<br /><br />some questions and suggestions...<br /><br />-  which version of mpich2 ?<br />-  minimum  intel version usable is  13.0.1  or  &gt;= 13.1.2<br />-  &quot;--with_trio_flavor = netcdf+etsf_io&quot;    is mandatory<br />- try first  :  --with-linalg-flavor=”mkl”<br /><br />I made a test with mpich2 1.5 , intel 12.1.4 and this build.ac :<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>enable_gw_dpc = yes<br />enable_mpi = yes<br />enable_mpi_io = yes<br />fcflags_opt_77_ddb = -O1 -xHost -g -extend-source -vec-report0 -noaltparam -nofpscomp<br />with_dft_flavor = none<br />with_trio_flavor = netcdf+etsf_io<br />with_mpi_prefix = /usr/local/mpich2_ifort12<br />with_fft_flavor = fftw3<br />with_fft_libs = -L/opt/intel/composerxe/mkl/lib/intel64 -Wl,--start-group&nbsp; -lmkl_intel_lp64 -lmkl_sequential -lmkl_core -Wl,--end-group<br />with_linalg_flavor = mkl<br />with_linalg_libs = -L/opt/intel/composerxe/mkl/lib/intel64 -Wl,--start-group&nbsp; -lmkl_intel_lp64 -lmkl_sequential -lmkl_core -Wl,--end-group<br />status = certified</code></pre></div><br /><br />and it works ( compilation complete successfully and make Tfast succeeded )<br /><br />( REM : there is a problem with -O2 to compile src/77_ddb/nmsq_pure_gkk_sumfs.F90 )<br /><br />regards<br /><br />jmb</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: installation problem  abinit 7.2.2</h3>
				<div class="date">Posted: <strong>Fri Aug 16, 2013 10:23 pm</strong></div>
				<div class="author">by <strong>spaz</strong></div>
				<div class="content">mpich2 version is 3.0.4<br />intel version is l_ccompxe_intel64_2013.0.079<br /><br />i will tried your way but nothing changed still it gives same error <br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>-----------------------------------------------^<br />applypot.F90(431): error #6478: A type-name must not be used as a variable.&nbsp; &nbsp;&#91;MPI_COMM&#93;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; MPI_double_precision,mpi_comm,ierr)<br />-----------------------------------------------^<br />compilation aborted for applypot.F90 (code 1)<br />make&#91;5&#93;: *** &#91;applypot.o&#93; Error 1<br />make&#91;5&#93;: Leaving directory `/home/menderes/programs/abinit-7.2.2/src/52_fft_mpi_noabirule'<br />make&#91;4&#93;: *** &#91;all-recursive&#93; Error 1<br />make&#91;4&#93;: Leaving directory `/home/menderes/programs/abinit-7.2.2/src'<br />make&#91;3&#93;: *** &#91;all-recursive&#93; Error 1<br />make&#91;3&#93;: Leaving directory `/home/menderes/programs/abinit-7.2.2'<br />make&#91;2&#93;: *** &#91;all&#93; Error 2<br />make&#91;2&#93;: Leaving directory `/home/menderes/programs/abinit-7.2.2'<br />make&#91;1&#93;: *** &#91;multi&#93; Error 2<br />make&#91;1&#93;: Leaving directory `/home/menderes/programs/abinit-7.2.2'<br />make: *** &#91;mj4&#93; Error 2<br /></code></pre></div></div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: installation problem  abinit 7.2.2</h3>
				<div class="date">Posted: <strong>Sat Aug 17, 2013 11:59 am</strong></div>
				<div class="author">by <strong>spaz</strong></div>
				<div class="content">hi Pouillon !<br /><br /> ==============================================================================<br /> === Multicore architecture startup                                         ===<br /> ==============================================================================<br /><br />configure: Initializing MPI support<br />configure: looking for MPI in /opt/mpich2/intel<br />checking for a MPI C compiler... /opt/mpich2/intel/bin/mpicc<br />checking for a MPI C++ compiler... /opt/mpich2/intel/bin/mpicxx<br />checking for a MPI Fortran compiler... /opt/mpich2/intel/bin/mpif90<br />checking for a MPI runner... /opt/mpich2/intel/bin/mpirun<br />configure: GPU support disabled from command-line<br /><br /><br />i followed your way to solve the problem and know all mpi and intel compilers are recognized by the abinit package but there are still some problems which I couldn't understand<br /><br />here is the config.log file..... i'll be glad if you can help me thx for your time <img class="smilies" src="images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /></div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: installation problem  abinit 7.2.2</h3>
				<div class="date">Posted: <strong>Wed Aug 21, 2013 9:28 pm</strong></div>
				<div class="author">by <strong>jbeuken</strong></div>
				<div class="content">Hi,<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>-----------------------------------------------^<br />applypot.F90(431): error #6478: A type-name must not be used as a variable.&nbsp; &nbsp;&#91;MPI_COMM&#93;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; MPI_double_precision,mpi_comm,ierr)<br />-----------------------------------------------^<br />compilation aborted for applypot.F90 (code 1)</code></pre></div><br /><br />ha !  I remember  : this problem is corrected in the last released version 7.4.1 !<br /><br />mpi_comm is use by mpich3 <br />if you replace mpi_comm by mpicomm in src/applypot.F90 and src/accrho.F90 ( as done in 7.4.1 ) , the compilation will succeed...<br /><br />PS : intel 13.0.0 is not recommended : use 13.0.1 or &gt;= 13.1.2<br /><br />regards</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: installation problem  abinit 7.2.2&nbsp;&nbsp;<span style="color: #006600">[SOLVED]</span></h3>
				<div class="date">Posted: <strong>Fri Aug 23, 2013 12:07 am</strong></div>
				<div class="author">by <strong>spaz</strong></div>
				<div class="content">thx for help  <img class="smilies" src="images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /><br /><br />after too many different combinations of compilers and versions of abinit i succeded to buil abinit without error and can compile it parallel <img class="smilies" src="images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /><br /><br />initially i changed mpich2 version to mpich2-1.4.1p1 and reinstall all of the intel compilers and mpich2 then configured abinit with above build file.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: installation problem  abinit 7.2.2</h3>
				<div class="date">Posted: <strong>Fri Aug 23, 2013 8:48 pm</strong></div>
				<div class="author">by <strong>jbeuken</strong></div>
				<div class="content">Hi,<br /><br /><blockquote class="uncited"><div> an error &quot;ssh: Could not resolve hostname..........&quot; .</div></blockquote><br /><br />this is not a abinit problem...<br /><br /><blockquote class="uncited"><div>and i learn an important thing about failures, &quot; Failures help us to learn more about what we are doing&quot;</div></blockquote><br /><br />+1 or like  <img class="smilies" src="images/smilies/icon_cool.gif" alt="8-)" title="Cool" /> <br /><br />jmb</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=3&t=2247&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 03:41:27 GMT -->
</html>
