<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=3&t=1411&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 03:55:31 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; abinit-6.10.2 make fails</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>abinit-6.10.2 make fails</h2>
		<p><a href="viewtopic0e66-3.html?f=3&amp;t=1411">https://forum.abinit.org/viewtopic.php?f=3&amp;t=1411</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>abinit-6.10.2 make fails</h3>
				<div class="date">Posted: <strong>Mon Nov 14, 2011 12:38 pm</strong></div>
				<div class="author">by <strong>omar11</strong></div>
				<div class="content">Dear all,<br />I'm new to abinit.<br />I downloaded the abinit-6.10.2  version on Suse and I gunziped and untared it.<br />I got an error after ./configure<br />Can you tell me how to correct this error?<br />I'd appreciate your help.<br /><br />this is what I get after ./configure<br /><br /><br /><br />==============================================================================<br /> === Overall startup                                                        ===<br /> ==============================================================================<br /><br />checking build system type... i686-pc-linux-gnu<br />checking host system type... i686-pc-linux-gnu<br />checking target system type... i686-pc-linux-gnu<br />checking for a BSD-compatible install... /usr/bin/install -c<br />checking whether build environment is sane... yes<br />checking for a thread-safe mkdir -p... /bin/mkdir -p<br />checking for gawk... gawk<br />checking whether make sets $(MAKE)... yes<br />checking whether make sets $(MAKE)... (cached) yes<br />checking whether ln -s works... yes<br />checking for a sed that does not truncate output... /bin/sed<br />checking for gawk... (cached) gawk<br />checking for grep that handles long lines and -e... /bin/grep<br />checking for egrep... /bin/grep -E<br />configure: not loading options (no config file available)<br /><br /> ==============================================================================<br /> === Build-system information                                               ===<br /> ==============================================================================<br /><br />configure: ABINIT version 6.10.2<br />configure: M4 010416 - Autoconf 026800 - Automake 011100 - Libtool 020204<br />configure: reporting user interface changes:<br />configure:  * new option --enable-gw-openmp is available<br /><br /> ==============================================================================<br /> === Option consistency checking                                            ===<br /> ==============================================================================<br /><br />configure: checking consistency of library-related options<br />configure:  |---&gt; all OK<br />configure:<br />configure: checking consistency of plug-in options<br />configure:  |---&gt; all OK<br />configure:<br />configure: checking consistency of experimental options<br />configure:  |---&gt; all OK<br />configure:<br />configure:  |---&gt; all OK<br />configure:<br />configure: parsing command-line options<br /><br /> ==============================================================================<br /> === Connector startup                                                      ===<br /> ==============================================================================<br /><br />configure: MPI support disabled from command-line<br />configure: GPU support disabled from command-line<br /><br /> ==============================================================================<br /> === Utilities                                                              ===<br /> ==============================================================================<br /><br />checking for sh... /bin/sh<br />checking for mv... /bin/mv<br />checking for perl... /usr/bin/perl<br />checking for rm... /bin/rm<br />checking for dvips... dvips<br />checking for dvipdf... dvipdf<br />checking for latex... latex<br />checking for markdown... no<br />checking for patch... patch<br />checking for ps2pdf... ps2pdf<br />checking for tar... tar<br />checking for wget... wget<br />checking for curl... curl<br />configure: using internal version of MarkDown<br /><br /> ==============================================================================<br /> === C support                                                              ===<br /> ==============================================================================<br /><br />checking for gcc... gcc<br />checking whether the C compiler works... yes<br />checking for C compiler default output file name... a.out<br />checking for suffix of executables...<br />checking whether we are cross compiling... no<br />checking for suffix of object files... o<br />checking whether we are using the GNU C compiler... yes<br />checking whether gcc accepts -g... yes<br />checking for gcc option to accept ISO C89... none needed<br />checking for style of include used by make... GNU<br />checking dependency style of gcc... gcc3<br />checking how to run the C preprocessor... gcc -E<br />checking which type of compiler we have... gnu (SUSE<br />checking for ANSI C header files... yes<br />checking for sys/types.h... yes<br />checking for sys/stat.h... yes<br />checking for stdlib.h... yes<br />checking for string.h... yes<br />checking for memory.h... yes<br />checking for strings.h... yes<br />checking for inttypes.h... yes<br />checking for stdint.h... yes<br />checking for unistd.h... yes<br />checking whether byte ordering is bigendian... no<br /><br /> ==============================================================================<br /> === C++ support                                                            ===<br /> ==============================================================================<br /><br />checking for g++... g++<br />checking whether we are using the GNU C++ compiler... yes<br />checking whether g++ accepts -g... yes<br />checking dependency style of g++... gcc3<br />checking which type of C++ compiler we have... gnu (SUSE<br /><br /> ==============================================================================<br /> === Fortran support                                                        ===<br /> ==============================================================================<br /><br />checking for gfortran... no<br />checking for g95... no<br />checking for xlf95... no<br />checking for f95... no<br />checking for fort... no<br />checking for ifort... no<br />checking for ifc... no<br />checking for efc... no<br />checking for pgfortran... no<br />checking for pgf95... no<br />checking for lf95... no<br />checking for ftn... no<br />checking for xlf90... no<br />checking for f90... no<br />checking for pgf90... no<br />checking for pghpf... no<br />checking for epcf90... no<br />checking for g77... g77<br />checking whether we are using the GNU Fortran compiler... yes<br />checking whether g77 accepts -g... yes<br />checking which type of Fortran compiler we have... gnu 3.3<br />checking fortran 90 modules extension...<br />configure: setting Fortran module extension to &quot;.mod&quot;<br />checking for Fortran flag to compile .F90 files... unknown<br />configure: WARNING: Fortran file extension could not be changed<br />configure: WARNING: some advanced Fortran tests may fail<br />configure: determining Fortran module case<br />configure: error: in `/home/omar/abinit-6.10.2':<br />configure: error: unable to compile a simple Fortran module<br />See `config.log' for more details</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: abinit-6.10.2 configure fails</h3>
				<div class="date">Posted: <strong>Mon Nov 14, 2011 6:43 pm</strong></div>
				<div class="author">by <strong>pouillon</strong></div>
				<div class="content">You have to install a Fortran 95 compiler if you want to build Abinit.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: abinit-6.10.2 configure fails</h3>
				<div class="date">Posted: <strong>Tue Nov 15, 2011 2:17 pm</strong></div>
				<div class="author">by <strong>omar11</strong></div>
				<div class="content">Thank you so much for your reply.<br />now the ./configure works but the make step fails.<br />please can you tell me what are the packages necessary for building abinit and where I should download them?<br /><br />this is what I get after make<br /><br />checking whether CXX is set to ''... no<br />checking whether FC is set to ''... no<br />checking whether F90 is set to ''... no<br />checking whether a NCIO_MINBLOCKSIZE was specified... 256<br />checking whether udunits is to be built... no<br />checking if fsync support is enabled... yes<br />checking whether extra valgrind tests should be run... no<br />checking whether libcf is to be built... no<br />checking whether reading of HDF4 SD files is to be enabled... no<br />checking whether to fetch some sample HDF4 files from Unidata ftp site to test HDF4 reading (requires wget)... no<br />checking whether parallel I/O for classic and 64-bit offset files using parallel-netcdf is to be enabled... no<br />checking whether a location for the parallel-netcdf library was specified... no<br />checking whether new netCDF-4 C++ API is to be built... no<br />checking whether extra example tests should be run... no<br />checking whether parallel IO tests should be run... no<br />checking whether a location for the HDF5 library was specified...<br />checking whether a location for the ZLIB library was specified...<br />checking whether a location for the SZLIB library was specified...<br />checking whether a location for the HDF4 library was specified...<br />checking whether a default chunk size in bytes was specified... 4194304<br />checking whether a maximum per-variable cache size for HDF5 was specified... 67108864<br />checking whether a number of chunks for the default per-variable cache was specified... 10<br />checking whether a default file cache size for HDF5 was specified... 4194304<br />checking whether a default file cache maximum number of elements for HDF5 was specified... 1009<br />checking whether a default cache preemption for HDF5 was specified... 0.75<br />checking whether netCDF-4 logging is enabled... no<br />checking whether a path for curl-config was specified... no<br />checking whether a location for curl installation was specified... no<br />configure: checking whether a location for curl-config is in PATH... no<br />checking whether DAP client is to be built... no<br />checking whether dap remote testing should be enabled (default on)... no<br />checking whether the time-consuming dap tests should be enabled (default off)... no<br />checking whether a location for liboc was specified... no<br />checking whether netCDF extra tests should be run (developers only)... no<br />checking whether Fortran compiler(s) should be tested during configure... yes<br />checking whether FFIO will be used... no<br />checking whether to skip C++, F77, or F90 APIs if compiler is broken... yes<br />checking whether only the C library is desired... no<br />checking whether examples should be built... yes<br />checking whether F77 API is desired... yes<br />checking whether any Fortran API is desired... yes<br />checking whether F90 API is desired... yes<br />checking whether fortran type sizes should be checked... yes<br />checking whether C API is desired... yes<br />checking where to get netCDF C-only library for separate fortran libraries...<br />checking whether CXX API is desired... no<br />checking whether v2 netCDF API should be built... no<br />checking whether the ncgen/ncdump should be built... yes<br />checking whether large file (&gt; 2GB) tests should be run... no<br />checking whether benchmaks should be run (experimental)... no<br />checking whether extreme numbers should be used in tests... yes<br />checking where to put large temp files if large file tests are run... .<br />checking whether a win32 DLL is desired... no<br />checking whether separate fortran libs are desired... no<br />configure: finding C compiler<br />checking whether the C compiler works... no<br />configure: error: in `/root/Desktop/abinit-6.10.2/plugins/netcdf/netcdf-4.1.1':<br />configure: error: C compiler cannot create executables<br />See `config.log' for more details.<br />make[4]: *** [configure-stamp] Error 77<br />make[4]: Leaving directory `/root/Desktop/abinit-6.10.2/plugins/netcdf'<br />make[3]: *** [package-ready] Error 2<br />make[3]: Leaving directory `/root/Desktop/abinit-6.10.2/plugins/netcdf'<br />make[2]: *** [all-recursive] Error 1<br />make[2]: Leaving directory `/root/Desktop/abinit-6.10.2/plugins'<br />make[1]: *** [all-recursive] Error 1<br />make[1]: Leaving directory `/root/Desktop/abinit-6.10.2'<br />make: *** [all] Error 2</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: abinit-6.10.2 make fails</h3>
				<div class="date">Posted: <strong>Wed Nov 16, 2011 4:55 pm</strong></div>
				<div class="author">by <strong>pouillon</strong></div>
				<div class="content">You should have to look for the last occurence of 'failed' in /path/to/abinit/builddir/plugins/netcdf/netcdf-4.1.1/config.log. It will tell you what's wrong with your C compiler.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: abinit-6.10.2 make fails</h3>
				<div class="date">Posted: <strong>Fri Nov 18, 2011 9:38 am</strong></div>
				<div class="author">by <strong>omar11</strong></div>
				<div class="content">thank you for your reply.<br />this is what I found in /home/omar/abinit-6.10.2/plugins/netcdf/netcdf-4.1.1/config.log.<br /><br /><br /><br /><br /><br />configure:5111: checking whether the C compiler works<br />configure:5133: gcc -g -O2 -mtune=native -march=native -mfpmath=sse   -DNDEBUG -Df2cFortran  conftest.c  &gt;&amp;5<br />cc1: error: invalid option `tune=native'<br />cc1: error: bad value (native) for -march= switch<br />cc1: error: bad value (native) for -mcpu= switch<br />cc1: warning: SSE instruction set disabled, using 387 arithmetics<br />configure:5137: $? = 1<br />configure:5175: result: no<br />configure: failed program was:<br />| /* confdefs.h */<br />| #define PACKAGE_NAME &quot;netCDF&quot;<br />| #define PACKAGE_TARNAME &quot;netcdf&quot;<br />| #define PACKAGE_VERSION &quot;4.1.1&quot;<br />| #define PACKAGE_STRING &quot;netCDF 4.1.1&quot;<br />| #define PACKAGE_BUGREPORT &quot;support-netcdf@unidata.ucar.edu&quot;<br />| #define PACKAGE_URL &quot;&quot;<br />| #define PACKAGE &quot;netcdf&quot;<br />| #define VERSION &quot;4.1.1&quot;<br />| #define NCIO_MINBLOCKSIZE 256<br />| #define USE_FSYNC 1<br />| #define DEFAULT_CHUNK_SIZE 4194304<br />| #define MAX_DEFAULT_CACHE_SIZE 67108864<br />| #define DEFAULT_CHUNKS_IN_CACHE 10<br />| #define CHUNK_CACHE_SIZE 4194304<br />| #define CHUNK_CACHE_NELEMS 1009<br />| #define CHUNK_CACHE_PREEMPTION 0.75<br />| #define NO_NETCDF_2 1<br />| #define USE_EXTREME_NUMBERS 1<br />| #define TEMP_LARGE &quot;.&quot;<br />| /* end confdefs.h.  */<br />| <br />| int<br />| main ()<br />| {<br />| <br />|   ;<br />|   return 0;<br />| }<br />configure:5180: error: in `/home/omar/abinit-6.10.2/plugins/netcdf/netcdf-4.1.1':<br />configure:5184: error: C compiler cannot create executables<br />See `config.log' for more details.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: abinit-6.10.2 make fails</h3>
				<div class="date">Posted: <strong>Fri Nov 18, 2011 3:10 pm</strong></div>
				<div class="author">by <strong>pouillon</strong></div>
				<div class="content">Your version of GCC is too old. You should upgrade it or disable NetCDF. If you keep your current version, it is however not even guaranteed that you'll be able to compile Abinit, even with all optional features disabled.</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=3&t=1411&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 03:55:31 GMT -->
</html>
