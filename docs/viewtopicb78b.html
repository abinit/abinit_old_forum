<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=1415&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 03:50:27 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; Relaxation in case of Spin Orbit Coupling</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>Relaxation in case of Spin Orbit Coupling</h2>
		<p><a href="viewtopicab8b.html?f=9&amp;t=1415">https://forum.abinit.org/viewtopic.php?f=9&amp;t=1415</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>Relaxation in case of Spin Orbit Coupling</h3>
				<div class="date">Posted: <strong>Mon Nov 14, 2011 11:59 pm</strong></div>
				<div class="author">by <strong>jh502125</strong></div>
				<div class="content">Dear all:<br /><br />I am trying to relax MnBi hexagonal structure ( spgroup 194) using Broyden-Fletcher-Goldfarb-Shanno minimization (BFGS).<br />I used HGH pseudopotential and initialized the spin regarding spin-orbit coupling.<br />Ultimately what I want to do is observing structural relaxation of MnBi in finite temperature(ionmov=13).<br /><br />However, my convergence test seems not to be convergend at all. Total energy is oscillating and also for the ucvol(unit cell volume.)<br />I tried the same test with Trollier-Martin pseudopotential, and it converged well.<br />Is there any problem in my input file? Or is it for the pseudo-potential?<br />**I am attaching my input file.<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code># MnBin Relaxation<br />#spin orbit coupling<br />&nbsp;nsppol&nbsp; &nbsp;1<br />&nbsp;nspinor 2 <br />&nbsp;nspden 4<br />&nbsp;kptopt 4<br />#optimization of the lattice parameters<br />optcell 2<br />ionmov&nbsp; 3<br />ntime&nbsp; 30<br />dilatmx 1.5<br />ecutsm&nbsp; 0.5<br /><br />nshiftk 1<br />shiftk 0 0 0.5<br />ngkpt 4 4 4<br /><br />#Structure<br />&nbsp;iscf&nbsp; &nbsp;5<br />&nbsp;toldfe&nbsp; &nbsp;1.0d-6<br />&nbsp; acell&nbsp; &nbsp;8.050232711 8.050232711 11.432842231<br />spgroup&nbsp; 194<br />angdeg&nbsp; &nbsp;90 90 120<br />brvltt&nbsp; &nbsp;-1<br />&nbsp; ecut&nbsp; &nbsp;27<br />&nbsp; natom&nbsp; 4<br />&nbsp; nband&nbsp; 48<br />occopt 3<br />tsmear 0.001<br />getwfk -1<br />&nbsp;nstep&nbsp; &nbsp;50<br />ntypat&nbsp; &nbsp;2<br />&nbsp; typat&nbsp; &nbsp;1 1 2 2 <br />xred 0.0&nbsp; 0.0&nbsp; 0.0<br />&nbsp; &nbsp; &nbsp;0.0 0.0 0.5<br />&nbsp; &nbsp; &nbsp;1/3 2/3 0.25<br />&nbsp; &nbsp; &nbsp;2/3 1/3 0.75<br />&nbsp;<br />&nbsp;znucl&nbsp; &nbsp; 25 83<br /><br /><br />#conserve old &lt; 6.7.2 behavior for calculating forces at each SCF step<br />&nbsp;optforces 1</code></pre></div><br /><br />And, This is the structure of unitcell:<br />[img]<a href="http://cst-www.nrl.navy.mil/lattice/struk.picts/b8_1.s.png" class="postlink">http://cst-www.nrl.navy.mil/lattice/struk.picts/b8_1.s.png</a>[/img]<br /><br />Also, can I get the relaxed structure from trollier-martin psp, and use it for the spin-orbit coupling calculation which is the calculation only available for HGH pseudo-potential? In other words, Is the structure relaxing in different way for the different kinds of pseudo-potential?<br /><br />FYI, I am learning alot from this forum. Thanks so much.<br /><br />Thanks!<br />Soo</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Relaxation in case of Spin Orbit Coupling</h3>
				<div class="date">Posted: <strong>Fri Sep 14, 2012 2:14 am</strong></div>
				<div class="author">by <strong>ekt</strong></div>
				<div class="content">HI. How did your story with MnBi finish?<br />Did you calculate magnetic anisotropy?</div>
			</div>
			<hr />
					<div class="post">
				<h3>Error in Relaxation</h3>
				<div class="date">Posted: <strong>Thu Sep 20, 2012 4:23 pm</strong></div>
				<div class="author">by <strong>maryamsajedi</strong></div>
				<div class="content">Dear all,<br />I came across the error below when I was trying to caculate the relaxation:<br /><br />At line 209 of file ioarr.F90 (unit = 9, file = '')<br />Fortran runtime error: File 'reli_DS11_DEN' does not exist<br /><br />The input file was under these conditions:<br />ecut 60<br />ecutsm 0.5<br />dilatmx 1.05<br />kptopt 1<br />ngkpt 6 6 6<br />nshiftk 4<br /><br /><br />optcell 0<br />ionmov 2<br />tolmxf 1.0d-5<br />ntime 100<br /><br />What shall I do to remove the error?</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Relaxation in case of Spin Orbit Coupling</h3>
				<div class="date">Posted: <strong>Thu Sep 20, 2012 10:56 pm</strong></div>
				<div class="author">by <strong>maxim</strong></div>
				<div class="content">Dear maryamsajedi,<br /><br />Pls give me your input and *files files so I can look at it and try to solve this problem.<br /><br />Best wishes,<br />Maxim</div>
			</div>
			<hr />
					<div class="post">
				<h3>Relaxation</h3>
				<div class="date">Posted: <strong>Sat Sep 22, 2012 9:40 am</strong></div>
				<div class="author">by <strong>maryamsajedi</strong></div>
				<div class="content">Dear Maxim,<br />I`m trying to do a structural relaxation but the code stops with the following error message about k-point:<br /><br />berryphase_new : BUG -<br />For k-point # 3,<br />the determinant of the overlap matrix is found to be 0.<br />Action : contact ABINIT group.<br /><br />And in the log file this warning was shown:<br /><br />WARNING - These should obey zval-nelect_occ=charge to better than 0.10E-10<br />Action : check input file for occ,wtk, and charge.<br />Note that wtk is NOT automatically normalized when occopt=2,<br />but IS automatically normalized otherwise.<br /><br />I have attached the input file so that you can figure out what am I doing wrong in this calculation.<br />Thanks for your time,<br />Maryam<br /><div class="inline-attachment">
			
		
		
				<dl class="file">
			<dt><img src="images/upload_icons/txt.gif" alt="" /> <a class="postlink" href="download/fileb970.php?id=617">si_relaxedion.in</a></dt>
						<dd>(3.11 KiB) Downloaded 249 times</dd>
		</dl>
		
		
			</div></div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Relaxation in case of Spin Orbit Coupling</h3>
				<div class="date">Posted: <strong>Sat Sep 22, 2012 12:15 pm</strong></div>
				<div class="author">by <strong>maxim</strong></div>
				<div class="content">Dear maryamsajedi,<br /><br />You should try a denser k-point grid in the z direction as your c is pretty small (only 2.604612042 bohr - it is only 1.378301435 angstroms - check that you have not confused bohr and angstrom units). Please describe the structure (supercell, etc.). If you do not watched the forum for similar problems, then again, that there is the only one correct density of k-point grid, so try different grids with different k-point grid density.<br /><br />Best wishes,<br />Maxim</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Relaxation in case of Spin Orbit Coupling</h3>
				<div class="date">Posted: <strong>Sun Sep 23, 2012 7:28 am</strong></div>
				<div class="author">by <strong>maryamsajedi</strong></div>
				<div class="content">Dear Maxim,<br />Thank you so much for your help I will get back to the structral relaxation after correction but I have another problem with  SCF density computation a non-SCF band structure calculation.The code stops following this error message below<br /><br /><br /> rwwf.F90:579:ERROR<br />   Reading option of rwwf. Trying to read<br />  a RF wf record of a wf file, unit=  12<br />  gave iostat=5016. Your file is likely not correct.<br />  Action: check your input wf file.<br />t2x_WF2<br /><br />I would really appreciate if you could help me since Iam a beginner in Abinit.I am using Abinit-6.12.3.<br />Best regards,<br />Maryam<br /><div class="inline-attachment">
			
		
		
				<dl class="file">
			<dt><img src="images/upload_icons/txt.gif" alt="" /> <a class="postlink" href="download/file5408.php?id=618">t5.in</a></dt>
						<dd>(2.55 KiB) Downloaded 247 times</dd>
		</dl>
		
		
			</div></div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=1415&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 03:50:27 GMT -->
</html>
