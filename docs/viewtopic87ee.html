<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=2792&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 03:43:05 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; partial dos error on parallel computing</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>partial dos error on parallel computing</h2>
		<p><a href="viewtopic3449.html?f=9&amp;t=2792">https://forum.abinit.org/viewtopic.php?f=9&amp;t=2792</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>partial dos error on parallel computing</h3>
				<div class="date">Posted: <strong>Fri Sep 12, 2014 1:26 pm</strong></div>
				<div class="author">by <strong>spaz</strong></div>
				<div class="content">hi all,<br />i am trying to calculate the partial DOS of the GaAs in parallel with mpirun. total dos, bandstructure.phonon calculations were succesfully run in parallel with 16 cores but partial dos crahes with the error below<br /><br /> The job will continue.<br />application called MPI_Abort(MPI_COMM_WORLD, 13) - process 6<br /><br />===================================================================================<br />=   BAD TERMINATION OF ONE OF YOUR APPLICATION PROCESSES<br />=   PID 57930 RUNNING AT atos1<br />=   EXIT CODE: 13<br />=   CLEANING UP REMAINING PROCESSES<br />=   YOU CAN IGNORE THE BELOW CLEANUP MESSAGES<br />===================================================================================<br />input file is as follows?<br />ndtset 2 <br />jdtset  1 2<br />prtwf1  1<br />prtden1  1<br />tolvrs1  1.0d-11        # Strict tolerance on (squared) residual of the<br />#dataset 2 ldos and pdos calculation<br />#occopt2 5<br />iscf2 -3<br />getden2  1<br />getwfk2  1<br />prtdos2  3<br />kptrlatt2  4 -12 4  -12 4 4  -4 -4 -4<br /><br />ratsph2  3.76 3.76     # This has been ajusted to give approximately 4 valenc electrons per atom<br />tolwfr2  1.0d-12<br /> natsph2  2<br /> iatsph2  1 2 <br /><br />###kpt-grid and basis set parameters############<br />ecut    30<br />ecutsm    5.00000000E-01 Hartree<br />kptopt    1             # Use symmetry and treat only inequivalent points<br />#pawecutdg 80<br />kptrlatt   4 -12 4  -12 4 4  -4 -4 -4<br />nshiftk 1<br />shiftk 0.5 0.5 0.5<br />nstep      80             # Maxiumum number of SCF iterations<br /><br /><br />##### space group Pm -3 (#200); Bravais cP (primitive cubic)-unit-cell contents ###<br />#Definition of the unit cell<br />acell      7.3953702155E+00  7.3953702155E+00 7.3953702155E+00 Bohr<br />rprim     0.0000000000E+00  7.0710678119E-01  7.0710678119E-01<br />          7.0710678119E-01  0.0000000000E+00  7.0710678119E-01<br />          7.0710678119E-01  7.0710678119E-01  0.0000000000E+00<br />xred      0.0000000000E+00  0.0000000000E+00  0.0000000000E+00<br />          2.5000000000E-01  2.5000000000E-01  2.5000000000E-01<br />typat      1  2  <br /><br />angdeg 90 90 90<br /><br />ntypat  2<br />znucl   31 33<br />natom   2<br />nband 30<br /><br />can you help me to get ride of this problem thx very much......</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: partial dos error on parallel computing</h3>
				<div class="date">Posted: <strong>Fri Sep 12, 2014 9:44 pm</strong></div>
				<div class="author">by <strong>Jordan</strong></div>
				<div class="content">As a quick reply, you can not have both getwfk and getden defined for the same dataset.<br />So remove getden2 and keep only getwfk2 assuming your wfk are good enough<br /><br />Cheers,<br /><br />Jordan</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: partial dos error on parallel computing</h3>
				<div class="date">Posted: <strong>Fri Sep 12, 2014 11:15 pm</strong></div>
				<div class="author">by <strong>spaz</strong></div>
				<div class="content">thx Jordan but it didnt work, still same error appears...<img class="smilies" src="images/smilies/icon_e_sad.gif" alt=":(" title="Sad" /></div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=2792&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 03:43:05 GMT -->
</html>
