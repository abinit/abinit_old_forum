<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=14&t=3133&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Sep 2024 21:28:21 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; InAs band structure</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>InAs band structure</h2>
		<p><a href="viewtopic6ab7.html?f=14&amp;t=3133">https://forum.abinit.org/viewtopic.php?f=14&amp;t=3133</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>InAs band structure</h3>
				<div class="date">Posted: <strong>Tue Oct 27, 2015 2:13 pm</strong></div>
				<div class="author">by <strong>aaaa202</strong></div>
				<div class="content">Hi all,<br /><br />I am new to Abinit and have over the past few days been trying to simulate the band structure for bulk InAs. However it seems, that you have many choices for which Pseudopotentials to use. First I tried using the one that was used for bulk Si in the tutorial exercises, but that did not work, i.e. Abinit gave me an error (I am not sure why, since I find it hard to interpret the files specifying the Pseudopotentials).<br />My question is therefore: Which kind of Pseudopotential should I use for bulk InAs?<br />Also my end goal is actually not to calculate bulk band structure but rather band structure for finite InAs nanowires. I am however not sure how to do calculations on finite lattices. How is that done? I suppose you like, the H2 molecule, simply build up a system of finite building blocks, rather than assume an infinite lattice as in the case of the Si exercises.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: InAs band structure</h3>
				<div class="date">Posted: <strong>Wed Oct 28, 2015 12:07 am</strong></div>
				<div class="author">by <strong>raul_l</strong></div>
				<div class="content"><blockquote><div><cite>aaaa202 wrote:</cite>I tried using the one that was used for bulk Si in the tutorial exercises</div></blockquote><br />You meant the same type, not literaly the same PP, right? In any case, for In and As you can find pseudopotentials at the Abinit website -&gt; Atomic Data/Pseudopotentials -&gt; Norm-conserving pseudopotentials.<br /><blockquote><div><cite>aaaa202 wrote:</cite>I am however not sure how to do calculations on finite lattices. How is that done?</div></blockquote><br />This question is too broad. I suspect the overall logic is similar to surface calculations (see lesson 4) but I've never done nanowire calculations myself.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: InAs band structure</h3>
				<div class="date">Posted: <strong>Wed Oct 28, 2015 9:02 am</strong></div>
				<div class="author">by <strong>Jordan</strong></div>
				<div class="content">Recent pseudo potential have been developed in Norm Conserving  here : <!-- m --><a class="postlink" href="http://www.mat-simresearch.com/">http://www.mat-simresearch.com/</a><!-- m --><br />Or PAW atomic data here : <!-- m --><a class="postlink" href="http://www.abinit.org/downloads/PAW2">http://www.abinit.org/downloads/PAW2</a><!-- m --><br /><br />In any case, you should test the pseudos you use and validate the results against literature before going to nanowire.<br /><br />For nanowire, you can do as for the H2 molecule : a big empty box with a nano wire inside. <br />Note that for such a system the energy cutoff might considerably increase and thus PAW may be the best choice for you.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: InAs band structure</h3>
				<div class="date">Posted: <strong>Wed Oct 28, 2015 10:53 am</strong></div>
				<div class="author">by <strong>aaaa202</strong></div>
				<div class="content">thanks for the answers, though I might need a little more help.<br />Say I download pseudopotentials for In and As from <!-- m --><a class="postlink" href="http://www.abinit.org/downloads/pseudodojo/pseudodojo">http://www.abinit.org/downloads/pseudodojo/pseudodojo</a><!-- m -->. How do I tell my in file to use these for the calculation of the band structure? I remember in the tutorial for Si there was a line in the tbase3_x file, which specified ../../../Psps_for_tests/14si.pspnc, i.e. to use the file 14si.pspnc as pseudopotential. Should I replace this one line with the location of the Pseudopotential of In and As?<br />Also it seems that the pseudopotential files I can download from: <!-- m --><a class="postlink" href="http://www.pseudo-dojo.org/dojoauto.html?atom=In">http://www.pseudo-dojo.org/dojoauto.html?atom=In</a><!-- m --> (or the PAW atomic datasets - do these contain information about the pseudopotential?) are not of the same type as 14si.pspnc. Will abinit understand these?</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: InAs band structure</h3>
				<div class="date">Posted: <strong>Wed Oct 28, 2015 12:09 pm</strong></div>
				<div class="author">by <strong>raul_l</strong></div>
				<div class="content">The structure of the 'files' file is described here: <!-- m --><a class="postlink" href="http://www.abinit.org/doc/helpfiles/for-v7.10/users/abinit_help.html#intro1">http://www.abinit.org/doc/helpfiles/for ... tml#intro1</a><!-- m -->. Yes, you should replace 14si.pspnc with your own ones (either relative or full path). Each PP should be on a separate line. The PAW formalism is conceptually different, but from the user's point of view, analogous, to the pseudopotential approximation. In simple terms, it is usually better than PPs. You might start with norm-conserving PPs if you are new to DFT, and then proceed to the tutorials on PAW.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: InAs band structure</h3>
				<div class="date">Posted: <strong>Wed Oct 28, 2015 2:36 pm</strong></div>
				<div class="author">by <strong>aaaa202</strong></div>
				<div class="content">It doesn't seem like abinit will recognize the Pseudopotential file generated by <!-- m --><a class="postlink" href="http://www.pseudo-dojo.org/dojoauto.html?atom=In">http://www.pseudo-dojo.org/dojoauto.html?atom=In</a><!-- m -->. The format is .pspn8, which I can save as a text document. Am I doing it wrong?<br />I choose Indium in the list of element and select In-d.out and click download 'psp8' file.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: InAs band structure</h3>
				<div class="date">Posted: <strong>Wed Oct 28, 2015 10:13 pm</strong></div>
				<div class="author">by <strong>raul_l</strong></div>
				<div class="content">What is the error message? Perhaps you should be using a newer version of Abinit? Just a guess.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: InAs band structure</h3>
				<div class="date">Posted: <strong>Mon Nov 02, 2015 12:10 pm</strong></div>
				<div class="author">by <strong>aaaa202</strong></div>
				<div class="content">hmm i Think abinit does not recognize the file format for the generated pseudopotential file. If I generate it using your link the format is .psp8 ... is that a valid format? maybe Im failing to save it the right way.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: InAs band structure</h3>
				<div class="date">Posted: <strong>Wed Nov 04, 2015 12:52 pm</strong></div>
				<div class="author">by <strong>raul_l</strong></div>
				<div class="content">Works for me. Make sure you use at least version 7.10.<strong class="text-strong">5</strong>. If there are still issues, find older pseudopotentials here <a href="http://www.abinit.org/downloads/psp-links/pseudopotentials" class="postlink">http://www.abinit.org/downloads/psp-links/pseudopotentials</a>.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: InAs band structure</h3>
				<div class="date">Posted: <strong>Sun Nov 08, 2015 1:11 pm</strong></div>
				<div class="author">by <strong>aaaa202</strong></div>
				<div class="content">hmm I think my problem is that when I save the pseudopotential file it messes up the format. It saves it as a .txt document and when I open it I can see that the text format is completely messed up. How do you save it to your computer? Is it because I am using windows, and I should use linux instead to get the right format of the Pseudopotential files?</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: InAs band structure</h3>
				<div class="date">Posted: <strong>Sun Nov 08, 2015 5:08 pm</strong></div>
				<div class="author">by <strong>raul_l</strong></div>
				<div class="content">I save the PP with the psp8 extension. I suggest you try it on Linux. I'm not familiar with Windows and am thus unable to help in that regard.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: InAs band structure</h3>
				<div class="date">Posted: <strong>Sun Nov 15, 2015 11:38 pm</strong></div>
				<div class="author">by <strong>aaaa202</strong></div>
				<div class="content">I have now managed to generate the band structure for InAs, which was the end goal. However it seems that the wavefunctions do not converge and I end up with the plot below with alot of fringes in the band structure.<br />I have made a convergence study with respect to the lattice parameter so I am not sure, what causes the problem not to converge? Which parameters can I change that will affect convergence?</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: InAs band structure</h3>
				<div class="date">Posted: <strong>Mon Nov 16, 2015 8:08 am</strong></div>
				<div class="author">by <strong>ilukacevic</strong></div>
				<div class="content">Hi!<br /><br />1] What do you mean by converged the lattice parameters?<br /><br />2] It looks like typical bands obtained with unconverged ecut and/or ngkpt. Did you converge the energy bands wrt these two parameters?<br /><br />Best regards,<br /><br />Igor</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: InAs band structure</h3>
				<div class="date">Posted: <strong>Mon Nov 16, 2015 8:26 am</strong></div>
				<div class="author">by <strong>Jordan</strong></div>
				<div class="content"><!-- l --><a class="postlink-local" href="viewtopic01e5.html?f=7&amp;t=3139&amp;p=9685#p9685">viewtopic.php?f=7&amp;t=3139&amp;p=9685#p9685</a><!-- l --></div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: InAs band structure</h3>
				<div class="date">Posted: <strong>Thu Nov 19, 2015 10:43 am</strong></div>
				<div class="author">by <strong>aaaa202</strong></div>
				<div class="content">I have now achieved the following plot of the band structure. Unfortunately it does not look at all like in this article (<!-- m --><a class="postlink" href="http://arxiv.org/pdf/cond-mat/0609616.pdf">http://arxiv.org/pdf/cond-mat/0609616.pdf</a><!-- m -->), where they calculate InAs wurtzite band structure in the GW approach. Do you have any idea how that might be? Have I done something wrong in my program? <br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>#Bulk InAs wurtzite <br />#<br /># Computation of the band structure.<br /># First, a SCF density computation, then a non-SCF band structure calculation.<br /><br />ndtset 2<br /><br />#Dataset 1 : usual self-consistent calculation<br />kptopt1 1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # Option for the automatic generation of k points,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# taking into account the symmetry<br />nshiftk1 1<br />shiftk1&nbsp; 0.0 0.0 0.0&nbsp; # These shifts will be the same for all grids<br />&nbsp; &nbsp; &nbsp; &nbsp; # 0.5 0.0 0.0<br />&nbsp; &nbsp; &nbsp; &nbsp; # 0.0 0.5 0.0<br />&nbsp; &nbsp; &nbsp; &nbsp; # 0.0 0.0 0.5<br />ngkpt1&nbsp; 12 12 12&nbsp; <br />prtden1&nbsp; 1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# Print the density, for use by dataset 2<br />toldfe1&nbsp; 1.0d-10&nbsp; &nbsp; # This value is way too large for most realistic studies of materials<br /><br />#Dataset 2 : the band structure<br />iscf2&nbsp; &nbsp; -2<br />getden2&nbsp; -1<br />kptopt2&nbsp; -3<br />nband2&nbsp; &nbsp;8<br />ndivk2&nbsp; &nbsp;30 36 51&nbsp; &nbsp; &nbsp; # 10, 12 and 17 divisions of the 3 segments, delimited<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# by 4 points.<br />kptbounds2&nbsp; 0.0&nbsp; 0.0&nbsp; 0.5 # A point<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0.0&nbsp; 0.0&nbsp; 0.0 # Gamma point<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2/3&nbsp; 1/3&nbsp; 0 # K point<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1.0&nbsp; 1.0&nbsp; 1.0 # Gamma point in another cell.<br />tolwfr2&nbsp; 1.0d-13<br />enunit2&nbsp; 1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# Will output the eigenenergies in eV <br /><br /><br />#Definition of the unit cell for InAs wurtzite<br />acell 7.8602817707 7.8602817707&nbsp; 12.835877418<br />angdeg 90. 90. 120.<br />#rprim&nbsp; 0.5&nbsp; &nbsp; -0.86602540378&nbsp; &nbsp; &nbsp; 0.0&nbsp; &nbsp;<br />#&nbsp; &nbsp; &nbsp; &nbsp;0.5&nbsp; &nbsp; &nbsp;0.86602540378&nbsp; &nbsp; &nbsp; 0.0&nbsp; &nbsp;<br />#&nbsp; &nbsp; &nbsp; &nbsp;0.0&nbsp; &nbsp; 0.0&nbsp; &nbsp; &nbsp; 1.0<br />spgroup 186<br /><br /><br />#Definition of the atom types<br />ntypat 2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # There is only one type of atom<br />znucl 49 33&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />#Definition of the atoms<br />natom 4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# There are four atoms in the unit cell<br />natrd 2<br />typat 1 2&nbsp; &nbsp; &nbsp;<br />xred&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # This keyword indicate that the location of the atoms<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # will follow, one triplet of number for each atom<br />&nbsp; &nbsp;2/3&nbsp; 1/3&nbsp; 3/8&nbsp; <br />&nbsp; &nbsp;#1/3&nbsp; 2/3&nbsp; 7/8&nbsp; <br />&nbsp; &nbsp;2/3&nbsp; 1/3&nbsp; 0.0<br />&nbsp; &nbsp;#1/3&nbsp; 2/3&nbsp; 1/2<br /><br />#Definition of the planewave basis set<br />ecut 50&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# Maximal kinetic energy cut-off, in Hartree<br />prtvol 2<br /><br />#Definition of the SCF procedure<br />nline 30<br />nnsclo 30<br />nstep 50&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # Maximal number of SCF cycles<br />diemac 12.0&nbsp; &nbsp; &nbsp; &nbsp;# Although this is not mandatory, it is worth to<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # precondition the SCF cycle. The model dielectric<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # function used as the standard preconditioner<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # is described in the &quot;dielng&quot; input variable section.&nbsp; &nbsp; &nbsp; &nbsp; <br /></code></pre></div></div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: InAs band structure</h3>
				<div class="date">Posted: <strong>Mon Nov 23, 2015 8:13 am</strong></div>
				<div class="author">by <strong>Jordan</strong></div>
				<div class="content">I have not look at the reference but just to give you some hints, the band structure depends on the functional you use LDA/GGA and event the variant of functional (which LDA or GGA).<br />Then GW can be used for semiconductor to correct the band gap and more generally the eigen energies and thus the band structure.<br />Finally, the band structure also depends on the pseudo potential you use in case of norm conserving or atomic data in the cas of PAW calculation.<br /><br />Jordan</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: InAs band structure</h3>
				<div class="date">Posted: <strong>Wed Dec 02, 2015 12:07 pm</strong></div>
				<div class="author">by <strong>aaaa202</strong></div>
				<div class="content">okay thanks, Im now trying to perform calculations using the gw method instead.<br />Actually can you help me understand something: As far as I know from litterature on DFT, it is a theory for calculating the ground state properties of the system. The Kohn sham energies and orbitals have no physical meaning themselves. So how is it that we are able to obtain the band structure in the first place?<br />Also can you explain to me how the nshiftk and shiftk work, I am not sure how the k-grid is assembled from them. I am now trying to simulate for wurtzite but I get the error that my k-grid does not respect the symmetries of the problem. How do I know what to choose?<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code># Crystalline silicon<br /># Calculation of the GW correction to the direct band gap in Gamma<br /># Dataset 1: ground state calculation <br /># Dataset 2: calculation of the kss file <br /># Dataset 3: calculation of the screening (epsilon^-1 matrix for W)<br /># Dataset 4: calculation of the Self-Energy matrix elements (GW corrections)<br /><br />ndtset&nbsp; &nbsp; &nbsp; 4<br /><br />&nbsp;ngkpt&nbsp; &nbsp; 2 2 2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# Density of k points used for the automatic tests of the tutorial<br />#ngkpt&nbsp; &nbsp; 4 4 4&nbsp; &nbsp; &nbsp; &nbsp; # Density of k points needed for a converged calculation<br /><br />nshiftk&nbsp; 4<br />shiftk&nbsp; &nbsp;0.0 0.0 0.0&nbsp; # This grid contains the Gamma point, which is the point at which<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.0 0.5 0.5&nbsp; # we will compute the (direct) band gap. There are 19 k points<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.5 0.0 0.5&nbsp; # in the irreducible Brillouin zone, if ngkpt 4 4 4 is used.<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.5 0.5 0.0<br />istwfk&nbsp; *1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # For the GW computations, do not take advantage of the <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # specificities of k points to reduce the number of components of the<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # wavefunction.<br /><br /># Dataset1: usual self-consistent ground-state calculation<br /># Definition of the k-point grid<br />shiftk1&nbsp; 0.5 0.5 0.5&nbsp; # This grid is the most economical, but does not contain the Gamma point.<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.5 0.0 0.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.0 0.5 0.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.0 0.0 0.5<br />istwfk1 *0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # For the ground state, let the code use the time-reversal symmetry<br />prtden1&nbsp; 1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # Print out density<br /><br /># Dataset2: calculation of kss file<br /># Definition of k-points<br />iscf2&nbsp; &nbsp; -2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# Non self-consistent calculation<br />getden2&nbsp; -1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# Read previous density file<br />kssform2 3<br />nband2&nbsp; &nbsp;105<br />nbandkss2 100&nbsp; &nbsp; &nbsp; &nbsp; # Number of bands to store in KSS file<br />nbdbuf2&nbsp; &nbsp; &nbsp;5<br /><br /># Dataset3: Calculation of the screening (epsilon^-1 matrix)<br />optdriver3&nbsp; 3&nbsp; &nbsp; &nbsp; &nbsp; # Screening calculation<br />getkss3&nbsp; &nbsp; &nbsp;-1&nbsp; &nbsp; &nbsp; &nbsp;# Obtain KSS file from previous dataset<br />nband3&nbsp; &nbsp; &nbsp; 25&nbsp; &nbsp; &nbsp; &nbsp;# Bands to be used in the screening calculation<br />ecutwfn3&nbsp; &nbsp; 3.6&nbsp; &nbsp; &nbsp; # Planewaves to be used to represent the wavefunctions<br />ecuteps3&nbsp; &nbsp; 6.0&nbsp; &nbsp; &nbsp; # Dimension of the screening matrix<br />ppmfrq3&nbsp; &nbsp; 16.7 eV&nbsp; # Imaginary frequency where to calculate the screening<br /><br /><br /># Dataset4: Calculation of the Self-Energy matrix elements (GW corrections)<br />optdriver4&nbsp; 4&nbsp; &nbsp; &nbsp; &nbsp; # Self-Energy calculation<br />getkss4&nbsp; &nbsp; &nbsp;-2&nbsp; &nbsp; &nbsp; &nbsp;# Obtain KSS file from dataset 1<br />getscr4&nbsp; &nbsp; &nbsp;-1&nbsp; &nbsp; &nbsp; &nbsp;# Obtain SCR file from previous dataset<br />nband4&nbsp; &nbsp; &nbsp; 100&nbsp; &nbsp; &nbsp; # Bands to be used in the Self-Energy calculation<br />ecutwfn4&nbsp; &nbsp; 5.0&nbsp; &nbsp; &nbsp; # Planewaves to be used to represent the wavefunctions<br />ecutsigx4&nbsp; &nbsp; 6.0&nbsp; &nbsp; &nbsp; # Dimension of the G sum in Sigma_x<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# (the dimension in Sigma_c is controlled by npweps)<br />nkptgw4&nbsp; &nbsp; &nbsp; 1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # number of k-point where to calculate the GW correction<br />kptgw4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# k-points<br />&nbsp; 0.000&nbsp; &nbsp; 0.000&nbsp; &nbsp; 0.000&nbsp; &nbsp; # (Gamma)<br />bdgw4&nbsp; &nbsp; &nbsp; &nbsp;4&nbsp; 5&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# calculate GW corrections for bands from 4 to 5<br />icutcoul4&nbsp; &nbsp;3&nbsp; &nbsp; &nbsp; &nbsp; # old deprecated value of icutcoul, only used for legacy<br /><br />#Definition of the unit cell for InAs wurtzite<br />acell 7.8602817707 7.8602817707&nbsp; 12.835877418<br />angdeg 90. 90. 120.<br />#rprim&nbsp; 0.5&nbsp; &nbsp; -0.86602540378&nbsp; &nbsp; &nbsp; 0.0&nbsp; &nbsp;<br />#&nbsp; &nbsp; &nbsp; &nbsp;0.5&nbsp; &nbsp; &nbsp;0.86602540378&nbsp; &nbsp; &nbsp; 0.0&nbsp; &nbsp;<br />#&nbsp; &nbsp; &nbsp; &nbsp;0.0&nbsp; &nbsp; 0.0&nbsp; &nbsp; &nbsp; 1.0<br />spgroup 186<br /><br /><br /># Definition of the atom types<br />ntypat&nbsp; 2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# There are two types of atoms<br />znucl 49 33&nbsp; &nbsp; &nbsp; &nbsp;# The keyword &quot;znucl&quot; refers to the atomic number of the <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # possible type(s) of atom. The pseudopotential(s) <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # mentioned in the &quot;files&quot; file must correspond<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # to the type(s) of atom. Here they are In and As. <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br /># Definition of the atoms<br />natom 4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# There are four atoms<br />natrd 2<br />typat&nbsp; 1 2&nbsp; &nbsp; &nbsp; &nbsp; # They both are of type 1, that is, Silicon.<br />xred&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # This keyword indicate that the location of the atoms<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # will follow, one triplet of number for each atom<br />&nbsp; &nbsp;2/3&nbsp; 1/3&nbsp; 3/8&nbsp; <br />&nbsp; &nbsp;#1/3&nbsp; 2/3&nbsp; 7/8&nbsp; <br />&nbsp; &nbsp;2/3&nbsp; 1/3&nbsp; 0.0<br />&nbsp; &nbsp;#1/3&nbsp; 2/3&nbsp; 1/2<br /><br /># Definition of the planewave basis set (at convergence 16 Rydberg 8 Hartree)<br />ecut 8.0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # Maximal kinetic energy cut-off, in Hartree<br /><br /># Definition of the SCF procedure<br />nstep&nbsp; &nbsp;10&nbsp; &nbsp; &nbsp; &nbsp; # Maximal number of SCF cycles<br />diemac&nbsp; 12.0&nbsp; &nbsp; &nbsp; # Although this is not mandatory, it is worth to<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # precondition the SCF cycle. The model dielectric<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # function used as the standard preconditioner<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # is described in the &quot;dielng&quot; input variable section.<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # Here, we follow the prescription for bulk silicon.<br />tolwfr&nbsp; 1.0d-10&nbsp; &nbsp;<br /><br /># This line added when defaults were changed (v5.3) to keep the previous, old behaviour<br />&nbsp; iscf 5<br /><br /><br />#%%&lt;BEGIN TEST_INFO&gt;<br />#%% &#91;setup&#93;<br />#%% executable = abinit<br />#%% &#91;files&#93;<br />#%% files_to_test = <br />#%%&nbsp; &nbsp;tgw1_9.out, tolnlines= 70, tolabs=&nbsp; 7.000e-02, tolrel=&nbsp; 3.000e-02, fld_options= -ridiculous<br />#%% psp_files = 14si.pspnc<br />#%% &#91;paral_info&#93;<br />#%% max_nprocs = 4<br />#%% &#91;extra_info&#93;<br />#%% authors = <br />#%% keywords = GW<br />#%% description = <br />#%%&lt;END TEST_INFO&gt;<br /></code></pre></div><br />Edit: How exactly are my values for ecutsigx, npwsigx, or nshsigx related to my k-point grid? Because when I change to a grid that preserves the symmetry I get the error:<br /> One of the three variables ecutsigx, npwsigx, or nshsigx<br />     must be non-null. Returning.<br />src_file: m_gsphere.F90<br />src_line: 1906</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: InAs band structure</h3>
				<div class="date">Posted: <strong>Fri Dec 04, 2015 8:31 am</strong></div>
				<div class="author">by <strong>Jordan</strong></div>
				<div class="content">I won't be able to help you with all your question but i'll give a try<br />1) Yes you are right, DFT is not able, in theory to produce the band structure of the system. Indeed, we just know that the density and only the density matches between the real system and the fake KS system. But, surprisingly, it appears that the band structure produced with the KS wavefunctions is usually very close to the real system one and thus we make the short cut and assumption saying the band structure calculated with DFT+KS is the one of the system. But, a priori, nothing allows us to do this.<br />2) the shiftk and nshiftk are simply a way of better sampling the BZ with a reduced number of kpt compared to non shift grid. Read e.g. H. J. Monkhorst and J. D. Pack, Phys. Rev. B 13, 5188 (1976). <br />Usually if there is a message telling you the k-mesh does not respect the symmetries of the problem, it means the Gamma point might have been shift and so removing the shifts should help.<br /><br />Cheers</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: InAs band structure</h3>
				<div class="date">Posted: <strong>Wed Mar 01, 2017 5:11 pm</strong></div>
				<div class="author">by <strong>shalom</strong></div>
				<div class="content">Hello aaaa2. <br />I have followed your whole discussion. <br />I am also a nurse in this work of Abinit. <br />I just want to know how you run the code,<br /> with which .files file and with what command?</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=14&t=3133&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Sep 2024 21:28:21 GMT -->
</html>
