<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=1662&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 03:51:08 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; How to speed up convergence?</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>How to speed up convergence?</h2>
		<p><a href="viewtopic69ea.html?f=9&amp;t=1662">https://forum.abinit.org/viewtopic.php?f=9&amp;t=1662</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>How to speed up convergence?</h3>
				<div class="date">Posted: <strong>Tue May 08, 2012 1:14 am</strong></div>
				<div class="author">by <strong>kengel</strong></div>
				<div class="content">Hello:<br />I am running a basic calculation that does not converge after 100 steps, and it seems like there must be a way to converge faster by changing an input parameter. From the output below, you can see that the energy difference changes very little toward the end. I'm not sure whether the job is creeping along a shallow descent or bouncing around a minimum.<br /><br />Does anyone have a suggestion? Modifying tsmear? Using a different optimization algorithm? Thank you!<br /><br />Here is my input file:<br />acell    17.8072 17.8072 17.8072<br />rprim  -6.6832549324E-01  6.6832549324E-01  3.2662221320E-01<br />           6.6832549324E-01 -6.6832549324E-01  3.2662221320E-01<br />           6.6832549324E-01  6.6832549324E-01 -3.2662221320E-01<br />natom 16<br />ntypat 2<br />typat 1  1  2  2  1  1  2  1  1  2  1  1  1  2  1  2<br />znucl 57 50<br />xred    7.5000000000E-01  2.5000000000E-01  5.0000000000E-01<br />          2.1884980832E-01  8.4853233383E-02  3.0370304170E-01<br />          2.5000000000E-01  2.5000000000E-01  1.5232523129E-17<br />          6.6031397315E-01  1.6031397315E-01  8.2062794630E-01<br />          2.5000000000E-01  7.5000000000E-01  5.0000000000E-01<br />          8.4853233383E-02  7.8115019168E-01  8.6600342507E-01<br />          1.6031397315E-01  3.3968602685E-01  5.0000000000E-01<br />          7.1884980832E-01  4.1514676662E-01  1.3399657493E-01<br />          7.8115019168E-01  9.1514676662E-01  6.9629695830E-01<br />          3.3968602685E-01  8.3968602685E-01  1.7937205370E-01<br />          4.1514676662E-01  2.8115019168E-01  6.9629695830E-01<br />          5.8485323338E-01  7.1884980832E-01  3.0370304170E-01<br />          9.1514676662E-01  2.1884980832E-01  1.3399657493E-01<br />          8.3968602685E-01  6.6031397315E-01  5.0000000000E-01<br />          2.8115019168E-01  5.8485323338E-01  8.6600342507E-01<br />          7.5000000000E-01  7.5000000000E-01  1.5232523129E-17<br />ecut 60<br />toldfe 0.000001 eV<br />kptopt 1<br />nshiftk 1<br />nband 160<br />shiftk 0.0 0.0 0.0<br />ngkpt 7 7 7<br />occopt 3<br />tsmear 0.01<br />nstep 100<br /><br />And here is the energy output:<br /> ETOT  1  -334.93993941920    -3.349E+02 4.791E-02 1.927E+05<br /> ETOT  2  -339.15273393542    -4.213E+00 2.781E-02 2.114E+04<br /> ETOT  3  -339.26243708826    -1.097E-01 1.276E-02 1.215E+04<br /> ETOT  4  -339.39679019806    -1.344E-01 1.027E-02 3.493E+02<br /> ETOT  5  -339.40532803486    -8.538E-03 1.049E-02 6.075E+02<br /> ETOT  6  -339.41913171495    -1.380E-02 8.356E-03 7.425E+01<br /> ETOT  7  -339.42446833700    -5.337E-03 6.485E-03 1.395E+02<br /> ETOT  8  -339.42989188021    -5.424E-03 6.707E-03 1.775E+01<br /> ETOT  9  -339.43239224543    -2.500E-03 5.605E-03 5.360E+01<br /> ETOT 10  -339.43511188711    -2.720E-03 6.209E-03 6.052E-01<br /> ETOT 11  -339.43622137530    -1.109E-03 3.888E-03 3.178E+01<br /> ETOT 12  -339.43751360155    -1.292E-03 4.847E-03 2.345E+00<br /> ETOT 13  -339.43807302118    -5.594E-04 3.169E-03 2.071E+01<br /> ETOT 14  -339.43870876666    -6.357E-04 3.248E-03 7.682E+00<br /> ETOT 15  -339.43889320489    -1.844E-04 2.361E-03 2.866E+01<br /> ETOT 16  -339.43925668992    -3.635E-04 2.655E-03 1.755E+01<br /> ETOT 17  -339.43932166357    -6.497E-05 1.666E-03 3.747E+01<br /> ETOT 18  -339.43964946606    -3.278E-04 2.020E-03 1.170E+01<br /> ETOT 19  -339.43934339431     3.061E-04 1.369E-03 5.715E+01<br /> ETOT 20  -339.43939858975    -5.520E-05 1.373E-03 6.149E+01<br /> ETOT 21  -339.43873963134     6.590E-04 1.044E-03 1.432E+02<br /> ETOT 22  -339.43831539952     4.242E-04 9.971E-04 1.914E+02<br /> ETOT 23  -339.43829849140     1.691E-05 7.994E-04 1.941E+02<br /> ETOT 24  -339.43980100423    -1.503E-03 8.341E-04 1.464E+01<br /> ETOT 25  -339.43987269767    -7.169E-05 5.890E-04 3.136E+01<br /> ETOT 26  -339.43991855879    -4.586E-05 6.690E-04 1.491E+01<br /> ETOT 27  -339.43493320180     4.985E-03 5.047E-04 5.134E+02<br /> ETOT 28  -339.44020956213    -5.276E-03 4.643E-04 1.691E+00<br /> ETOT 29  -339.44026528400    -5.572E-05 3.217E-04 3.899E-01<br /> ETOT 30  -339.44028139224    -1.611E-05 3.546E-04 1.328E-01<br /> ETOT 31  -339.44028816096    -6.769E-06 2.429E-04 3.483E-03<br /> ETOT 32  -339.44029230556    -4.145E-06 2.908E-04 5.706E-03<br /> ETOT 33  -339.44029582056    -3.515E-06 2.028E-04 2.568E-03<br /> ETOT 34  -339.44029861765    -2.797E-06 2.434E-04 2.461E-03<br /> ETOT 35  -339.44030108859    -2.471E-06 1.719E-04 2.437E-03<br /> ETOT 36  -339.44030319885    -2.110E-06 2.074E-04 8.583E-04<br /> ETOT 37  -339.44030507339    -1.875E-06 1.481E-04 1.605E-03<br /> ETOT 38  -339.44030673101    -1.658E-06 1.796E-04 6.415E-04<br /> ETOT 39  -339.44030821690    -1.486E-06 1.294E-04 2.832E-03<br /> ETOT 40  -339.44030958989    -1.373E-06 1.581E-04 3.569E-04<br /> ETOT 41  -339.44031080650    -1.217E-06 1.195E-04 2.994E-03<br /> ETOT 42  -339.44031194565    -1.139E-06 1.418E-04 1.764E-03<br /> ETOT 43  -339.44031301205    -1.066E-06 1.167E-04 1.444E-03<br /> ETOT 44  -339.44031400219    -9.901E-07 1.312E-04 7.382E-05<br /> ETOT 45  -339.44031490194    -8.997E-07 1.114E-04 6.333E-04<br /> ETOT 46  -339.44031575141    -8.495E-07 1.216E-04 2.414E-04<br /> ETOT 47  -339.44031654040    -7.890E-07 1.048E-04 6.089E-04<br /> ETOT 48  -339.44031729104    -7.506E-07 1.128E-04 2.712E-04<br /> ETOT 49  -339.44031799251    -7.015E-07 9.781E-05 5.932E-04<br /> ETOT 50  -339.44031842685    -4.343E-07 1.047E-04 1.181E-02<br /> ETOT 51  -339.44031927301    -8.462E-07 9.082E-05 9.913E-04<br /> ETOT 52  -339.44031988456    -6.115E-07 9.724E-05 2.118E-03<br /> ETOT 53  -339.44032046770    -5.831E-07 8.406E-05 4.916E-04<br /> ETOT 54  -339.44032102076    -5.531E-07 9.040E-05 8.005E-04<br /> ETOT 55  -339.44032150492    -4.842E-07 7.768E-05 4.778E-03<br /> ETOT 56  -339.44032205378    -5.489E-07 8.399E-05 3.990E-05<br /> ETOT 57  -339.44032253586    -4.821E-07 7.149E-05 4.409E-05<br /> ETOT 58  -339.44032299781    -4.620E-07 7.811E-05 8.295E-05<br /> ETOT 59  -339.44032344328    -4.455E-07 6.648E-05 2.175E-05<br /> ETOT 60  -339.44032387119    -4.279E-07 7.341E-05 2.049E-05<br /> ETOT 61  -339.44032428338    -4.122E-07 6.510E-05 5.190E-06<br /> ETOT 62  -339.44032468011    -3.967E-07 6.979E-05 2.863E-05<br /> ETOT 63  -339.44032506343    -3.833E-07 6.359E-05 3.077E-06<br /> ETOT 64  -339.44032543306    -3.696E-07 6.651E-05 1.946E-05<br /> ETOT 65  -339.44032579044    -3.574E-07 6.189E-05 1.036E-05<br /> ETOT 66  -339.44032613600    -3.456E-07 6.352E-05 1.406E-05<br /> ETOT 67  -339.44032647022    -3.342E-07 5.997E-05 1.900E-05<br /> ETOT 68  -339.44032679405    -3.238E-07 6.079E-05 2.038E-05<br /> ETOT 69  -339.44032710771    -3.137E-07 5.779E-05 1.904E-05<br /> ETOT 70  -339.44032741121    -3.035E-07 5.827E-05 7.297E-05<br /> ETOT 71  -339.44032770612    -2.949E-07 5.532E-05 6.182E-05<br /> ETOT 72  -339.44032799244    -2.863E-07 5.596E-05 3.402E-05<br /> ETOT 73  -339.44032827024    -2.778E-07 5.257E-05 1.870E-05<br /> ETOT 74  -339.44032853979    -2.695E-07 5.381E-05 2.821E-05<br /> ETOT 75  -339.44032880151    -2.617E-07 4.952E-05 4.342E-05<br /> ETOT 76  -339.44032905653    -2.550E-07 5.183E-05 3.285E-05<br /> ETOT 77  -339.44032930415    -2.476E-07 4.624E-05 3.715E-05<br /> ETOT 78  -339.44032954579    -2.416E-07 5.049E-05 4.296E-05<br /> ETOT 79  -339.44032978056    -2.348E-07 4.277E-05 4.090E-05<br /> ETOT 80  -339.44033000895    -2.284E-07 5.016E-05 1.884E-05<br /> ETOT 81  -339.44033023179    -2.228E-07 3.920E-05 9.442E-07<br /> ETOT 82  -339.44033044833    -2.165E-07 4.989E-05 6.769E-06<br /> ETOT 83  -339.44033065947    -2.111E-07 3.571E-05 1.765E-06<br /> ETOT 84  -339.44033086516    -2.057E-07 4.967E-05 2.741E-06<br /> ETOT 85  -339.44033106575    -2.006E-07 3.467E-05 8.951E-07<br /> ETOT 86  -339.44033126133    -1.956E-07 4.948E-05 2.332E-06<br /> ETOT 87  -339.44033145205    -1.907E-07 3.533E-05 3.882E-06<br /> ETOT 88  -339.44033163827    -1.862E-07 4.932E-05 4.808E-08<br /> ETOT 89  -339.44033181989    -1.816E-07 3.573E-05 4.230E-07<br /> ETOT 90  -339.44033199720    -1.773E-07 4.919E-05 1.474E-06<br /> ETOT 91  -339.44033217016    -1.730E-07 3.583E-05 8.498E-06<br /> ETOT 92  -339.44033233931    -1.692E-07 4.907E-05 2.094E-06<br /> ETOT 93  -339.44033250448    -1.652E-07 3.565E-05 6.050E-07<br /> ETOT 94  -339.44033266579    -1.613E-07 4.897E-05 1.924E-06<br /> ETOT 95  -339.44033282346    -1.577E-07 3.522E-05 2.496E-06<br /> ETOT 96  -339.44033297763    -1.542E-07 4.887E-05 1.851E-06<br /> ETOT 97  -339.44033312831    -1.507E-07 3.458E-05 2.672E-06<br /> ETOT 98  -339.44033327564    -1.473E-07 4.877E-05 5.544E-06<br /> ETOT 99  -339.44033341976    -1.441E-07 3.377E-05 7.438E-06<br /> ETOT100  -339.44033356086    -1.411E-07 4.867E-05 4.871E-06</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: How to speed up convergence?</h3>
				<div class="date">Posted: <strong>Wed May 09, 2012 8:08 am</strong></div>
				<div class="author">by <strong>ilukacevic</strong></div>
				<div class="content">Dear kengel,<br /><br />yes, you could use another iscf option. Or you can try adding (increasing the default values) the following options:<br /><br />npulayit<br />nnsclo<br />nline<br /><br />Hope this helps.<br /><br />Cheers!<br /><br />Igor l.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: How to speed up convergence?</h3>
				<div class="date">Posted: <strong>Wed May 09, 2012 4:32 pm</strong></div>
				<div class="author">by <strong>kengel</strong></div>
				<div class="content">Dear Igor l.<br /><br />Thank you very much for your suggestions!<br />-Kale</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=1662&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 03:51:08 GMT -->
</html>
