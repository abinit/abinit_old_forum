<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=12&t=603&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 01:28:05 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; [SOLVED] The meaning of PJDOS[1]...</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>[SOLVED] The meaning of PJDOS[1]...</h2>
		<p><a href="viewtopic1034.html?f=12&amp;t=603">https://forum.abinit.org/viewtopic.php?f=12&amp;t=603</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>[SOLVED] The meaning of PJDOS[1]...</h3>
				<div class="date">Posted: <strong>Mon Sep 20, 2010 11:35 am</strong></div>
				<div class="author">by <strong>ilukacevic</strong></div>
				<div class="content">Dear colleagues,<br /><br />in the PHDOS file which one obtains with anaddb, besides omega and PHDOS columns, there are other columns named PJDOS[1] and so on. What is their meaning? Are these projected PHDOSs on atoms? I see that their sum gives the PHDOS column.<br /><br />Thank you in advance!<br /><br />Yours,<br /><br />Igor Lukacevic</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: The meaning of PJDOS[1]...</h3>
				<div class="date">Posted: <strong>Wed Sep 29, 2010 7:41 am</strong></div>
				<div class="author">by <strong>ilukacevic</strong></div>
				<div class="content">Dear colleagues,<br /><br />I apologize if my previous post was too scarce and not following the nettiquette.<br /><br />We're trying to find out the projected phonon DOS. I found several papers mentioning PPDOS, but neither of them explained the method of how they did it (except the routines not yet implemented in 2008). Since we're using 5.8.4 version, we've searches the tests from the latest version, but there is also no mention of PPDOS calc.<br /><br />When we plot PJDOS columns with PHDOS together, they could look like PPDOS on atoms, but we're not certain. They look like those of PbS from Cardona et aql. papers, but we're not sure if the same arguments can be applied to our case of BaO.<br /><br />Could anyone confirm to us this fact?<br /><br />Thank you in advance!<br /><br />Igor Lukacevic</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: The meaning of PJDOS[1]...</h3>
				<div class="date">Posted: <strong>Fri Oct 01, 2010 12:22 am</strong></div>
				<div class="author">by <strong>aromero</strong></div>
				<div class="content">Well, at that time we hack the thm9.F90 subroutine in the Src_7bb (5.x directory file), now it is 77_ddb for version 6.x. It was rather easy because it was calculated already in the subroutine and we had just to<br />print it out  and normalize it correctly. In the new version, I really do not know if it is print it. Let see if one of the guys replies. I did try to find my<br />old version but was not able to.. at least for now.. but I just remember you had to follow the variable ggij within that subroutine... please if you are unable to do it or you do not get<br />any reply from the experts I can trace my version... but it will take few days.. I have so many versions <img class="smilies" src="images/smilies/icon_e_sad.gif" alt=":-(" title="Sad" />  ..<br /><br />let me know</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: The meaning of PJDOS[1]...</h3>
				<div class="date">Posted: <strong>Fri Oct 01, 2010 1:40 pm</strong></div>
				<div class="author">by <strong>ilukacevic</strong></div>
				<div class="content">&quot;Gandalf, you old fool!&quot;  <img class="smilies" src="images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /><br /><br />Dear Aldo, thnx for the help. I found the subroutine, and the part (I think I did) where it starts to print dos (is it the part just before the calculation of the thermodynamic functions?). I cannot find the part which orders to print the PHDOS file, thou. <br />Just now I looked at the header of the PHDOS file, which I obtain with prtdos variable in the anaddb. It says<br /><br />#<br /># Phonon density of states <strong class="text-strong">and projected DOS</strong> generated by anaddb<br />#<br /># energy in Ha , DOS in states/Ha<br /># Gaussian method with smearing =   2.27816763E-05Ha , nqibz = 408<br />#<br /># omega     PHDOS    IPHDOS   PJDOS[1]  IPJDOS[1] ...<br />#<br /><br />If this is so, does it mean that PJDOSs' are indeed projected PDOSs'?<br /><br />Thanks again!<br /><br />Igor Lukacevic</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: The meaning of PJDOS[1]...</h3>
				<div class="date">Posted: <strong>Fri Oct 01, 2010 2:36 pm</strong></div>
				<div class="author">by <strong>aromero</strong></div>
				<div class="content">it seems like.. you can check that because basically the sum over atoms should give you the total density of states... and of course,<br />some physical intuition also helps. Let me know if I can help in something else.<br /><br />Regards</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: The meaning of PJDOS[1]...</h3>
				<div class="date">Posted: <strong>Mon Oct 04, 2010 7:48 am</strong></div>
				<div class="author">by <strong>ilukacevic</strong></div>
				<div class="content">Thanks again, I think that solves the matter.<br /><br />But  still cannot find the part af the code which prints PHDOS file when prtdos variable is set in anaddb input. Any help here?<br /><br />Cheers!<br /><br />Igor Lukacevic</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: The meaning of PJDOS[1]...</h3>
				<div class="date">Posted: <strong>Tue Oct 05, 2010 12:25 am</strong></div>
				<div class="author">by <strong>aromero</strong></div>
				<div class="content">I have not use this one but tracking the variable I can see that most calculations are done in 77_ddb/mkphdos.F90, probably there are printed on the<br />&quot;screen&quot; or in the logout file if you are piping the result. Let me know, it seems you can now use the tetrahedron method to obtain the vDOS.. that is really neat!</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: The meaning of PJDOS[1]...</h3>
				<div class="date">Posted: <strong>Tue Oct 05, 2010 5:56 pm</strong></div>
				<div class="author">by <strong>gmatteo</strong></div>
				<div class="content">The PHDOS file is written in the routine print_phondos contained in the module 77_ddb/m_phdos.F90<br /><br />The values reported in the PJDOS columns represent the contribution to the total phonon DOS given by the subset of atoms of the same TYPE.<br />PJDOS[1] is the contribution due to the atoms of type #1, IPJDOS[1] is the integral of PJDOS[1]<br /><br />Matteo</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: The meaning of PJDOS[1]...</h3>
				<div class="date">Posted: <strong>Wed Oct 06, 2010 7:35 am</strong></div>
				<div class="author">by <strong>ilukacevic</strong></div>
				<div class="content">Dear Matteo,<br /><br />thank You for the clarification. That's all I wanted to know.<br /><br />Igor Lukacevic</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: [SOLVED] The meaning of PJDOS[1]...</h3>
				<div class="date">Posted: <strong>Sun Dec 09, 2012 4:57 am</strong></div>
				<div class="author">by <strong>suvas</strong></div>
				<div class="content">Hi Igor,<br /><br />I got a question about PHDOS file. I have some negative values of omega. I am kind of confused why anaddb gives such negative values. I am just trying to figure out this problem why it is happening.<br /><br />I would appreciate if you have any idea about it to share.<br /><br />Thanks,<br /><br />Suvas<br />-1.94062299E-03   1.07737515E-11   3.68166157E-18   7.00448096E-12   2.39360713E-18   3.76927051E-12   1.28805444E-18<br />  -1.93971172E-03   1.47326937E-11   1.93446488E-17   9.57838141E-12   1.25768138E-17   5.15431232E-12   6.76783495E-18<br />  -1.93880045E-03   2.01148457E-11   3.69108941E-17   1.30775875E-11   2.39974388E-17   7.03725821E-12   1.29134552E-17<br />  -1.93788918E-03   2.74202061E-11   6.18980230E-17   1.78271783E-11   4.02427581E-17   9.59302779E-12   2.16552649E-17<br />  -1.93697792E-03   3.73202308E-11   9.59067177E-17   2.42637086E-11   6.23534750E-17   1.30565222E-11   3.35532427E-17<br />  -1.93606665E-03   5.07151431E-11   1.42121754E-16   3.29724703E-11   9.24001991E-17   1.77426728E-11   4.97215550E-17<br />  -1.93515538E-03   6.88098883E-11   2.04825935E-16   4.47368762E-11   1.33167438E-16   2.40730122E-11   7.16584965E-17<br />  -1.93424412E-03   9.32146233E-11   2.89769345E-16   6.06037957E-11   1.88393677E-16   3.26108276E-11   1.01375668E-16<br />  -1.93333285E-03   1.26077439E-10   4.04659555E-16   8.19698485E-11   2.63090095E-16   4.41075907E-11   1.41569459E-16<br />  -1.93242158E-03   1.70259355E-10   5.59811286E-16   1.10695181E-10   3.63962961E-16   5.95641736E-11   1.95848325E-16<br />  -1.93151032E-03   2.29564644E-10   7.69005970E-16   1.49253222E-10   4.99972497E-16   8.03114218E-11   2.69033474E-16<br />  -1.93059905E-03   3.09043473E-10   1.05062709E-15   2.00927450E-10   6.83071051E-16   1.08116023E-10   3.67556037E-16<br />   9.95479289E-04   7.75218121E+03   1.14423779E+01   4.15402618E+03   6.00402258E+00   3.59815502E+03   5.43835531E+00<br />   9.96390556E-04   7.72021283E+03   1.14494131E+01   4.14141602E+03   6.00779651E+00   3.57879681E+03   5.44161655E+00<br />   9.97301823E-04   7.68909692E+03   1.14564199E+01   4.12899371E+03   6.01155913E+00   3.56010322E+03   5.44486075E+00<br />   9.98213090E-04   7.65891259E+03   1.14633992E+01   4.11679571E+03   6.01531063E+00   3.54211687E+03   5.44808857E+00<br />   9.99124357E-04   7.62974571E+03   1.14703519E+01   4.10486165E+03   6.01905125E+00   3.52488406E+03   5.45130068E+00<br />   1.00003562E-03   7.60168827E+03   1.14772791E+01   4.09323391E+03   6.02278128E+00   3.50845436E+03   5.45449782E+00<br />   1.00094689E-03   7.57483761E+03   1.14841818E+01   4.08195730E+03   6.02650104E+00   3.49288031E+03   5.45768076E+00<br />   1.00185816E-03   7.54929564E+03   1.14910612E+01   4.07107862E+03   6.03021088E+00   3.47821702E+03   5.46085035E+00<br />   1.00276942E-03   7.52516802E+03   1.14979187E+01   4.06064629E+03   6.03391121E+00   3.46452173E+03   5.46400745E+00</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: [SOLVED] The meaning of PJDOS[1]...</h3>
				<div class="date">Posted: <strong>Sun Dec 09, 2012 3:36 pm</strong></div>
				<div class="author">by <strong>gmatteo</strong></div>
				<div class="content">You are getting negative frequencies in the PHDOS file because there are regions of the BZ where <br />the phonon frequencies obtained via the Fourier interpolation of the interatomic force constants are <br />negative (purely imaginary, to be more precise).<br />The routine takes into account this possibility and it defines the frequency mesh so that it encloses the minimum and<br />the maximum phonon frequency obtained on the input q-mesh.<br />You may want to plot your phonon band structure along a high symmetry q-path<br />to understand where these vibrational instabilities are occuring.<br /><br />Matteo</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: [SOLVED] The meaning of PJDOS[1]...</h3>
				<div class="date">Posted: <strong>Mon Dec 10, 2012 8:47 am</strong></div>
				<div class="author">by <strong>ilukacevic</strong></div>
				<div class="content">Dear suvas,<br /><br />please, follow Matteo's advice, if you want to get more information about the lattice dynamics of your system.<br /><br />Why it happens is hard to answer at this moment. It could be convergence wrt ecut or ngkpt, lattice instability, &quot;wrong&quot; functional...<br /><br />Igor</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: [SOLVED] The meaning of PJDOS[1]...</h3>
				<div class="date">Posted: <strong>Mon Dec 10, 2012 2:39 pm</strong></div>
				<div class="author">by <strong>suvas</strong></div>
				<div class="content">Dear Igor/gmatteo,<br /><br />Thanks for your helpful suggestion.  I have really high ecutoff 80 which is high enough for convergence test. Actually I checked by plotting total energy with ecutoff.<br />The ngkpt is also very high around 80 80 80. I also tried with higher values, still problem remains same. I checked phonon frequency(phonon band structure) in different symmetry points. It shows that negative frequency (instabillity) is seen in gamma point or close to gamma point. Anaddb corrects negative frequency only at gamma point. But frequencies are still negative to those points which are close to gamma point. As Igor suggested, I will try with different exchange correlation.<br /><br />I once gain appreciate to both of you.<br /><br />Suvas</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: [SOLVED] The meaning of PJDOS[1]...</h3>
				<div class="date">Posted: <strong>Tue Dec 11, 2012 8:29 am</strong></div>
				<div class="author">by <strong>ilukacevic</strong></div>
				<div class="content">Dear suvas,<br /><br />1] ngkpt is 80 80 80?! Is this a typo?<br /><br />2] Convergence of total energy does not necessarily ensure the convergence of phonon frequencies. You have to check whether your phonon freqs are converged.<br /><br />3] From what you said, it may be that your system has a lattice instability at the Gamma point.<br /><br />Cheers!<br /><br />Igor</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: [SOLVED] The meaning of PJDOS[1]...</h3>
				<div class="date">Posted: <strong>Tue Dec 11, 2012 9:07 am</strong></div>
				<div class="author">by <strong>david.waroquiers</strong></div>
				<div class="content">Hello,<br /><br /><br />Have you relaxed your system to equilibrium before doing phonon frequencies ? If not, that might explain your negative answers.<br /><br /><br />David</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=12&t=603&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 01:28:05 GMT -->
</html>
