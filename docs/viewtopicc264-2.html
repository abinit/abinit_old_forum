<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=3424&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 03:47:43 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; parallel problem for AFM calculations</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>parallel problem for AFM calculations</h2>
		<p><a href="viewtopicf014.html?f=9&amp;t=3424">https://forum.abinit.org/viewtopic.php?f=9&amp;t=3424</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>parallel problem for AFM calculations</h3>
				<div class="date">Posted: <strong>Mon Nov 14, 2016 4:37 am</strong></div>
				<div class="author">by <strong>jed</strong></div>
				<div class="content">Hi all,<br />I have &quot;successfully&quot; installed Abinit-8.0.8 (no error report after installed) with the configuration:<br />&quot;./configure FC=/opt/intel/compilers_and_libraries_2017.0.098/linux/mpi/intel64/bin/mpiifort F77=/opt/intel/compilers_and_libraries_2017.0.098/linux/mpi/intel64/bin/mpif77 CC=/opt/intel/compilers_and_libraries_2017.0.098/linux/mpi/intel64/bin/mpiicc CXX=/opt/intel/compilers_and_libraries_2017.0.098/linux/mpi/intel64/bin/mpicxx FCFLAGS=-O2 -ip -xavx -Nmkl -Nmpi LDFLAGS=-O -ip -Nmkl -Nmpi -openmp CFLAGS=-O1 -ip -xavx CXXFLAGS=-O1 -ip -xavx --enable-mpi --enable-openmp --enable-atmopaw --with-dft-flavor=atompaw+libxc+wannier90 --with-fft-flavor=fftw3 --with-fft-lib=-L/opt/intel/compilers_and_libraries_2017.0.098/linux/mkl/lib/intel64 -Wl, --start-group -lmkl_intel_lp64 -lmkl_sequential -lmkl_core -Wl,--end-group -lpthread --with-linalg-flavor=mkl --with-linalg-libs=-L/opt/intel/compilers_and_libraries_2017.0.098/linux/mkl/intel64 -Wl,--start-group -lmkl_intel_lp64 -lmkl_sequential -lmkl_core -Wl,--end-group -lpthread --enable-gw-dpc AR=xiar&quot;<br /><br />When I test the code with the test-examples they provided, most can be finished completely. However, interestingly, when I test anti-ferromagnetic calculations with mpi parallel, it stopped without error but the output shows that no calculation has been carrier out, while without parallel, it can be finished well. It seems that parallel doesn't work for AFM calculations. Is it a bug for this version of abinit? Or anything others wrong?<br /><br />Thank you.<br /><br />Jed</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: parallel problem for AFM calculations</h3>
				<div class="date">Posted: <strong>Wed Nov 16, 2016 12:02 pm</strong></div>
				<div class="author">by <strong>ebousquet</strong></div>
				<div class="content">Dear Jed,<br />It is difficult to reply to you since it might be architecture/compiler dependent. On which machine/architecture are you compiling it?<br />I also advise you to use a config.ac file (you can see examples in abinit-8.0.8/doc/build/config-examples) and run as follows:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>../configure --with-config-file='./name_of_your_ac_file.ac'</code></pre></div><br />This will help to have a clear view on your flags, etc instead to have everything on one line.<br />On my side, v8.0.8 and AFM runs in parallel without problem on several machines and compilers.<br />Best wishes,<br />Eric</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=3424&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 03:47:43 GMT -->
</html>
