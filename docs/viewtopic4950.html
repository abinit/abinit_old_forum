<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=12&t=1669&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 01:28:14 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; cut3d: how to choose spatial mesh for WFK file</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>cut3d: how to choose spatial mesh for WFK file</h2>
		<p><a href="viewtopicef39.html?f=12&amp;t=1669">https://forum.abinit.org/viewtopic.php?f=12&amp;t=1669</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>cut3d: how to choose spatial mesh for WFK file</h3>
				<div class="date">Posted: <strong>Mon May 14, 2012 11:39 am</strong></div>
				<div class="author">by <strong>elena.mol</strong></div>
				<div class="content">Dear all,<br />is there a way to choose the spatial mesh used by cut3d to represent/plot wavefunctions from abinit WFK files, in particular, to make it less thick?<br />I'm using cut3d interactively, and this way i don't see any &quot;variable/keyword&quot; one can use to choose the spatial mesh. (i have only 1 k-point). Am i missing something?<br />The reason for my question is that, starting from big WFK files, i get quite big output files from cut3d, and this makes it difficult ( = slow! )  to visualize them (with XCrysDen): every command in XCrysDen, like rotating, changing the threshold for visualizing the wavefunction etc, takes a non-negligible amount of time (which doesn't happen with smaller files). Of course a thick mesh is good for final good quality figures to put in a paper, but something more coarse-grained would be better in a previous stage, when one has to make a lot of tests.<br />Is there a way to achieve this, maybe using cut3d with an input file where one specifies additional keywords? <br /><br />thanks a lot<br />cheers<br />Elena<br /><br />Elena Molteni<br />Department of Physics<br />University of Milan<br />via Celoria, 16 <br />I-20133, Milan, Italy<br />and European Theoretical Spectroscopy Facility (ETSF) <br /><!-- m --><a class="postlink" href="http://www.etsf.eu/">http://www.etsf.eu</a><!-- m --></div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: cut3d: how to choose spatial mesh for WFK file</h3>
				<div class="date">Posted: <strong>Tue May 15, 2012 1:28 am</strong></div>
				<div class="author">by <strong>kaneod</strong></div>
				<div class="content">HI Elena,<br /><br />I'd first point out that while XCrysden is great, both VMD and VESTA are better, especially on a Mac. They don't suffer the same kind of slowdowns you get from XCrysden when loading a very large .xsf file. Both can read .xsf and VMD can also read the animated version (.axsf). VESTA is great for quick visualization whereas VMD can be used to set up very complex graphical scenes with orbitals, molecular structure in various formats (ribbons, ball and stick, etc), plane cuts and so on all simultaneously. VMD can also be scripted using tk so you can, for example, have the same kind of publication-style graphic constructed from a set of different molecules.<br /><br />Second, the grid density in cut3d is derived directly from the grid used by Abinit, which is in turn controlled by the cut-off energy ecut. Unfortunately  you can't as yet restart using iscf -3 with a lower ecut, so you'd need to re-run your calculation with a lower ecut to get a lower number of grid points. You can also try to set ngfft directly in the input file but Abinit has a habit of ignoring you when you do this. <br /><br />A better way would be to write a program that coarsens the WFK files. I've got a collection of electronic-structure related code at github.com/kaneod/Bits-of-Python-for-Physics that you might want to use as a basis, one of the functions in the fortran library libabitools.f90 parses a WFK file and returns it as an array. Feel free to hack it as necessary, it's all GPLv3'd. Another function (in the python library esc_lib.py) knows how to write XSF files, and also has an interface to WFK files although it's been a while since I worked on that interface and it might not presently be working.</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=12&t=1669&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 01:28:14 GMT -->
</html>
