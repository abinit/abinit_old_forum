<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=3&t=4032&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Sep 2024 18:38:10 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; Configuration problems with Abinit 8.10.2</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>Configuration problems with Abinit 8.10.2</h2>
		<p><a href="viewtopicc53c.html?f=3&amp;t=4032">https://forum.abinit.org/viewtopic.php?f=3&amp;t=4032</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>Configuration problems with Abinit 8.10.2</h3>
				<div class="date">Posted: <strong>Sun Feb 03, 2019 3:14 am</strong></div>
				<div class="author">by <strong>JimEvans</strong></div>
				<div class="content">Hello everyone,<br /><br />I'm having problems with the configuration step that I cannot work out. Here is my .ac file:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>prefix=&quot;/usr/local&quot;<br />with_trio_flavor=&quot;netcdf&quot;<br />with_netcdf_incs=&quot;-I/usr/lib/netcdf/include&quot;<br />with_netcdf_libs=&quot;-L/usr/lib/netcdf/lib -lnetcdff -lnetcdf&quot;<br />with_fft_flavor=&quot;fftw3&quot;<br />with_fft_incs=&quot;-I/usr/include&quot;<br />with_fft_libs=&quot;-L/usr/lib/x86-64-linux-gnu -lfftw3 -lfftw3f&quot;<br />with_linalg_flavor=&quot;atlas&quot;<br />with_linalg_inc=&quot;-I/usr/include&quot;<br />with_linalg_libs=&quot;-L/usr/lib/x86_64-linux-gnu -llapack -lf77blas -lcblas -latlas&quot;<br />with_dft_flavor=&quot;atompaw+bigdft+libxc+wannier90&quot;<br />with_atompaw_bins=&quot;/usr/local/bin&quot;<br />with_atompaw_incs=&quot;-I/usr/local/include&quot;<br />with_atompaw_libs=&quot;-L/usr/local/lib&quot;<br />with_bigdft_incs=&quot;-I/usr/local/include&quot;<br />with_bigdft_libs=&quot;-L/usr/local/lib -lbigdft -lPSolver-1 -labinit&quot;<br />with_libxc_incs=&quot;-I/usr/lib/libxc/include&quot;<br />with_libxc_libs=&quot;-L/usr/lib/libxc/lib -lxc&quot;<br />with_wannier90_bins=&quot;-L/usr/local/bin&quot;<br />with_wannier90_libs=&quot;-L/usr/local/lib -lwannier&quot;<br /></code></pre></div><br /><br />I am a newbie to compiling and installing large packages in Linux. I've checked and all the libraries, binaries, and includes seem to be in the right place. However, when I run configure, it stops at <br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>checking whether NetCDF Fortran wrappers work... no</code></pre></div><br />with the error <br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>configure: error: external netcdf support does not work</code></pre></div><br /><br />If I set with_trio_flavor=&quot;none&quot;, the configuration then will proceed until it hits the libxc step, then stops at <br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>checking whether LibXC has Fortran support... no</code></pre></div><br />with the error message<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>configure: WARNING: package: libxc - preq= - working=no - incs=-I/usr/lib/libxc/include libs=-L/usr/lib/libxc/lib -lxc<br />configure: error: external libxc support does not work</code></pre></div><br /><br />I suspect that somehow the process is not finding the libraries properly, and I don't know why.<br />I am using Lubuntu 18.10 on an x86 64-bit laptop.<br /><br />Thanks!<br /><br />     JIM</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Configuration problems with Abinit 8.10.2</h3>
				<div class="date">Posted: <strong>Mon Feb 04, 2019 4:13 pm</strong></div>
				<div class="author">by <strong>jbeuken</strong></div>
				<div class="content">Hi,<br /><br />we need more infos<br /><br />- what is the fortran compiler ?  <span style="color: #FF0000">GNU 8.2 ?</span><br />- MPI or serial ? <span style="color: #FF0000"> if MPI, missing &quot;with_mpi_prefix&quot; if location is not standard</span><br />- something missing in :  with_atompaw_libs=&quot;-L/usr/local/lib&quot;    <span style="color: #FF0000"> -latompaw</span><br />- what are the outputs of these commands :<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>dpkg -l | grep netcdf<br />dpkg -l | grep atlas<br />dpkg -l | grep -i libxc<br />ls -al /usr/lib/libxc/libx*</code></pre></div><br /><br />A+<br /><br />jmb</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Configuration problems with Abinit 8.10.2</h3>
				<div class="date">Posted: <strong>Tue Feb 05, 2019 8:53 pm</strong></div>
				<div class="author">by <strong>JimEvans</strong></div>
				<div class="content">Hi,<br /><br />I have gfortran 8.2, and I am trying to install in serial.<br />The output of &quot;dpkg -l | grep netcdf&quot; is:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>ii&nbsp; libnetcdf-dev&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1:4.6.1-3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; amd64&nbsp; &nbsp; &nbsp; &nbsp; creation, access, and sharing of scientific data<br />ii&nbsp; libnetcdf13:amd64&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1:4.6.1-3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; amd64&nbsp; &nbsp; &nbsp; &nbsp; Interface for scientific data access to large binary data<br /></code></pre></div><br /><br />The output of &quot;dpkg -l | grep atlas&quot; is:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>ii&nbsp; libatlas-base-dev:amd64&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3.10.3-7build1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;amd64&nbsp; &nbsp; &nbsp; &nbsp; Automatically Tuned Linear Algebra Software, generic static<br />ii&nbsp; libatlas3-base:amd64&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.10.3-7build1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;amd64&nbsp; &nbsp; &nbsp; &nbsp; Automatically Tuned Linear Algebra Software, generic shared<br /></code></pre></div><br /><br />The output of &quot;dpkg -l | grep -i libxc&quot; is:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>ii&nbsp; libxcb-composite0:amd64&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1.13.1-1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;amd64&nbsp; &nbsp; &nbsp; &nbsp; X C Binding, composite extension<br />ii&nbsp; libxcb-damage0:amd64&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1.13.1-1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;amd64&nbsp; &nbsp; &nbsp; &nbsp; X C Binding, damage extension<br />ii&nbsp; libxcb-dri2-0:amd64&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1.13.1-1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;amd64&nbsp; &nbsp; &nbsp; &nbsp; X C Binding, dri2 extension<br />ii&nbsp; libxcb-dri2-0-dev:amd64&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1.13.1-1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;amd64&nbsp; &nbsp; &nbsp; &nbsp; X C Binding, dri2 extension, development files<br />ii&nbsp; libxcb-dri3-0:amd64&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1.13.1-1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;amd64&nbsp; &nbsp; &nbsp; &nbsp; X C Binding, dri3 extension<br />ii&nbsp; libxcb-dri3-dev:amd64&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1.13.1-1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;amd64&nbsp; &nbsp; &nbsp; &nbsp; X C Binding, dri3 extension, development files<br />ii&nbsp; libxcb-glx0:amd64&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1.13.1-1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;amd64&nbsp; &nbsp; &nbsp; &nbsp; X C Binding, glx extension<br />ii&nbsp; libxcb-glx0-dev:amd64&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1.13.1-1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;amd64&nbsp; &nbsp; &nbsp; &nbsp; X C Binding, glx extension, development files<br />ii&nbsp; libxcb-icccm4:amd64&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.4.1-1ubuntu1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;amd64&nbsp; &nbsp; &nbsp; &nbsp; utility libraries for X C Binding -- icccm<br />ii&nbsp; libxcb-image0:amd64&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.4.0-1build1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; amd64&nbsp; &nbsp; &nbsp; &nbsp; utility libraries for X C Binding -- image<br />ii&nbsp; libxcb-keysyms1:amd64&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.4.0-1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; amd64&nbsp; &nbsp; &nbsp; &nbsp; utility libraries for X C Binding -- keysyms<br />ii&nbsp; libxcb-present-dev:amd64&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1.13.1-1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;amd64&nbsp; &nbsp; &nbsp; &nbsp; X C Binding, present extension, development files<br />ii&nbsp; libxcb-present0:amd64&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1.13.1-1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;amd64&nbsp; &nbsp; &nbsp; &nbsp; X C Binding, present extension<br />ii&nbsp; libxcb-randr0:amd64&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1.13.1-1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;amd64&nbsp; &nbsp; &nbsp; &nbsp; X C Binding, randr extension<br />ii&nbsp; libxcb-randr0-dev:amd64&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1.13.1-1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;amd64&nbsp; &nbsp; &nbsp; &nbsp; X C Binding, randr extension, development files<br />ii&nbsp; libxcb-render-util0:amd64&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.3.9-1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; amd64&nbsp; &nbsp; &nbsp; &nbsp; utility libraries for X C Binding -- render-util<br />ii&nbsp; libxcb-render0:amd64&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1.13.1-1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;amd64&nbsp; &nbsp; &nbsp; &nbsp; X C Binding, render extension<br />ii&nbsp; libxcb-render0-dev:amd64&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1.13.1-1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;amd64&nbsp; &nbsp; &nbsp; &nbsp; X C Binding, render extension, development files<br />ii&nbsp; libxcb-shape0:amd64&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1.13.1-1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;amd64&nbsp; &nbsp; &nbsp; &nbsp; X C Binding, shape extension<br />ii&nbsp; libxcb-shape0-dev:amd64&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1.13.1-1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;amd64&nbsp; &nbsp; &nbsp; &nbsp; X C Binding, shape extension, development files<br />ii&nbsp; libxcb-shm0:amd64&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1.13.1-1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;amd64&nbsp; &nbsp; &nbsp; &nbsp; X C Binding, shm extension<br />ii&nbsp; libxcb-sync-dev:amd64&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1.13.1-1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;amd64&nbsp; &nbsp; &nbsp; &nbsp; X C Binding, sync extension, development files<br />ii&nbsp; libxcb-sync1:amd64&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1.13.1-1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;amd64&nbsp; &nbsp; &nbsp; &nbsp; X C Binding, sync extension<br />ii&nbsp; libxcb-util1:amd64&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0.4.0-0ubuntu3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;amd64&nbsp; &nbsp; &nbsp; &nbsp; utility libraries for X C Binding -- atom, aux and event<br />ii&nbsp; libxcb-xfixes0:amd64&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1.13.1-1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;amd64&nbsp; &nbsp; &nbsp; &nbsp; X C Binding, xfixes extension<br />ii&nbsp; libxcb-xfixes0-dev:amd64&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1.13.1-1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;amd64&nbsp; &nbsp; &nbsp; &nbsp; X C Binding, xfixes extension, development files<br />ii&nbsp; libxcb-xinerama0:amd64&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1.13.1-1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;amd64&nbsp; &nbsp; &nbsp; &nbsp; X C Binding, xinerama extension<br />ii&nbsp; libxcb-xkb1:amd64&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1.13.1-1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;amd64&nbsp; &nbsp; &nbsp; &nbsp; X C Binding, XKEYBOARD extension<br />ii&nbsp; libxcb-xv0:amd64&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1.13.1-1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;amd64&nbsp; &nbsp; &nbsp; &nbsp; X C Binding, xv extension<br />ii&nbsp; libxcb1:amd64&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1.13.1-1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;amd64&nbsp; &nbsp; &nbsp; &nbsp; X C Binding<br />ii&nbsp; libxcb1-dev:amd64&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1.13.1-1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;amd64&nbsp; &nbsp; &nbsp; &nbsp; X C Binding, development files<br />ii&nbsp; libxcomposite1:amd64&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1:0.4.4-2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; amd64&nbsp; &nbsp; &nbsp; &nbsp; X11 Composite extension library<br />ii&nbsp; libxcursor1:amd64&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1:1.1.15-1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;amd64&nbsp; &nbsp; &nbsp; &nbsp; X cursor management library</code></pre></div><br /><br />The /usr/lib/libxc directory contains no files, just bin, include, and lib directories. The lib directory contains <br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>libxc.a&nbsp; libxcf03.a&nbsp; libxcf03.la&nbsp; libxcf90.a&nbsp; libxcf90.la&nbsp; libxc.la&nbsp; pkgconfig</code></pre></div><br />Thanks!<br /><br />     Jim</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Configuration problems with Abinit 8.10.2</h3>
				<div class="date">Posted: <strong>Tue Feb 05, 2019 11:36 pm</strong></div>
				<div class="author">by <strong>jbeuken</strong></div>
				<div class="content">well, very strange installation... Lubuntu seems very different that ubuntu<br /><br />some packages seems installed in <strong class="text-strong">/usr/lib/PAKAGE</strong> like libxc, netcdf<br />others installed in <strong class="text-strong">/usr/lib/x86_64-linux-gnu</strong><br /><br />have you controled yours paths ?  <br /><br />for ex,  outputs of <br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>ls -al /usr/lib/netcdf<br />ls -al /usr/lib/libxc</code></pre></div></div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Configuration problems with Abinit 8.10.2</h3>
				<div class="date">Posted: <strong>Wed Feb 06, 2019 1:39 am</strong></div>
				<div class="author">by <strong>JimEvans</strong></div>
				<div class="content">Hi,<br /><br />Here is /usr/lib/netcdf:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>drwxr-xr-x&nbsp; &nbsp;6 root root 4096 Jan 31 17:23 .<br />drwxr-xr-x 110 root root 4096 Jan 31 17:13 ..<br />drwxr-xr-x&nbsp; &nbsp;2 root root 4096 Jan 31 17:39 bin<br />drwxr-xr-x&nbsp; &nbsp;2 root root 4096 Jan 31 17:39 include<br />drwxr-xr-x&nbsp; &nbsp;3 root root 4096 Jan 31 17:39 lib<br />drwxr-xr-x&nbsp; &nbsp;5 root root 4096 Jan 31 17:23 share</code></pre></div><br /><br />and here is /usr/lib/libxc:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>drwxr-xr-x&nbsp; &nbsp;5 root root 4096 Jan 30 18:37 .<br />drwxr-xr-x 110 root root 4096 Jan 31 17:13 ..<br />drwxr-xr-x&nbsp; &nbsp;2 root root 4096 Jan 31 13:20 bin<br />drwxr-xr-x&nbsp; &nbsp;2 root root 4096 Jan 31 13:20 include<br />drwxr-xr-x&nbsp; &nbsp;3 root root 4096 Jan 31 13:20 lib</code></pre></div><br /><br />I'm not sure what you mean about controlling my paths.<br /><br />Cheers,<br /><br />      Jim</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Configuration problems with Abinit 8.10.2</h3>
				<div class="date">Posted: <strong>Wed Feb 06, 2019 12:11 pm</strong></div>
				<div class="author">by <strong>jbeuken</strong></div>
				<div class="content">ok ! PATHs seems to exist...<br />I do not understand why the netcdf is badly detected...<br /><br />can you try with this config ?  ( I added -lxcf90  and -latompaw )<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>prefix=&quot;/usr/local&quot;<br />with_trio_flavor=&quot;netcdf&quot;<br />with_netcdf_incs=&quot;-I/usr/lib/netcdf/include&quot;<br />with_netcdf_libs=&quot;-L/usr/lib/netcdf/lib -lnetcdff -lnetcdf&quot;<br />with_fft_flavor=&quot;fftw3&quot;<br />with_fft_incs=&quot;-I/usr/include&quot;<br />with_fft_libs=&quot;-L/usr/lib/x86-64-linux-gnu -lfftw3 -lfftw3f&quot;<br />with_linalg_flavor=&quot;atlas&quot;<br />with_linalg_inc=&quot;-I/usr/include&quot;<br />with_linalg_libs=&quot;-L/usr/lib/x86_64-linux-gnu -llapack -lf77blas -lcblas -latlas&quot;<br />with_dft_flavor=&quot;atompaw+bigdft+libxc+wannier90&quot;<br />with_atompaw_bins=&quot;/usr/local/bin&quot;<br />with_atompaw_incs=&quot;-I/usr/local/include&quot;<br />with_atompaw_libs=&quot;-L/usr/local/lib -latompaw&quot;<br />with_bigdft_incs=&quot;-I/usr/local/include&quot;<br />with_bigdft_libs=&quot;-L/usr/local/lib -lbigdft -lPSolver-1 -labinit&quot;<br />with_libxc_incs=&quot;-I/usr/lib/libxc/include&quot;<br />with_libxc_libs=&quot;-L/usr/lib/libxc/lib -lxcf90 -lxc&quot;<br />with_wannier90_bins=&quot;-L/usr/local/bin&quot;<br />with_wannier90_libs=&quot;-L/usr/local/lib -lwannier&quot;</code></pre></div><br /><br />and send me the config.log <br /><br />jmb</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Configuration problems with Abinit 8.10.2</h3>
				<div class="date">Posted: <strong>Thu Feb 07, 2019 1:16 am</strong></div>
				<div class="author">by <strong>JimEvans</strong></div>
				<div class="content">Thank you very much! Here are the config log and output.<br /><div class="inline-attachment">
			
		
		
				<dl class="file">
			<dt><img src="images/upload_icons/txt.gif" alt="" /> <a class="postlink" href="download/file6ce8.php?id=1678">out.log</a></dt>
			<dd><em>Output</em></dd>			<dd>(18.16 KiB) Downloaded 323 times</dd>
		</dl>
		
		
			</div><br /><div class="inline-attachment">
			
		
		
				<dl class="file">
			<dt><img src="images/upload_icons/txt.gif" alt="" /> <a class="postlink" href="download/file83c4.php?id=1677">config.log</a></dt>
			<dd><em>Config.log</em></dd>			<dd>(119.83 KiB) Downloaded 340 times</dd>
		</dl>
		
		
			</div></div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Configuration problems with Abinit 8.10.2</h3>
				<div class="date">Posted: <strong>Thu Feb 07, 2019 2:43 pm</strong></div>
				<div class="author">by <strong>jbeuken</strong></div>
				<div class="content">Hi,<br /><br />Clearly, there is a problem with your netcdf installation...<br /><br />in config.log :<br /><br /><blockquote class="uncited"><div>gfortran -o conftest  -g -ffree-line-length-none   -I/usr/lib/netcdf/include        conftest.F90 -L/usr/lib/netcdf/lib -lnetcdff -lnetcdf       -L/usr/lib/gcc/x86_64-linux-gnu/8 -L/usr/lib/gcc/x86_64-linux-gnu/8/../../../x86_64-linux-gnu -L/usr/lib/gcc/x86_64-linux-gnu/8/../../../../lib -L/lib/x86_64-linux-gnu -L/lib/../lib -L/usr/lib/x86_64-linux-gnu -L/usr/lib/../lib -L/usr/lib/gcc/x86_64-linux-gnu/8/../../.. -lgfortran -lm -lquadmath  &gt;&amp;5<br />/usr/bin/ld: /usr/lib/netcdf/lib/libnetcdf.a(liboc_la-ocinternal.o): in function `ocinitialize':<br />/home/jim/netcdf-4.1.1/build/libncdap3/oc/../../../libncdap3/oc/ocinternal.c:167: undefined reference to `curl_version_info'<br />/usr/bin/ld: /usr/lib/netcdf/lib/libnetcdf.a(liboc_la-http.o): in function `ocsetcurlproperties':<br />/home/jim/netcdf-4.1.1/build/libncdap3/oc/../../../libncdap3/oc/http.c:283: undefined reference to `curl_easy_strerror'<br />/usr/bin/ld: /usr/lib/netcdf/lib/libnetcdf.a(liboc_la-http.o): in function `ocfetchhttpcode':<br />/home/jim/netcdf-4.1.1/build/libncdap3/oc/../../../libncdap3/oc/http.c:27: undefined reference to `curl_easy_getinfo'<br />/usr/bin/ld: /usr/lib/netcdf/lib/libnetcdf.a(liboc_la-http.o): in function `ocfetchurl_file':<br />/home/jim/netcdf-4.1.1/build/libncdap3/oc/../../../libncdap3/oc/http.c:44: undefined reference to `curl_easy_setopt'<br />/usr/bin/ld: /home/jim/netcdf-4.1.1/build/libncdap3/oc/../../../libncdap3/oc/http.c:49: undefined reference to `curl_easy_setopt'<br />/usr/bin/ld: /home/jim/netcdf-4.1.1/build/libncdap3/oc/../../../libncdap3/oc/http.c:54: undefined reference to `curl_easy_setopt'<br />...<br />/usr/bin/ld: /usr/lib/netcdf/lib/libnetcdf.a(liboc_la-curlfunctions.o):/home/jim/netcdf-4.1.1/build/libncdap3/oc/../../../libncdap3/oc/curlfunctions.c:88: more undefined references to `curl_easy_setopt' follow<br />collect2: error: ld returned 1 exit status</div></blockquote><br /><br />it seems that curl lib is missing !<br />in my installation , there are these two libs :<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>ii&nbsp; libcurl3-gnutls:amd64&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 7.58.0-2ubuntu3.6&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; amd64&nbsp; &nbsp; &nbsp; &nbsp; easy-to-use client-side URL transfer library (GnuTLS flavour)<br />ii&nbsp; libcurl4-gnutls-dev:amd64&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 7.58.0-2ubuntu3.6&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; amd64&nbsp; &nbsp; &nbsp; &nbsp; development files and documentation for libcurl (GnuTLS flavour)</code></pre></div><br /><br />then, I think you must install these two librairies...<br /><br />but what disturbs me, is the presence of the folder &quot;/usr/lib/netcdf&quot; !<br />I think there is perhaps a conflict between the installed ubuntu libraries ( libnetcdf-dev  and  libnetcdf13 ) and the installation in the folder &quot;/usr/lib/netcdf&quot; which is not standard.<br /><br />Finally, if you try to use the installed ubuntu libraries, the fortran components of netcdf are missing :<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>ii&nbsp; libnetcdff-dev&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4.4.4+ds-3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;amd64&nbsp; &nbsp; &nbsp; &nbsp; creation, access, and sharing of scientific data in Fortran<br />ii&nbsp; libnetcdff6&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 4.4.4+ds-3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;amd64&nbsp; &nbsp; &nbsp; &nbsp; Fortran interface for scientific data access to large binary data</code></pre></div><br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>apt install libnetcdff-dev libnetcdff6&nbsp; &nbsp;</code></pre></div><br /><br />After the installation of the fortran components, can you retry with this netcdf configuration :<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>with_trio_flavor=&quot;netcdf&quot;<br />with_netcdf_incs=&quot;-I/usr/include&quot;<br />with_netcdf_libs=&quot;-L/usr/lib -lnetcdff -lnetcdf&quot;</code></pre></div><br /><br /><br />jmb</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Configuration problems with Abinit 8.10.2</h3>
				<div class="date">Posted: <strong>Sun Feb 17, 2019 2:24 am</strong></div>
				<div class="author">by <strong>JimEvans</strong></div>
				<div class="content">This seems to do the trick with netcdf.<br /><br />So I spent the last week recompiling the libxc, bigdft, etc libraries and making sure everything was in /usr/local. However the configure script is still choking on libxc.<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>checking whether to select a fallback for libxc... no<br />checking xc.h usability... yes<br />checking xc.h presence... yes<br />checking for xc.h... yes<br />checking xc_funcs.h usability... yes<br />checking xc_funcs.h presence... yes<br />checking for xc_funcs.h... yes<br />checking for Fortran module includes... none required (cached)<br />checking whether LibXC has Fortran support... yes<br />checking whether this is LibXC version 2.2-&gt;4.2... no<br />configure: WARNING: package: libxc - preq= - working=no - incs=-I/usr/local/include libs=-L/usr/local/lib -lxcf90 -lxc -lxcf03<br /></code></pre></div><br /><br />Could this be because I am trying to use libxc-4.3.0 instead of 4.2? Config and log files below:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>prefix=&quot;/usr/local&quot;<br />with_trio_flavor=&quot;netcdf&quot;<br />with_netcdf_incs=&quot;-I/usr/include&quot;<br />with_netcdf_libs=&quot;-L/usr/lib -lnetcdff -lnetcdf&quot;<br />with_fft_flavor=&quot;fftw3&quot;<br />with_fft_incs=&quot;-I/usr/include&quot;<br />with_fft_libs=&quot;-L/usr/lib/x86-64-linux-gnu -lfftw3 -lfftw3f&quot;<br />with_linalg_flavor=&quot;atlas&quot;<br />with_linalg_inc=&quot;-I/usr/include&quot;<br />with_linalg_libs=&quot;-L/usr/lib/x86_64-linux-gnu -llapack -lf77blas -lcblas -latlas&quot;<br />with_dft_flavor=&quot;atompaw+bigdft+libxc+wannier90&quot;<br />with_atompaw_bins=&quot;/usr/local/bin&quot;<br />with_atompaw_incs=&quot;-I/usr/local/include&quot;<br />with_atompaw_libs=&quot;-L/usr/local/lib -latompaw&quot;<br />with_bigdft_incs=&quot;-I/usr/local/include&quot;<br />with_bigdft_libs=&quot;-L/usr/local/lib -lbigdft -lPSolver -labinit&quot;<br />enable_fallbacks=yes<br />with_libxc_incs=&quot;-I/usr/local/include&quot;<br />with_libxc_libs=&quot;-L/usr/local/lib -lxcf90 -lxc -lxcf03&quot;<br />with_wannier90_bins=&quot;-L/usr/local/bin&quot;<br />with_wannier90_libs=&quot;-L/usr/local/lib -lwannier&quot;</code></pre></div><br /><div class="inline-attachment">
			
		
		
				<dl class="file">
			<dt><img src="images/upload_icons/txt.gif" alt="" /> <a class="postlink" href="download/file6882.php?id=1679">config.log</a></dt>
			<dd><em>configure log file</em></dd>			<dd>(121.8 KiB) Downloaded 291 times</dd>
		</dl>
		
		
			</div><br /><br />I am inexperienced installing things in a Linux/Unix environment. I feel like I'm missing something fundamental in making these libraries...<br /><br />Cheers,<br /><br />     Jim</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Configuration problems with Abinit 8.10.2&nbsp;&nbsp;<span style="color: #006600">[SOLVED]</span></h3>
				<div class="date">Posted: <strong>Mon Feb 18, 2019 9:56 pm</strong></div>
				<div class="author">by <strong>JimEvans</strong></div>
				<div class="content">My problem with libxc WAS that I was using 4.3.0 instead of 4.2.*. I am still not having any luck with bigDFT and wannier90, but I don't think I need those yet. If I do, I will be back  <img class="smilies" src="images/smilies/icon_e_biggrin.gif" alt=":D" title="Very Happy" /> <br /><br />Thanks for your help!</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=3&t=4032&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Sep 2024 18:38:10 GMT -->
</html>
