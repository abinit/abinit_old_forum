<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=4338&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Sep 2024 19:17:13 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; Positron calculations fail with forrtl: severe (174): SIGSEGV, segmentation fault occurred</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>Positron calculations fail with forrtl: severe (174): SIGSEGV, segmentation fault occurred</h2>
		<p><a href="viewtopic237d.html?f=9&amp;t=4338">https://forum.abinit.org/viewtopic.php?f=9&amp;t=4338</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>Positron calculations fail with forrtl: severe (174): SIGSEGV, segmentation fault occurred</h3>
				<div class="date">Posted: <strong>Wed Mar 11, 2020 12:48 pm</strong></div>
				<div class="author">by <strong>rajaraman</strong></div>
				<div class="content">Dear all,<br>
I have been doing positron calculations in vacancies in various systems.<br>
My recent system FeB gave lot of trouble in optimizing and completing runs.<br>
system is 95 atom FeB supercell with B vacancy.<br>
Run supposed to self consistently relax the structure taking into account positron induced forces.<br>
After completing the electronic convergence step my job fails at start of positron convergence<br>
<br>
potentials are generated from JTH Input files and groundsate lattice parameters and magentic moments are fine.<br>
simple two-step positron calculations go through without problem even for both Fe and B vacancies.<br>
failure occur for self-consistent positron calculations<br>
<br>
tried various combinations and job keep failing at positron step.<br>
<br>
Attached input and output files<br>
log file is big and given below is the fail point<br>
<br>
Where am I going wrong?<br>
advanced thanks<br>
-rajaraman<br>
<br>
------------------<br>
Tail of out file<br>
ETOT 57  -6115.2796550569     7.27E-07 8.17E-08 2.43E-04 4.5E-05 9.72E-03 54.83<br>
<br>
At SCF step   57, etot is converged :<br>
  for the second time, diff in etot=  7.266E-07 &lt; toldfe=  1.000E-06<br>
<br>
TC-DFT STEP   2 - POSITRONIC GROUND-STATE CALCULATION IN PRESENCE OF ELECTRONS AND IONS<br>
<br>
Failure part in log file<br>
Component down:<br>
  25.99451  -6.25429   0.00067  -0.00017  -0.00005  -0.00065   0.00016   0.00005  -0.00006  -0.00098   0.00058  -0.00009 ...<br>
  -6.25429   1.53067  -0.00014   0.00002   0.00001   0.00005  -0.00011  -0.00002   0.00001   0.00012  -0.00008   0.00001 ...<br>
   0.00067  -0.00014  21.11825  -0.00076  -0.00006 -28.30960   0.00070   0.00005  -0.00007  -0.00101  -0.00080   0.00002 ...<br>
  -0.00017   0.00002  -0.00076  21.11983  -0.00007   0.00070 -28.31112   0.00007   0.00002  -0.00014   0.00076  -0.00010 ...<br>
  -0.00005   0.00001  -0.00006  -0.00007  21.11975   0.00005   0.00007 -28.31109   0.00116   0.00002  -0.00004  -0.00008 ...<br>
  -0.00065   0.00005 -28.30960   0.00070   0.00005  38.26167  -0.00016  -0.00005   0.00007   0.00084   0.00061  -0.00001 ...<br>
   0.00016  -0.00011   0.00070 -28.31112   0.00007  -0.00016  38.26240  -0.00005  -0.00001   0.00018  -0.00042   0.00009 ...<br>
   0.00005  -0.00002   0.00005   0.00007 -28.31109  -0.00005  -0.00005  38.26237  -0.00084  -0.00001   0.00002   0.00018 ...<br>
  -0.00006   0.00001  -0.00007   0.00002   0.00116   0.00007  -0.00001  -0.00084  10.18214   0.00007   0.00007  -0.00058 ...<br>
  -0.00098   0.00012  -0.00101  -0.00014   0.00002   0.00084   0.00018  -0.00001   0.00007  10.18099   0.00019   0.00000 ...<br>
   0.00058  -0.00008  -0.00080   0.00076  -0.00004   0.00061  -0.00042   0.00002   0.00007   0.00019  10.18183  -0.00016 ...<br>
  -0.00009   0.00001   0.00002  -0.00010  -0.00008  -0.00001   0.00009   0.00018  -0.00058   0.00000  -0.00016  10.18273 ...<br>
   ...  only 12  components have been written...<br>
<br>
<br>
ITER STEP NUMBER    58<br>
vtorho : nnsclo_now=1, note that nnsclo,dbl_nnsclo,istep=-3 0 58<br>
You should try to get npband*bandpp=  504<br>
For information matrix size is     3202<br>
forrtl: severe (174): SIGSEGV, segmentation fault occurred</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Positron calculations fail with forrtl: severe (174): SIGSEGV, segmentation fault occurred</h3>
				<div class="date">Posted: <strong>Mon Mar 16, 2020 12:20 pm</strong></div>
				<div class="author">by <strong>rajaraman</strong></div>
				<div class="content">I found that "optstress 1" is giving me this error.<br>
I switched on stress calculation to first see how the vacancy relax without positron (normal structural relaxation run).<br>
Once I put it off with  "optstress 0", positron optimisation steps are going through.<br>
<br>
But testing with smaller supercell as given in positron tutorial-4 (<a href="https://docs.abinit.org/tutorial/positron/index.html" class="postlink">https://docs.abinit.org/tutorial/positron/index.html</a>) does not make any issue with optstress being "on" or "off".<br>
<br>
However "Segmentation fault" recurrs when I use 64 atom supercell for silicon in our parallel machine with "optstress 1".<br>
May be some thing todo with our parallel environment and my compilation.<br>
<br>
Any way for positron calculations We dont need the stress calculations as long as our super cell is big enough.<br>
I will get back if this issue resurfaces again  with "optstress 0".<br>
<br>
Thanks<br>
-rajaraman</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=4338&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Sep 2024 19:17:13 GMT -->
</html>
