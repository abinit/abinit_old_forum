<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=806&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 03:31:51 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; polarization by lda+u and paw pseudopotention</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>polarization by lda+u and paw pseudopotention</h2>
		<p><a href="viewtopicb630.html?f=9&amp;t=806">https://forum.abinit.org/viewtopic.php?f=9&amp;t=806</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>2</strong></div>
					<div class="post">
				<h3>polarization by lda+u and paw pseudopotention</h3>
				<div class="date">Posted: <strong>Tue Dec 21, 2010 2:40 pm</strong></div>
				<div class="author">by <strong>mina</strong></div>
				<div class="content">Hello,<br />i wana to use lda+u to calculate polarization of bifeo3.i have an WARNING like this.<br />could you please tell me why i have this warning?<br />input file:<br />acell 5.58132 5.58132 13.87698 angstrom<br />angdeg 90 90 120<br />spgroup 161<br />brvltt -1<br />chkprim 0<br />#Atom definition<br />natom 10<br />natrd 3<br />ntypat 3<br />znucl 83 26 8<br />typat 1 1 2 2 3 3 3 3 3 3<br /><br />#SCF parameters<br />ixc 7<br />iscf 17<br />nstep 100<br />#planewave basis<br />ecut 35<br />pawecutdg 50<br />pawovlp -1.5<br />kptopt 4<br />ngkpt 2 2 2<br />nshiftk 1<br />shiftk 0.5 0.5 0.5<br />toldfe 1.0d-12<br />#Berry phase calculation of the polarization<br /><br />berryopt -1<br />rfdir 1 1 1<br />xred   0.000000000 0.000000000 0.000000000<br />       0.000000000 0.000000000 0.221200004<br />       0.442999989 0.012000000 0.954299986<br />nbdbuf 0<br />usepawu 1<br />lpawu -1 2 -1<br />upawu 0.0 7.0 0.0 ev<br />jpawu 0.0 0.9 0.0 ev<br />and WARNING:<br /> chkpawovlp : WARNING -<br />  PAW SPHERES ARE OVERLAPPING !<br />   Distance between atoms   2 and   4 is  :   3.66418<br />   PAW radius of the sphere around atom   2 is:   2.60648<br />   PAW radius of the sphere around atom   4 is:   2.31741<br />   This leads to a (voluminal) overlap ratio of 10.71 %<br /><br />  COMPENSATION DENSITIES ARE OVERLAPPING !!!!<br />   Distance between atoms   2 and   4 is  :   3.66418<br />   Compensation radius around atom   2 is:   2.60648<br />   Compensation radius around atom   4 is:   2.01261<br />   This leads to a (voluminal) overlap ratio of  8.82 %<br />  THIS IS DANGEROUS !, as PAW formalism assume non-overlapping compensation densities.<br /><br />  =&gt; Note that other spheres are overlapping !<br /><br />       Results might be approximate,<br />       and even inaccurate (if overlap is too big) !<br />       Assume experienced user. Execution will continue.<br />  scfcv : before setvtr, energies%e_hartree=  0.000000000000000E+000<br /><br /> ewald : nr and ng are    4 and   10<br />  setvtr : istep,n1xccc,moved_rhor=           1           1           0<br />  scfcv : after setvtr, energies%e_hartree=   60.0094533400047<br /><br />Thankyou.<br /><br />~<br />&quot;polnaf.in&quot; 42L, 680C</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: polarization by lda+u and paw pseudopotention</h3>
				<div class="date">Posted: <strong>Tue Dec 21, 2010 4:49 pm</strong></div>
				<div class="author">by <strong>jzwanzig</strong></div>
				<div class="content">Your Bi and Fe PAW spheres are large enough that they are overlapping in real space. The PAW theory depends on the assumption that the PAW spheres do not overlap, therefore your calculation is highly suspect and probably will be wrong. You need to use PAW radii that are small enough that the spheres do not overlap. This may mean that you will have to make your own PAW data sets for your system, fortunately the web site gives you an excellent tutorial to learn how to do this.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: polarization by lda+u and paw pseudopotention</h3>
				<div class="date">Posted: <strong>Wed Dec 22, 2010 7:34 am</strong></div>
				<div class="author">by <strong>mina</strong></div>
				<div class="content">Hello,<br />Thankyou for your attention,can i ask you tell me the address of tutorial?<br />Best regards.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: polarization by lda+u and paw pseudopotention</h3>
				<div class="date">Posted: <strong>Wed Dec 22, 2010 10:52 am</strong></div>
				<div class="author">by <strong>david.waroquiers</strong></div>
				<div class="content">Hello,<br /><br />You can find information about generating PAW Datasets with atomPAW in the following link :<br /><br /><a href="http://www.abinit.org/downloads/PAW/AtomPAW2Abinit-Manual-html/AtomPAW2Abinit2.htm" class="postlink">http://www.abinit.org/downloads/PAW/AtomPAW2Abinit-Manual-html/AtomPAW2Abinit2.htm</a><br /><br />David</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: polarization by lda+u and paw pseudopotention</h3>
				<div class="date">Posted: <strong>Wed Dec 22, 2010 12:24 pm</strong></div>
				<div class="author">by <strong>mina</strong></div>
				<div class="content">Dear David,<br />Thankyou for your guide but i don't know what i have to change?<br />could you please tell me which part of paw of Bi and Fe i have to change?<br />Thank you.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: polarization by lda+u and paw pseudopotention</h3>
				<div class="date">Posted: <strong>Wed Dec 22, 2010 12:37 pm</strong></div>
				<div class="author">by <strong>jzwanzig</strong></div>
				<div class="content">If the PAW spheres are too big you have to change rpaw, the paw radius. This is set in the input file to atompaw when the paw sets are created. Please, do the tutorial on PAW data sets and then try re-making your PAW sets with smaller radii.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: polarization by lda+u and paw pseudopotention</h3>
				<div class="date">Posted: <strong>Mon Jan 03, 2011 1:59 pm</strong></div>
				<div class="author">by <strong>mina</strong></div>
				<div class="content">Dear professor jzwanzig,<br />as you tell me i have found about make atompaw but i have some question,please:<br />can i use windose instead of linux to make atompaw?<br />Is there any new version of abinit that dosen't have this proble?<br />Best regards.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: polarization by lda+u and paw pseudopotention</h3>
				<div class="date">Posted: <strong>Mon Jan 03, 2011 11:15 pm</strong></div>
				<div class="author">by <strong>jzwanzig</strong></div>
				<div class="content">Well, you can compile atompaw on any platform that has a fortran compiler and blas/lapack libraries. Next, this is not an issue of abinit (&quot;a problem&quot; as you call it), the PAW input files are totally separate from abinit and are read in at run-time. If an available set doesn't meet your needs or tests then you have to create your own.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: polarization by lda+u and paw pseudopotention</h3>
				<div class="date">Posted: <strong>Tue Jan 04, 2011 12:24 pm</strong></div>
				<div class="author">by <strong>mina</strong></div>
				<div class="content">Hello professor jzwanzig,<br />Thankyou for your kindness,i couldn't make paw for bi and fe until now but i used paw pseudopotential generated by USpp2abinit.in this pseuodopotentials rpaw is smaller than paw pseuodopotentials but when i run my problem i have WArning and ERROR.<br />could you please tell me what is this wrong?<br />Thankyou.Best regards.<br />input:<br />acell 3*5.6343 angstrom<br />angdeg 59.348 59.348 59.348<br />natom 10<br />ntypat 3<br />znucl 83 26 8<br />typat 1 1 2 2 3 3 3 3 3 3<br />ixc 2<br />iscf 17<br />nstep 100<br />ecut 35<br />pawecutdg 50<br />pawovlp -1.5<br />kptopt 1<br />ngkpt 2 2 2<br />nshiftk 1<br />shiftk 0.5 0.5 0.5<br />toldfe 1.0d-12<br />berryopt -1<br />rfdir 1 1 1<br />ndtset 3<br />jdtset 1 2 3<br />xred1 0.000000000 0.000000000 0.000000000<br />      0.500000000 0.500000000 0.500000000<br />      0.220770001 0.220770001 0.220770001<br />      0.720770001 0.720770001 0.720770001<br />      0.527899981 0.933300018 0.394800007<br />      0.394800007 0.527899981 0.933300018<br />      0.933300018 0.394800007 0.527899981<br />      0.894800007 0.433299989 0.027899999<br />      0.433299989 0.027899999 0.894800007<br />      0.027899999 0.894800007 0.433299989<br />xred2  0.000000000 0.000000000 0.000000000<br />      0.500000000 0.500000000 0.500000000<br />      0.230770001 0.230770001 0.230770001<br />      0.730770001 0.730770001 0.730770001<br />      0.527899981 0.933300018 0.394800007<br />      0.394800007 0.527899981 0.933300018<br />      0.933300018 0.394800007 0.527899981<br />      0.894800007 0.433299989 0.027899999<br />      0.433299989 0.027899999 0.894800007<br />      0.027899999 0.894800007 0.433299989<br /><br />xred3 0.000000000 0.000000000 0.000000000<br />      0.500000000 0.500000000 0.500000000<br />      -0.230770001 -0.230770001 -0.230770001<br />      -0.730770001 -0.730770001 -0.730770001<br />      0.527899981 0.933300018 0.394800007<br />      0.394800007 0.527899981 0.933300018<br />      0.933300018 0.394800007 0.527899981<br />      0.894800007 0.433299989 0.027899999<br />      0.433299989 0.027899999 0.894800007<br />      0.027899999 0.894800007 0.433299989<br /><br />nbdbuf 0<br />usepawu 1<br />lpawu -1 2 -1<br />upawu 0.0 7.0 0.0 ev<br />jpawu 0.0 0.7 0.0 ev<br />  WARNING:<br />   print_ij: WARNING -<br />  The matrix seems to have high value(s) !<br />  (  3 components have a value greater than   50.0).<br />  It can cause instabilities during SCF convergence.<br />  Action: you should check your atomic dataset (psp file)<br />          and look for &quot;high&quot; projector functions...<br />ERROR:<br /> smatrix_pawinit: ERROR -<br />   Not compatible with mkmem=0 !<br />Thankyou.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: polarization by lda+u and paw pseudopotention</h3>
				<div class="date">Posted: <strong>Tue Jan 04, 2011 4:06 pm</strong></div>
				<div class="author">by <strong>jzwanzig</strong></div>
				<div class="content">Hi,<br />I got your input to run without much problem. The WARNING is due to the fact that the Bi PAW dataset must have projectors close together or something like that; it's just a warning, so you can live with it, but it is also a signal that the Bi PAW dataset isn't very good and you should make a better one. <br /><br />The mkmem issue I think is due to your machine having limited RAM and so abinit is trying to write to disk but the code is not supporting that operation. Your calculation is quite large (many bands, atoms) and you are using a VERY high cut-off for PAW. If you make better PAW datasets you should be able to get this under 20 or even under 15 (though I find this difficult with oxygen) and that will help a lot, by reducing memory needs substantially.<br /><br />So, to summarize: the calculation is working but you really need to make and optimize your own PAW sets and you probably need to run on a larger computer with more memory.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: polarization by lda+u and paw pseudopotention</h3>
				<div class="date">Posted: <strong>Sat Jan 15, 2011 10:17 am</strong></div>
				<div class="author">by <strong>mina</strong></div>
				<div class="content">Hello professor jzwanzig,<br />Thank you for your kindness,as you told me i have to make pusedopotential for Bi and Fe myself.i studied tutorial and user guide and i download atompaw-3.0 version<br />but i have a problem:when i do command ./configure to compile it i have an error like this:<br />configure: error: no working linear algebra libraries have been found<br />i underestood i need lapack and blas so i download lapack-3.3.0.but i have again that error.<br />could you please tell me where i have to downlod lapack-3.3.0?in atompaw-3.0?<br />could you plaese guide me what i have to do to compile atompaw-3.0?<br />this is my conatins of atompaw-3.0:<br />aclocal.m4  ChangeLog  config.h.in  configure     COPYING  example  Makefile.am  NEWS    src<br />AUTHORS     config     config.log   configure.ac  doc      INSTALL  Makefile.in  README<br />Best wishes.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: polarization by lda+u and paw pseudopotention</h3>
				<div class="date">Posted: <strong>Mon Jan 17, 2011 12:41 pm</strong></div>
				<div class="author">by <strong>jzwanzig</strong></div>
				<div class="content">Hi,<br /><br />it sounds like your atompaw ./configure can't find the lapack libraries. You may have to tell it where they are. Suppose they are in /usr/local/lib, then you would use<br /><br />./configure --with-linalg-libs=&quot;-L/usr/local/lib -llapack -lblas&quot;.<br /><br />The &quot;-L&quot; is the typical compiler option that that tells it to include a given directory in its search for libraries.<br /><br />what computer platform are you using, and what compiler?<br /><br />Joe</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: polarization by lda+u and paw pseudopotention</h3>
				<div class="date">Posted: <strong>Mon Jan 17, 2011 2:41 pm</strong></div>
				<div class="author">by <strong>Alain_Jacques</strong></div>
				<div class="content">... and,  if you compile atompaw on the same platform as abinit, you have a ready-to-use blas/lapack (and well tested) in prereqs/linalg.<br /><br />Alain</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: polarization by lda+u and paw pseudopotention</h3>
				<div class="date">Posted: <strong>Sat Jan 29, 2011 8:15 am</strong></div>
				<div class="author">by <strong>mina</strong></div>
				<div class="content">Hello professor Alain-Jacques and professor jzwanzig,<br />Thankyou for your kindness,i could solve that problem with atompaw,now i can run my job with atompaw but when i wana use it for Bi  my job will be exit.<br />could you please tell me what is my mistake?<br />this is my Input file:<br />Bi 83<br />LDA-PW<br />6 6 5 4 0<br />6 1 3<br />0 0 0<br />c<br />c<br />c<br />c<br />c<br />v<br />c<br />c<br />c<br />c<br />v<br />c<br />c<br />v<br />v<br />3<br />1.6<br />n<br />n<br />n<br />n<br />Vanderbilt<br />2.0<br />1.6<br />1.6<br />1.6<br />1.6<br />1.6<br />1.6<br />0<br />i have  this files when i exit:<br />Bi  Bi.atompaw.input  dummy  out<br />Best regards.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: polarization by lda+u and paw pseudopotention</h3>
				<div class="date">Posted: <strong>Sat Jan 29, 2011 11:15 am</strong></div>
				<div class="author">by <strong>Alain_Jacques</strong></div>
				<div class="content">Hello Mina,<br /><br />Unless you have compelling reasons to do so, no need to put 4f in valence (and if you want to, 5p should be there too IMHO - look at the energies). Add at least 1 projector/moment if you care about accuracy. So I would suggest to work around the following atompaw input (just a quick draft, very unfinished; you'll have to look at the derivatives to optimize it) ...<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>Bi 83<br />LDA-PW loggrid 1200 scalarrelativistic<br />6 6 5 4 0<br />6 1 3<br />0 0 0<br />c<br />c<br />c<br />c<br />c<br />v<br />c<br />c<br />c<br />c<br />v<br />c<br />c<br />v<br />c<br />2<br />2.2<br />y<br />0.0<br />n<br />y<br />1.0<br />n<br />y<br />0.0<br />n<br />VANDERBILT<br />3 0.0 ultrasoft<br />2.15<br />2.15<br />2.15<br />2.15<br />2.15<br />2.15<br />0</code></pre></div><br /><br />Inspire yourself with Joe's good pseudo for Pb on <!-- m --><a class="postlink" href="http://www.abinit.org/downloads/PAW/CONTRIB/ATOMICDATA/082-pb">http://www.abinit.org/downloads/PAW/CON ... ATA/082-pb</a><!-- m --> - it should be very similar.<br /><br />Kind regards,<br /><br />Alain</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: polarization by lda+u and paw pseudopotention</h3>
				<div class="date">Posted: <strong>Sat Jan 29, 2011 1:10 pm</strong></div>
				<div class="author">by <strong>mina</strong></div>
				<div class="content">Dear professor Alain-Jacques,<br />Thankyou for your kindness,as you know i wana to calculate polarization of bifeo3 with LDA+U but fe and bi have large over lapping.i have to make pesudopotential for them and with rpaw smaller than before.i saw you used rpaw=2.2.<br />can i use this rpaw?or can i choose smaller than this?<br />Best wishes.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: polarization by lda+u and paw pseudopotention</h3>
				<div class="date">Posted: <strong>Sat Jan 29, 2011 9:14 pm</strong></div>
				<div class="author">by <strong>Alain_Jacques</strong></div>
				<div class="content">Hello Mina,<br /><br />rpaw=2.2 a.u. choice is related to core/valence considerations. If you want a rpaw around 1.6 a.u., then you'll have to include a bunch of electrons as valence. Look at the attached plot of Bi radial wf ... <div class="inline-attachment">
			
				<dl class="thumbnail">
			<dt><a href="download/file8d02.png?id=263&amp;mode=view"><img src="download/file5eb9.png?id=263&amp;t=1" class="postimage" alt="bi83wf.png" title="bi83wf.png (45.86 KiB) Viewed 15585 times" /></a></dt>
					</dl>
		
		
		
		
			</div> At 1.6 a.u., 5s, 5p, 5d, 6s, 6p are all valence. So my second draft for a 60 core / 23 valence Bi would look like <div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>Bi 83<br />LDA-PW loggrid 1200 scalarrelativistic<br />6 6 5 4 0<br />6 1 3<br />0 0 0<br />c<br />c<br />c<br />c<br />v<br />v<br />c<br />c<br />c<br />v<br />v<br />c<br />c<br />v<br />c<br />2<br />1.6<br />y<br />2.0<br />n<br />y<br />0.0<br />n<br />y<br />0.0<br />n<br />VANDERBILT<br />3 0.0 ultrasoft<br />1.5<br />1.5<br />1.5<br />1.5<br />1.5<br />1.5<br />1.5<br />1.5<br />0</code></pre></div><br />Not a finished job ... it has to be tuned/checked/tested ...<br /><br />Alain</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: polarization by lda+u and paw pseudopotention</h3>
				<div class="date">Posted: <strong>Mon Jan 31, 2011 8:49 am</strong></div>
				<div class="author">by <strong>mina</strong></div>
				<div class="content">Hello professor Alain_Jacques,<br />Thankyou for your kindness,i could make pesudopotential and nowi have pesudopotential for Bi.i wanted to test it for this i wana to calculate bond length of Bi but i have an error.could you please tell me what i have done wrong?<br />input file:<br />ndtset 21<br />xcart: -0.5 0.0 0.0<br />       0.5 0.0 0.0<br />xcart+ -0.025 0.0 0.0<br />        0.025 0.0 0.0<br />getwfk -1<br />nband 50<br />acell 10 10 10<br />ntypat 1<br />znucl 83<br />natom 2<br />typat 1 1<br />ecut 10<br />pawecutdg 20<br />kptopt 0<br />nkpt 1<br />nstep 10<br />toldfe 1.0d-6<br />diemac 2.0<br />~<br />ERROR:<br />- pspatm: opening atomic psp file    ../83bi-N/Bi.LDA-PW-paw.abinit<br /> Paw atomic data for element Bi - Generated by atompaw v3.0 &amp; AtomPAW2Abinit v3.3.1<br />  83.00000  23.00000  20110130                znucl, zion, pspdat<br />    7    7    2    0       853   0.00000      pspcod,pspxc,lmax,lloc,mmax,r2well<br /><br /> psp7in: ERROR -<br />  This version of PAW psp file ( 5) is not compatible with<br />  current version of Abinit.<br /><br />Best regards.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: polarization by lda+u and paw pseudopotention</h3>
				<div class="date">Posted: <strong>Mon Jan 31, 2011 9:42 am</strong></div>
				<div class="author">by <strong>jzwanzig</strong></div>
				<div class="content">What version of abinit are you running?</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: polarization by lda+u and paw pseudopotention</h3>
				<div class="date">Posted: <strong>Mon Jan 31, 2011 10:42 am</strong></div>
				<div class="author">by <strong>mina</strong></div>
				<div class="content">Dear professor jzwanzig,<br />i have abinit-6.0.4.<br />Best regards.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: polarization by lda+u and paw pseudopotention</h3>
				<div class="date">Posted: <strong>Mon Jan 31, 2011 11:42 am</strong></div>
				<div class="author">by <strong>mina</strong></div>
				<div class="content">Dear professor jzwanzig,<br />sorry.i have another question too.as you know i sended input file with this errors and you told me &quot;I got your input to run without much problem. The WARNING is due to the fact that the Bi PAW dataset must have projectors close together or something like that; it's just a warning, so you can live with it, but it is also a signal that the Bi PAW dataset isn't very good and you should make a better one. <br /><br />The mkmem issue I think is due to your machine having limited RAM and so abinit is trying to write to disk but the code is not supporting that operation. Your calculation is quite large (many bands, atoms) and you are using a VERY high cut-off for PAW. If you make better PAW datasets you should be able to get this under 20 or even under 15 (though I find this difficult with oxygen) and that will help a lot, by reducing memory needs substantially.&quot;<br />could you please tell me how can i optimize my own paw set and reduce memory needs becaese i have not larger computer with large memory?<br />my input :acell 3*5.6343 angstrom<br />angdeg 59.348 59.348 59.348<br />natom 10<br />ntypat 3<br />znucl 83 26 8<br />typat 1 1 2 2 3 3 3 3 3 3<br />ixc 2<br />iscf 17<br />nstep 100<br />ecut 35<br />pawecutdg 50<br />pawovlp -1.5<br />kptopt 1<br />ngkpt 2 2 2<br />nshiftk 1<br />shiftk 0.5 0.5 0.5<br />toldfe 1.0d-12<br />berryopt -1<br />rfdir 1 1 1<br />ndtset 3<br />jdtset 1 2 3<br />xred1 0.000000000 0.000000000 0.000000000<br />0.500000000 0.500000000 0.500000000<br />0.220770001 0.220770001 0.220770001<br />0.720770001 0.720770001 0.720770001<br />0.527899981 0.933300018 0.394800007<br />0.394800007 0.527899981 0.933300018<br />0.933300018 0.394800007 0.527899981<br />0.894800007 0.433299989 0.027899999<br />0.433299989 0.027899999 0.894800007<br />0.027899999 0.894800007 0.433299989<br />xred2 0.000000000 0.000000000 0.000000000<br />0.500000000 0.500000000 0.500000000<br />0.230770001 0.230770001 0.230770001<br />0.730770001 0.730770001 0.730770001<br />0.527899981 0.933300018 0.394800007<br />0.394800007 0.527899981 0.933300018<br />0.933300018 0.394800007 0.527899981<br />0.894800007 0.433299989 0.027899999<br />0.433299989 0.027899999 0.894800007<br />0.027899999 0.894800007 0.433299989<br /><br />xred3 0.000000000 0.000000000 0.000000000<br />0.500000000 0.500000000 0.500000000<br />-0.230770001 -0.230770001 -0.230770001<br />-0.730770001 -0.730770001 -0.730770001<br />0.527899981 0.933300018 0.394800007<br />0.394800007 0.527899981 0.933300018<br />0.933300018 0.394800007 0.527899981<br />0.894800007 0.433299989 0.027899999<br />0.433299989 0.027899999 0.894800007<br />0.027899999 0.894800007 0.433299989<br /><br />nbdbuf 0<br />usepawu 1<br />lpawu -1 2 -1<br />upawu 0.0 7.0 0.0 ev<br />jpawu 0.0 0.7 0.0 ev<br />WARNING:<br />print_ij: WARNING -<br />The matrix seems to have high value(s) !<br />( 3 components have a value greater than 50.0).<br />It can cause instabilities during SCF convergence.<br />Action: you should check your atomic dataset (psp file)<br />and look for &quot;high&quot; projector functions...<br />ERROR:<br />smatrix_pawinit: ERROR -<br />Not compatible with mkmem=0 !<br />Thank you for your kindness.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: polarization by lda+u and paw pseudopotention</h3>
				<div class="date">Posted: <strong>Fri Feb 04, 2011 9:46 pm</strong></div>
				<div class="author">by <strong>mina</strong></div>
				<div class="content">Hello professor Alain and Jzwanzig,<br />i could make pseudopotential for Bi with rpaw 1.6.i wantde to test that pseuodopotential so i calculated bond length of Bi and i had overlapping again and i used variable pawovlp=-1.5 so i got it 2.77 bohr but i think it is smaller than real value.could you please tell me this means that pseuodopotential is wrong?<br />Best regards.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: polarization by lda+u and paw pseudopotention</h3>
				<div class="date">Posted: <strong>Fri Feb 04, 2011 11:48 pm</strong></div>
				<div class="author">by <strong>Alain_Jacques</strong></div>
				<div class="content">Hello Mina,<br /><br />I have some difficulties to follow what failed - why you still have overlapping with a rpaw=1.6 a.u. Are you using the input reproduced on 31/01 9:49am?<br /><br />May I suggest first to do a plain ground state check of the quality of your new pseudo - a simple bulk Bi test input based on Wyckoff CIF - <!-- m --><a class="postlink" href="http://www.crystallography.net/cif/9/9008576.cif">http://www.crystallography.net/cif/9/9008576.cif</a><!-- m --> data with a variable acell and ample ecut; plot acell vs. energy and see you can reproduce the expected value. If I remember well, shortest Bi-Bi distance is around 5.8 a.u - no way to have spheres overlapping in these conditions with such a small rpaw. And if it is sound, use a similar input with the optimal acell and vary ecut; follow output energy vs. ecut and find the ecut corresponding to an energy variation below 1mHa - this parameter will be very useful to optimize further calculations with your new pseudo.<br /><br />Kind regards,<br /><br />Alain</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: polarization by lda+u and paw pseudopotention</h3>
				<div class="date">Posted: <strong>Sat Feb 05, 2011 7:56 am</strong></div>
				<div class="author">by <strong>mina</strong></div>
				<div class="content">Dear professor Alain,<br />i used this input file  to make pseudopotential.and could you plaese tell me you means is that i use ground state program to find best ecut?<br />my input:<br />Bi 83<br />LDA-PW loggrid 1200 scalarrelativistic<br />6 6 5 4 0<br />6 1 3<br />0 0 0<br />c<br />c<br />c<br />c<br />v<br />v<br />c<br />c<br />c<br />v<br />v<br />c<br />c<br />v<br />c<br />2<br />1.6<br />y<br />2.0<br />n<br />y<br />0.0<br />n<br />y<br />0.0<br />n<br />Vanderbilt<br />3 0.0 ultrasoft<br />1.5<br />1.5<br />1.5<br />1.5<br />1.5<br />1.5<br />1.5<br />1.5<br />2<br />default<br />3<br />UPFDX 0.005d0 UPFXMIN -9.d0 UPFZMESH 1.d0<br />0<br /> Thankyou for your kindness.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: polarization by lda+u and paw pseudopotention</h3>
				<div class="date">Posted: <strong>Sun Feb 06, 2011 1:24 pm</strong></div>
				<div class="author">by <strong>mina</strong></div>
				<div class="content">Hello professor,<br />when i wana to calculate polarization of bifeo3 since i have 10 atom it needs big memory so i used variable spgroup and natrd but when i used natrd 3.i have an error that according to symmetry you need 14 atom and as you know bifeo3 have 10 atoms in its primitive unit cell.when i changed natrd to 14 again i have another error.<br />could you please look at my input and tell me what i have done wrong?<br />input file:<br />acell 3*5.6343 angstrom<br />angdeg 60 60 60<br />spgroup 161<br />natom 14<br />brvltt -1<br />natrd 3<br />ntypat 3<br />znucl 83 26 8<br />typat 1 1 2 2 3 3 3 3 3 3<br />ixc 7<br />iscf 17<br />nstep 90<br />ecut 20<br />pawecutdg 35<br />pawovlp -1.5<br />kptopt 1<br />ngkpt 2 2 2<br />nshiftk 1<br />shiftk 0.5 0.5 0.5<br />toldfe 1.0d-10<br />berryopt -1<br />rfdir 1 1 1<br />ndtset 3<br />jdtset 1 2 3<br />xred1 0.000000000 0.000000000 0.000000000<br />      0.220770001 0.220770001 0.220770001<br />      0.527899981 0.933300018 0.394800007<br />xred2 0.000000000 0.000000000 0.000000000<br />      0.230770001 0.230770001 0.230770001<br />      0.527899981 0.933300018 0.394800007<br />xred3 0.000000000 0.000000000 0.000000000<br />            -0.230770001 -0.230770001 -0.230770001<br />      0.527899981 0.933300018 0.394800007<br />nbdbuf 0<br />usepawu 1<br />lpawu -1 2 -1<br />upawu 0.0 7.0 0.0 ev<br />jpawu 0.0 0.07 0.0 ev<br /> and error:<br />   chkorthsy: ERROR -<br />  The symmetry operation number    2 does not preserve<br />  vector lengths and angles.<br />  The value of the residual is  3.0622E+04.<br />  Action : modify rprim, acell and/or symrel so that<br />   vector lengths and angles are preserved.<br />   Beware, the tolerance on symmetry operations is very small.<br />Thankyou for your kindness.</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>2</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=806&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 03:31:51 GMT -->
</html>
