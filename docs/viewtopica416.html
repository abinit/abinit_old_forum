<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=14&t=2076&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 01:46:43 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; Plotting KB projectors and changing KB energies</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>Plotting KB projectors and changing KB energies</h2>
		<p><a href="viewtopicd25a-2.html?f=14&amp;t=2076">https://forum.abinit.org/viewtopic.php?f=14&amp;t=2076</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>Plotting KB projectors and changing KB energies</h3>
				<div class="date">Posted: <strong>Fri Apr 12, 2013 8:00 pm</strong></div>
				<div class="author">by <strong>fabiano.corsetti</strong></div>
				<div class="content">Dear all,<br /><br />I have two questions relating to the Kleinman-Bylander projectors that ABINIT calculates from the pseudopotentials it is given:<br /><br />a) Is there an easy way of getting the code to output the radial part for each l for plotting?<br />b) Is it possible to change the values of the KB energies ekb that are used in the SCF calculation? In particular I would like to switch off some of the channels.<br /><br />Many thanks in advance for any suggestions you can give me.<br /><br />Kind regards,<br /><br />Fabiano Corsetti<br />CIC nanoGUNE Consolider<br />Donostia-San Sebasti√°n<br />Spain</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Plotting KB projectors and changing KB energies</h3>
				<div class="date">Posted: <strong>Sat Apr 13, 2013 12:52 pm</strong></div>
				<div class="author">by <strong>jzwanzig</strong></div>
				<div class="content">I believe both these questions should be approached at the stage of making the pseudopotentials. For example, using the fhipp code to make TM pseudopotentials, you can control which channels are included and at what reference energies, and also plot the various components. The recently developed APE code could be used for this purpose too. Likewise using atompaw to make PAW datasets you can plot the various components as you make a different pseudopotential.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Plotting KB projectors and changing KB energies</h3>
				<div class="date">Posted: <strong>Mon Apr 15, 2013 12:52 pm</strong></div>
				<div class="author">by <strong>fabiano.corsetti</strong></div>
				<div class="content"><blockquote><div><cite>jzwanzig wrote:</cite>I believe both these questions should be approached at the stage of making the pseudopotentials. For example, using the fhipp code to make TM pseudopotentials, you can control which channels are included and at what reference energies, and also plot the various components. The recently developed APE code could be used for this purpose too. Likewise using atompaw to make PAW datasets you can plot the various components as you make a different pseudopotential.</div></blockquote><br /><br />Thank you for your suggestions. The problem is that I am using a pseudopotential generated by SIESTA's atom code (I want to compare total energies in SIESTA and ABINIT, so I need everything to be exactly the same), which only includes the semilocal components and the pseudowavefunctions. The KB projectors are generated during the run both by SIESTA and ABINIT. I can see from the output that the KB energies are almost identical for the occupied shells, but differ significantly for the unoccupied shells:<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>(in Ha)<br /><br />l&nbsp; &nbsp; O (ABINIT) O (SIESTA)&nbsp; H (ABINIT)&nbsp; H (SIESTA)<br />0&nbsp; &nbsp; 4.626822&nbsp; &nbsp; 4.626827&nbsp; &nbsp;-1.010971&nbsp; &nbsp;-1.010970<br />1&nbsp; &nbsp;-3.948584&nbsp; &nbsp;-3.948588&nbsp; &nbsp;-0.221151&nbsp; &nbsp;-0.221724<br />2&nbsp; &nbsp;-0.004655&nbsp; &nbsp;-0.961190&nbsp; &nbsp;-0.000140&nbsp; &nbsp;-0.070272<br />3&nbsp; &nbsp;-0.000000&nbsp; &nbsp;-0.369138&nbsp; &nbsp; 0.000000&nbsp; &nbsp; 0.000000<br /></code></pre></div><br /><br />This is why I would like to have a look at the KB projectors during the run, so I can try to figure out what is being done differently.</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=14&t=2076&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 01:46:43 GMT -->
</html>
