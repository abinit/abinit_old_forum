<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=1754&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 02:30:35 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; Stopping abinit before runs out of time</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>Stopping abinit before runs out of time</h2>
		<p><a href="viewtopic0b4a.html?f=9&amp;t=1754">https://forum.abinit.org/viewtopic.php?f=9&amp;t=1754</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>Stopping abinit before runs out of time</h3>
				<div class="date">Posted: <strong>Sun Jul 15, 2012 6:59 pm</strong></div>
				<div class="author">by <strong>horsfielda</strong></div>
				<div class="content">I apologize if this is already in the documentation -- I have looked but cannot find it. My student is running abinit on a machine with queues, and so each job is time limited. If the job runs out of time it is killed and the results lost. Is there a flag in the input file that tells abinit to stop once a time limit is reached?</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Stopping abinit before runs out of time</h3>
				<div class="date">Posted: <strong>Mon Jul 16, 2012 2:36 am</strong></div>
				<div class="author">by <strong>jzwanzig</strong></div>
				<div class="content">I don't think so. I have the same problem. The real issue is that there is no &quot;check point file&quot; analogous to what some codes do. However, depending on what calculation you are trying to do, there are a number of options. For example: <br /><br />First, the approach I use most often (also to sneak onto the high priority queues as much as I can) is NOT to use the multi-data-set facilities, but to do the calculations piecemeal and recombine results. Thus, for response functions, do the GS, then stop; then do DDK, and stop; then do electric field, and stop; and so forth. But you could do even more---<br /><br />During the self-consistent ground state calculation, if you were limited to a small amount of time, you could set nstep intentionally to something small, write the (unconverged) density and WF, and restart from them, over and over, until you reach convergence within the small amount of allotted steps.<br /><br />For non-self-consistent calcs, say for band structures, you can simply compute a few k points at a time (non-self-consistently), writing the output to _EIG files, and then combine them at the end.<br /><br />For response function calculations, you can do a run with all perturbations of interest turned on, then kill it after it tells you which are the irreducible ones, then run only those one at a time and use mrgddb to combine the DDB files.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Stopping abinit before runs out of time</h3>
				<div class="date">Posted: <strong>Mon Jul 16, 2012 8:58 am</strong></div>
				<div class="author">by <strong>ilukacevic</strong></div>
				<div class="content">Hi!<br /><br />Isn't there a way where you put write END or STOP at the beginning of the input file and leave a blank line after it? I remember vaguely that I read about something like that in web documentation. It should stop cleanly the calculation before the next scf step. Maybe some of the older guys will remember it more correctly.<br /><br />Igor L.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Stopping abinit before runs out of time</h3>
				<div class="date">Posted: <strong>Mon Jul 16, 2012 9:04 am</strong></div>
				<div class="author">by <strong>horsfielda</strong></div>
				<div class="content">I think you are right. It used to be the case in the early days of the code (late 1980s). The trouble is we do not have access to the files while it is running. But if we can put in a stop by hand, then it must be easy to get abinit to effectively write this stop at a certain time. Or not?</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Stopping abinit before runs out of time</h3>
				<div class="date">Posted: <strong>Mon Jul 23, 2012 5:28 pm</strong></div>
				<div class="author">by <strong>horsfielda</strong></div>
				<div class="content">Looks like the answer was in the documentation all along:<br /><br /><!-- m --><a class="postlink" href="http://www.abinit.org/documentation/helpfiles/for-v6.12/input_variables/vargs.html#cpu">http://www.abinit.org/documentation/hel ... s.html#cpu</a><!-- m --></div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=1754&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 02:30:35 GMT -->
</html>
