<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=10&t=3243&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 00:28:49 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; Problem of calculating the phonon dispersion of AlAs crystal</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>Problem of calculating the phonon dispersion of AlAs crystal</h2>
		<p><a href="viewtopic06b5.html?f=10&amp;t=3243">https://forum.abinit.org/viewtopic.php?f=10&amp;t=3243</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>Problem of calculating the phonon dispersion of AlAs crystal</h3>
				<div class="date">Posted: <strong>Tue Mar 29, 2016 12:08 pm</strong></div>
				<div class="author">by <strong>tsukagoshi</strong></div>
				<div class="content">Dear users/developers,<br />I have <strong class="text-strong">two</strong> questions related to the phonon calculation. I use abinit-7.10.5.<br /><br /><strong class="text-strong">(1) Parallel phonon calculation with gamma-centered k points</strong><br />When I run the parallel phonon calculation using 8 cores in order to obtain the phonon dispersion of AlAs crystal, I fail in calculating the d/dk wave function. I use gamma-centered 4*4*4 k points.<br />$ mpirun -np 8 abinit-7.10.5 &lt; alas_ph.files &gt;&amp; log-ph<br /><br />My input file is as follows.<br />alas_ph.in:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code># Crystalline AlAs : computation of the phonon spectrum<br /># Parallel settings<br />#********************************************<br />paral_kgb 0&nbsp; <br />paral_kgb1 1&nbsp; autoparal1&nbsp; 1<br />paral_kgb2 1&nbsp; autoparal2&nbsp; 1<br />ndtset&nbsp; 11<br /><br />#DATASET1 : scf calculation: <br /># GS WF in the BZ taking fully into account the symmetry<br />#********************************************<br />&nbsp; getwfk1&nbsp; &nbsp;0<br />&nbsp; &nbsp; iscf1&nbsp; &nbsp;7<br />&nbsp; kptopt1&nbsp; &nbsp;1<br />&nbsp; toldfe1&nbsp; &nbsp;1.0d-8<br />&nbsp; rfphon1&nbsp; &nbsp;0<br />&nbsp; &nbsp; nqpt1&nbsp; &nbsp;0<br /><br />#DATASET2 : non scf calculation: <br /># GS WF taking into account only the time-reversal symmetry<br />#*****************************************************<br />&nbsp; getden2&nbsp; &nbsp; 1<br />&nbsp; getwfk2&nbsp; &nbsp; 0<br />&nbsp; &nbsp; iscf2&nbsp; &nbsp;-2<br />&nbsp; kptopt2&nbsp; &nbsp; 2<br />&nbsp; tolwfr2&nbsp; &nbsp; 1.0d-12<br />&nbsp; rfphon2&nbsp; &nbsp;0<br />&nbsp; &nbsp; nqpt2&nbsp; &nbsp;0<br /><br />#DATASET3 : RF calculation<br /># ddk with q=0 on the k-points taking into account only the time-reversal symmetry<br />#*****************************************<br />&nbsp; getwfk3&nbsp; &nbsp;2<br />&nbsp; &nbsp; iscf3&nbsp; -3 <br />&nbsp; kptopt3&nbsp; &nbsp;2&nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; tolwfr3&nbsp; &nbsp;1.0d-12<br />&nbsp; rfelfd3&nbsp; &nbsp;2&nbsp; &nbsp; <br />&nbsp; &nbsp;rfdir3&nbsp; &nbsp;1 1 1<br />&nbsp; &nbsp; nqpt3&nbsp; &nbsp;1<br />&nbsp; &nbsp; &nbsp;qpt3&nbsp; &nbsp;0.0 0.0 0.0 <br /><br />#DATASET4 : RF calculation <br /># ddR and ddE with q=0 on the k-points taking into account only the time-reversal symmetry<br />#*****************************************<br />&nbsp; getwfk4&nbsp; &nbsp; 2 <br />&nbsp; getddk4&nbsp; &nbsp; 3<br />&nbsp; &nbsp; iscf4&nbsp; &nbsp;7&nbsp; &nbsp;<br />&nbsp; kptopt4&nbsp; &nbsp;2&nbsp; <br />&nbsp; toldfe4&nbsp; &nbsp;1.0d-8<br />&nbsp; rfphon4&nbsp; &nbsp;1&nbsp; &nbsp; <br />&nbsp;rfatpol4&nbsp; &nbsp;1 2&nbsp; <br />&nbsp; rfelfd4&nbsp; &nbsp;3&nbsp; &nbsp; <br />&nbsp; &nbsp;rfdir4&nbsp; &nbsp;1 1 1 <br />&nbsp; &nbsp; nqpt4&nbsp; &nbsp;1<br />&nbsp; &nbsp; &nbsp;qpt4&nbsp; &nbsp;0.0 0.0 0.0<br /><br />#Sets 5-11 : RF calculation<br /># q/=0 phonon calculations (defaults for all datasets)<br />#*****************************************<br />&nbsp; getwfk&nbsp; &nbsp;2<br />&nbsp; kptopt&nbsp; &nbsp;3<br />&nbsp; toldfe&nbsp; &nbsp;1.0d-8<br />&nbsp; &nbsp; nqpt&nbsp; &nbsp;1&nbsp; # default<br />&nbsp; rfphon&nbsp; &nbsp;1<br />&nbsp;rfatpol&nbsp; &nbsp;1 2<br />&nbsp; &nbsp;rfdir&nbsp; &nbsp;1 1 1<br />#&nbsp; ngkpt 4 4 4&nbsp; nshiftk 1&nbsp; shiftk 0.0 0.0 0.0<br />&nbsp; &nbsp; qpt5&nbsp; &nbsp;2.50000000E-01&nbsp; 0.00000000E+00&nbsp; 0.00000000E+00<br />&nbsp; &nbsp; qpt6&nbsp; &nbsp;5.00000000E-01&nbsp; 0.00000000E+00&nbsp; 0.00000000E+00<br />&nbsp; &nbsp; qpt7&nbsp; &nbsp;2.50000000E-01&nbsp; 2.50000000E-01&nbsp; 0.00000000E+00<br />&nbsp; &nbsp; qpt8&nbsp; &nbsp;5.00000000E-01&nbsp; 2.50000000E-01&nbsp; 0.00000000E+00<br />&nbsp; &nbsp; qpt9&nbsp; -2.50000000E-01&nbsp; 2.50000000E-01&nbsp; 0.00000000E+00<br />&nbsp; &nbsp; qpt10&nbsp; 5.00000000E-01&nbsp; 5.00000000E-01&nbsp; 0.00000000E+00<br />&nbsp; &nbsp; qpt11 -2.50000000E-01&nbsp; 5.00000000E-01&nbsp; 2.50000000E-01<br /><br />#######################################################################<br />#Common input variables<br /><br />#Unit cell and Atomic positions<br />#********************************<br />acell&nbsp; &nbsp;3*10.53<br />rprim&nbsp; 0.0&nbsp; 0.5&nbsp; 0.5 <br />&nbsp; &nbsp; &nbsp; &nbsp;0.5&nbsp; 0.0&nbsp; 0.5 <br />&nbsp; &nbsp; &nbsp; &nbsp;0.5&nbsp; 0.5&nbsp; 0.0 <br />xred&nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp;0.0&nbsp; 0.0&nbsp; 0.0&nbsp; <br />&nbsp; &nbsp;0.25 0.25 0.25 <br /><br />#Atomic types<br />#*************************************<br />natom 2&nbsp; &nbsp; <br />ntypat 2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />znucl 13 33&nbsp; &nbsp; &nbsp; &nbsp; <br />typat 1 2&nbsp; <br /><br />#Plane wave basis and k-point grid<br />#*********************************<br />&nbsp; &nbsp;ecut&nbsp; &nbsp; &nbsp; &nbsp; 2.8<br />&nbsp; &nbsp;ngkpt&nbsp; &nbsp; &nbsp; &nbsp;4 4 4<br />#&nbsp; &nbsp;nshiftk&nbsp; &nbsp; &nbsp;4<br />#&nbsp; &nbsp;shiftk&nbsp; &nbsp; &nbsp; 0.5 0.5 0.5<br />#&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.5 0.0 0.0<br />#&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.0 0.5 0.0<br />#&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.0 0.0 0.5<br />&nbsp; nshiftk 1<br />&nbsp; shiftk&nbsp; 0.0 0.0 0.0<br /><br />#Parameters of the SCF cycles<br />#****************************<br />iscf 7<br />ixc 1<br />nstep 100<br />diemac 9.0 <br />nband&nbsp; 4<br />nbdbuf 0<br /></code></pre></div><br />alas_ph.files:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>alas_ph.in<br />alas_ph.out<br />alas_phi<br />alas_pho<br />alas_ph<br />~/abinit-7.10.5/tests/Psps_for_tests/13al.pspnc<br />~/abinit-7.10.5/tests/Psps_for_tests/33as.pspnc<br /></code></pre></div><br />However, I can calculate the d/dk wave function using other cores, for example 6 cores, successfully.<br />$ mpirun -np 6 abinit-7.10.5 &lt; alas_ph.files &gt;&amp; log-ph<br /><br />On the other hand, I can also calculate the d/dk wave function when I shift the center of k points as follows:<br />nshiftk     4<br />shiftk     0.5 0.5 0.5<br />0.5 0.0 0.0<br />0.0 0.5 0.0<br />0.0 0.0 0.5<br /><br />Why I fail in calculating the d/dk wave function with gamma-centered k points using 8 cores ?<br /><br /><strong class="text-strong">(2) Problem of mrgddb</strong><br />I fail in gathering DDB files calculated with gamma-centered k points.<br />$ mrgddb &lt; alas_phmrg.in<br />â€¦.<br />--- !ERROR<br />message: |<br />    Comparing integers for variable  nkpt.<br />    Value from input DDB is        36 and<br />    from transfer DDB is        64.<br />    Action: check your DDBs.<br /><br />My input files is as follows.<br />alas_phmrg.in:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>alas_phmrg.out<br />AlAs phonons on 4 4 4 mesh<br />8<br />alas_pho_DS4_DDB<br />alas_pho_DS5_DDB<br />alas_pho_DS6_DDB<br />alas_pho_DS7_DDB<br />alas_pho_DS8_DDB<br />alas_pho_DS9_DDB<br />alas_pho_DS10_DDB<br />alas_pho_DS11_DDB<br /></code></pre></div><br />I can avoid this error if I edit src/77_ddb/cmpar8.F90 and do not use chki8 as follows.<br />cmpar8.F90:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>if(fullinit/=0)then<br />&nbsp; &nbsp;if(nkpt/=2*nkpt8 .and. 2*nkpt/=nkpt8)then<br />!&nbsp; &nbsp; &nbsp;call chki8(nkpt,nkpt8,'&nbsp; nkpt')<br />&nbsp; &nbsp;else<br /></code></pre></div><br />I proceed calculating the phonon dispersion as follows.<br />$ anaddb &lt; alas_phddb.files &gt;&amp; alas_phddb.log<br />$ band2eps &lt; alas_b2e.files<br />$ evince si_b2e.out.eps<br /><br />My input files is as follows.<br />alas_phddb.in:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>!Input file for the anaddb code. Analysis of the AlAs DDB<br /><br />#Wavevector grid number 1 (coarse grid, from DDB)<br />#*******<br />&nbsp; brav&nbsp; &nbsp; 2&nbsp; &nbsp; &nbsp; &nbsp; <br />! These kpt must correspond to ones given as qpt at DFPT calc.<br />&nbsp; ngqpt&nbsp; &nbsp;4&nbsp; 4&nbsp; 4&nbsp; &nbsp;<br />&nbsp; nqshft&nbsp; 1&nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; q1shft&nbsp; 3*0.0<br /><br /># Flags<br />#*******<br />&nbsp; &nbsp;ifcflag&nbsp; 1<br /><br /># General information<br />#**********************<br />&nbsp; &nbsp;enunit&nbsp; 0<br />&nbsp; &nbsp;eivec&nbsp; &nbsp;4<br />&nbsp; &nbsp;asr&nbsp; &nbsp; &nbsp;1<br />#&nbsp; &nbsp;chneut&nbsp; 1<br />&nbsp; &nbsp;chneut&nbsp; 2<br />&nbsp; &nbsp;dipdip&nbsp; 1<br /><br /># Wavevector list number 1<br />**************************&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; nph1l&nbsp; 53<br />&nbsp; qph1l&nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.00000000E+00&nbsp; 0.00000000E+00&nbsp; 0.00000000E+00 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7.50000000E-02&nbsp; 3.75000000E-02&nbsp; 3.75000000E-02 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1.50000000E-01&nbsp; 7.50000000E-02&nbsp; 7.50000000E-02 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2.25000000E-01&nbsp; 1.12500000E-01&nbsp; 1.12500000E-01 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3.00000000E-01&nbsp; 1.50000000E-01&nbsp; 1.50000000E-01 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3.75000000E-01&nbsp; 1.87500000E-01&nbsp; 1.87500000E-01 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4.50000000E-01&nbsp; 2.25000000E-01&nbsp; 2.25000000E-01 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5.25000000E-01&nbsp; 2.62500000E-01&nbsp; 2.62500000E-01 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;6.00000000E-01&nbsp; 3.00000000E-01&nbsp; 3.00000000E-01 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;6.75000000E-01&nbsp; 3.37500000E-01&nbsp; 3.37500000E-01 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7.50000000E-01&nbsp; 3.75000000E-01&nbsp; 3.75000000E-01 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7.00000000E-01&nbsp; 4.00000000E-01&nbsp; 3.00000000E-01 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;6.50000000E-01&nbsp; 4.25000000E-01&nbsp; 2.25000000E-01 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;6.00000000E-01&nbsp; 4.50000000E-01&nbsp; 1.50000000E-01 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5.50000000E-01&nbsp; 4.75000000E-01&nbsp; 7.50000000E-02 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5.00000000E-01&nbsp; 5.00000000E-01&nbsp; 0.00000000E+00 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4.50000000E-01&nbsp; 4.50000000E-01&nbsp; 0.00000000E+00 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4.00000000E-01&nbsp; 4.00000000E-01&nbsp; 0.00000000E+00 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3.50000000E-01&nbsp; 3.50000000E-01&nbsp; 0.00000000E+00 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3.00000000E-01&nbsp; 3.00000000E-01&nbsp; 0.00000000E+00 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2.50000000E-01&nbsp; 2.50000000E-01&nbsp; 0.00000000E+00 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2.00000000E-01&nbsp; 2.00000000E-01&nbsp; 0.00000000E+00 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1.50000000E-01&nbsp; 1.50000000E-01&nbsp; 0.00000000E+00 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1.00000000E-01&nbsp; 1.00000000E-01&nbsp; 0.00000000E+00 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5.00000000E-02&nbsp; 5.00000000E-02&nbsp; 0.00000000E+00 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.00000000E+00&nbsp; 0.00000000E+00&nbsp; 0.00000000E+00 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7.14285714E-02&nbsp; 7.14285714E-02&nbsp; 7.14285714E-02 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1.42857143E-01&nbsp; 1.42857143E-01&nbsp; 1.42857143E-01 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2.14285714E-01&nbsp; 2.14285714E-01&nbsp; 2.14285714E-01 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2.85714286E-01&nbsp; 2.85714286E-01&nbsp; 2.85714286E-01 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3.57142857E-01&nbsp; 3.57142857E-01&nbsp; 3.57142857E-01 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4.28571429E-01&nbsp; 4.28571429E-01&nbsp; 4.28571429E-01 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5.00000000E-01&nbsp; 5.00000000E-01&nbsp; 5.00000000E-01 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5.00000000E-01&nbsp; 5.00000000E-01&nbsp; 4.37500000E-01 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5.00000000E-01&nbsp; 5.00000000E-01&nbsp; 3.75000000E-01 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5.00000000E-01&nbsp; 5.00000000E-01&nbsp; 3.12500000E-01 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5.00000000E-01&nbsp; 5.00000000E-01&nbsp; 2.50000000E-01 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5.00000000E-01&nbsp; 5.00000000E-01&nbsp; 1.87500000E-01 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5.00000000E-01&nbsp; 5.00000000E-01&nbsp; 1.25000000E-01 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5.00000000E-01&nbsp; 5.00000000E-01&nbsp; 6.25000000E-02 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5.00000000E-01&nbsp; 5.00000000E-01&nbsp; 0.00000000E+00 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5.50000000E-01&nbsp; 5.00000000E-01&nbsp; 5.00000000E-02 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;6.00000000E-01&nbsp; 5.00000000E-01&nbsp; 1.00000000E-01 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;6.50000000E-01&nbsp; 5.00000000E-01&nbsp; 1.50000000E-01 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7.00000000E-01&nbsp; 5.00000000E-01&nbsp; 2.00000000E-01 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7.50000000E-01&nbsp; 5.00000000E-01&nbsp; 2.50000000E-01 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7.14285714E-01&nbsp; 5.00000000E-01&nbsp; 2.85714286E-01 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;6.78571429E-01&nbsp; 5.00000000E-01&nbsp; 3.21428571E-01 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;6.42857143E-01&nbsp; 5.00000000E-01&nbsp; 3.57142857E-01 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;6.07142857E-01&nbsp; 5.00000000E-01&nbsp; 3.92857143E-01 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5.71428571E-01&nbsp; 5.00000000E-01&nbsp; 4.28571429E-01 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5.35714286E-01&nbsp; 5.00000000E-01&nbsp; 4.64285714E-01 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5.00000000E-01&nbsp; 5.00000000E-01&nbsp; 5.00000000E-01 1.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br /># Wave vector list no. 2<br />#***********************<br /># get proper LO-TO splitting at gamma<br />&nbsp; &nbsp; &nbsp;nph2l&nbsp; 1<br />&nbsp; &nbsp; &nbsp;qph2l&nbsp; 1.0 0.0 0.0 0.0<br /><br /># This line added when defaults were changed (v5.3) to keep the previous, old behaviour<br />&nbsp; symdynmat 0<br /></code></pre></div><br />alas_phddb.files<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>alas_phddb.in<br />alas_phddb.out<br />alas_phmrg.out<br />alas_ddb_band2eps<br />trf2_dummy1<br />trf2_dummy2<br />trf2_dummy3<br /></code></pre></div><br />alas_b2e.files:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>#Input file for 'band2eps.' This data layout must be used, line-by-line.<br />number of atoms in a cell :<br />2<br />minimum value, maximum value and number of tics of the vertical axe :<br />0.0&nbsp; 400.0&nbsp; 8<br />Units : 1 for cm-1, 2 for THz :<br />1<br />Number of lines :<br />7<br />Description of the points in q space :<br />gamma&nbsp; K&nbsp; X&nbsp; gamma&nbsp; L&nbsp; X&nbsp; W&nbsp; L&nbsp; <br />Number of q points for each line :<br />10&nbsp; 5 10 7 8&nbsp; 5&nbsp; 7<br />Scale factor for each line :<br />1.0 1.0 1.0 1.0 1.0 1.0 1.0<br />#COLOR DEFINITION :<br />#put 1 in place of the atom you want to be colored in <br />#red<br />0 0<br />&nbsp; &nbsp; #green<br />0 0<br />&nbsp; &nbsp; #blue<br />0 0<br /></code></pre></div><br />It seems that the phonon dispersion is calculated normally.<br />Is it correct to edit cmpar8.F90 as above ?<br /><br />Takayuki Tsukagoshi</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Problem of calculating the phonon dispersion of AlAs cry</h3>
				<div class="date">Posted: <strong>Tue Apr 05, 2016 11:03 am</strong></div>
				<div class="author">by <strong>Jordan</strong></div>
				<div class="content">Hi,<br /><br />For the second question, you could just edit the _DDB files and change the nkpt values to match the one of the first file ...<br />This is a check to ensure that the two _DDB files are the same calculation done in several runs. Therefore, you should have the same lattice parameters, atomic positions same pseudopotential.... and so on .... the same number of kpt.<br />If you assume you know what you do and that it is your decision to have 2 calculations with different number of kpt then it is not a problem.<br /><br />Cheers<br /><br />Jordan</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Problem of calculating the phonon dispersion of AlAs cry</h3>
				<div class="date">Posted: <strong>Tue Apr 05, 2016 3:17 pm</strong></div>
				<div class="author">by <strong>tsukagoshi</strong></div>
				<div class="content">Dear Jordan<br /><br />Thank you for your reply. I understand how I avoid the error message.<br />It might be better to modify the program mrgddb.x since it could occur that nkpt1=/ nkpt2 &amp; 2*nkpt1=/ nkpt2 when gamma-centered k points are used, where nkpt1 is for q=0 and nkpt2 is for q=/0.<br /><br />By the way, does anyone answer the first question? Any comments or suggestions are welcome. <br /><br />Best regards,<br /><br />Takayuki Tsukagoshi</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=10&t=3243&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 00:28:49 GMT -->
</html>
