<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=3&t=2631&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 02:22:01 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; error compiling abinit 7.6.2 with external dependencies</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>error compiling abinit 7.6.2 with external dependencies</h2>
		<p><a href="viewtopicab22.html?f=3&amp;t=2631">https://forum.abinit.org/viewtopic.php?f=3&amp;t=2631</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>error compiling abinit 7.6.2 with external dependencies&nbsp;&nbsp;<span style="color: #006600">[SOLVED]</span></h3>
				<div class="date">Posted: <strong>Thu Apr 10, 2014 11:24 am</strong></div>
				<div class="author">by <strong>lorenzodona</strong></div>
				<div class="content">I successfully compiled abinit 7.6.2 without trio flavor on mac os x 10.9.2 but when i try to compile it with trio flavor=netcdf+etsf_io i found this error I think in ncgen3:<br />Making all in ncgen3<br />depbase=`echo main.o | sed 's|[^/]*$|.deps/&amp;|;s|\.o$||'`;\<br />	/opt/local//bin/mpicc -m64 -DHAVE_CONFIG_H -I. -I.. -I../fortran        -I.. -I../libsrc -I../libsrc  -DNDEBUG -DpgiFortran -I/Users/lorenzodona/abinit-7.6.2/fallbacks/exports/include  -g -O2 -MT main.o -MD -MP -MF $depbase.Tpo -c -o main.o main.c &amp;&amp;\<br />	mv -f $depbase.Tpo $depbase.Po<br />depbase=`echo load.o | sed 's|[^/]*$|.deps/&amp;|;s|\.o$||'`;\<br />	/opt/local//bin/mpicc -m64 -DHAVE_CONFIG_H -I. -I.. -I../fortran        -I.. -I../libsrc -I../libsrc  -DNDEBUG -DpgiFortran -I/Users/lorenzodona/abinit-7.6.2/fallbacks/exports/include  -g -O2 -MT load.o -MD -MP -MF $depbase.Tpo -c -o load.o load.c &amp;&amp;\<br />	mv -f $depbase.Tpo $depbase.Po<br />In file included from load.c:14:<br />./genlib.h:84:15: error: expected parameter declarator<br />extern size_t strlcat(char *dst, const char *src, size_t siz);<br />              ^<br />/usr/include/secure/_string.h:111:44: note: expanded from macro 'strlcat'<br />  __builtin___strlcat_chk (dest, src, len, __darwin_obsz (dest))<br />                                           ^<br />/usr/include/secure/_common.h:39:62: note: expanded from macro '__darwin_obsz'<br />#define __darwin_obsz(object) __builtin_object_size (object, _USE_FORTIF...<br />                                                             ^<br />/usr/include/secure/_common.h:30:32: note: expanded from macro<br />      '_USE_FORTIFY_LEVEL'<br />#    define _USE_FORTIFY_LEVEL 2<br />                               ^<br />In file included from load.c:14:<br />./genlib.h:84:15: error: expected ')'<br />/usr/include/secure/_string.h:111:44: note: expanded from macro 'strlcat'<br />  __builtin___strlcat_chk (dest, src, len, __darwin_obsz (dest))<br />                                           ^<br />/usr/include/secure/_common.h:39:62: note: expanded from macro '__darwin_obsz'<br />#define __darwin_obsz(object) __builtin_object_size (object, _USE_FORTIF...<br />                                                             ^<br />/usr/include/secure/_common.h:30:32: note: expanded from macro<br />      '_USE_FORTIFY_LEVEL'<br />#    define _USE_FORTIFY_LEVEL 2<br />                               ^<br />./genlib.h:84:15: note: to match this '('<br />/usr/include/secure/_string.h:111:44: note: expanded from macro 'strlcat'<br />  __builtin___strlcat_chk (dest, src, len, __darwin_obsz (dest))<br />                                           ^<br />/usr/include/secure/_common.h:39:53: note: expanded from macro '__darwin_obsz'<br />#define __darwin_obsz(object) __builtin_object_size (object, _USE_FORTIF...<br />                                                    ^<br />In file included from load.c:14:<br />./genlib.h:84:15: warning: type specifier missing, defaults to 'int'<br />      [-Wimplicit-int]<br />extern size_t strlcat(char *dst, const char *src, size_t siz);<br />              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br />/usr/include/secure/_string.h:111:44: note: expanded from macro 'strlcat'<br />  __builtin___strlcat_chk (dest, src, len, __darwin_obsz (dest))<br />                                           ^~~~~~~~~~~~~~~~~~~~<br />/usr/include/secure/_common.h:39:31: note: expanded from macro '__darwin_obsz'<br />#define __darwin_obsz(object) __builtin_object_size (object, _USE_FORTIF...<br />                              ^~~~~~~~~~~~~~~~~~~~~<br />In file included from load.c:14:<br />./genlib.h:84:15: error: conflicting types for '__builtin___strlcat_chk'<br />/usr/include/secure/_string.h:111:3: note: expanded from macro 'strlcat'<br />  __builtin___strlcat_chk (dest, src, len, __darwin_obsz (dest))<br />  ^<br />./genlib.h:84:15: note: '__builtin___strlcat_chk' is a builtin with type<br />      'unsigned long (char *, const char *, unsigned long, unsigned long)'<br />/usr/include/secure/_string.h:111:3: note: expanded from macro 'strlcat'<br />  __builtin___strlcat_chk (dest, src, len, __darwin_obsz (dest))<br />  ^<br />1 warning and 3 errors generated.<br />make[6]: *** [load.o] Error 1<br />make[5]: *** [all-recursive] Error 1<br />make[4]: *** [all] Error 2<br />make[3]: *** [stamps/netcdf-build-stamp] Error 2<br />make[2]: [all-local] Error 2 (ignored)<br />Checking build of netcdf fallback<br />test -e stamps/netcdf-install-stamp<br />make[2]: *** [all-local] Error 1<br />make[1]: *** [all-recursive] Error 1<br />make: *** [all] Error 2<br /><br />can i solve this problem?<br />thanks for your patience I added the log file from configuration<br />Thanks to hel me and again for your patience.<br />dearly lorenzo</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: error compiling abinit 7.6.2 with netcdf</h3>
				<div class="date">Posted: <strong>Mon Apr 14, 2014 4:18 pm</strong></div>
				<div class="author">by <strong>pouillon</strong></div>
				<div class="content">The NetCDF version shipped with Abinit dates back from a few years ago. It is possible that GCC 4.8, which is stricter on some aspects than earlier versions of GCC, produces an error where formerly they were issuing a warning.<br /><br />Directly installing NetCDF from Macports or similar and pointing Abinit to it (see --with-netcdf-* options of configure) should solve your problem.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: error compiling abinit 7.6.2 with netcdf</h3>
				<div class="date">Posted: <strong>Wed Apr 23, 2014 7:29 pm</strong></div>
				<div class="author">by <strong>lorenzodona</strong></div>
				<div class="content">Dear pouillon I did like you told me using macport but at the end of the compilation i found this error:<br />Undefined symbols for architecture x86_64:<br />  &quot;_ATL_cGetNB&quot;, referenced from:<br />      _ATL_ilaenv in liblapack.a(ATL_ilaenv.o)<br />  &quot;_ATL_dGetNB&quot;, referenced from:<br />      _ATL_ilaenv in liblapack.a(ATL_ilaenv.o)<br />  &quot;_ATL_dgemoveT&quot;, referenced from:<br />      _ATL_dgelqf in liblapack.a(ATL_dgelqf.o)<br />      _ATL_dgelqr.constprop.0 in liblapack.a(ATL_dgelqr.o)<br />      _ATL_dgelqr in liblapack.a(ATL_dgelqr.o)<br />  &quot;_ATL_dsqtrans&quot;, referenced from:<br />      _ATL_dgelqf in liblapack.a(ATL_dgelqf.o)<br />  &quot;_ATL_sGetNB&quot;, referenced from:<br />      _ATL_ilaenv in liblapack.a(ATL_ilaenv.o)<br />  &quot;_ATL_xerbla&quot;, referenced from:<br />      _ATL_dgelqf in liblapack.a(ATL_dgelqf.o)<br />      _ATL_dgeqrf in liblapack.a(ATL_dgeqrf.o)<br />  &quot;_ATL_zGetNB&quot;, referenced from:<br />      _ATL_ilaenv in liblapack.a(ATL_ilaenv.o)<br />ld: symbol(s) not found for architecture x86_64<br />collect2: error: ld returned 1 exit status<br />make[5]: *** [bsepostproc] Error 1<br />make[5]: *** Waiting for unfinished jobs....<br />Undefined symbols for architecture x86_64:<br />  &quot;_ATL_cGetNB&quot;, referenced from:<br />      _ATL_ilaenv in liblapack.a(ATL_ilaenv.o)<br />  &quot;_ATL_dGetNB&quot;, referenced from:<br />      _ATL_ilaenv in liblapack.a(ATL_ilaenv.o)<br />  &quot;_ATL_dgemoveT&quot;, referenced from:<br />      _ATL_dgelqf in liblapack.a(ATL_dgelqf.o)<br />      _ATL_dgelqr.constprop.0 in liblapack.a(ATL_dgelqr.o)<br />      _ATL_dgelqr in liblapack.a(ATL_dgelqr.o)<br />  &quot;_ATL_dger&quot;, referenced from:<br />      _ATL_dgetf2 in liblapack.a(ATL_dgetf2.o)<br />  &quot;_ATL_dscal&quot;, referenced from:<br />      _ATL_zgelqr.constprop.0 in liblapack.a(ATL_zgelqr.o)<br />      _ATL_zgelqr in liblapack.a(ATL_zgelqr.o)<br />      _ATL_zlacgv in liblapack.a(ATL_zlacgv.o)<br />  &quot;_ATL_dsqtrans&quot;, referenced from:<br />      _ATL_dgelqf in liblapack.a(ATL_dgelqf.o)<br />  &quot;_ATL_sGetNB&quot;, referenced from:<br />      _ATL_ilaenv in liblapack.a(ATL_ilaenv.o)<br />  &quot;_ATL_xerbla&quot;, referenced from:<br />      _atl_f77wrap_dgetrf_ in liblapack.a(ATL_f77wrap_dgetrf.o)<br />      _atl_f77wrap_dgetri_ in liblapack.a(ATL_f77wrap_dgetri.o)<br />      _ATL_dgelqf in liblapack.a(ATL_dgelqf.o)<br />      _ATL_dgeqrf in liblapack.a(ATL_dgeqrf.o)<br />      _ATL_zgelqf in liblapack.a(ATL_zgelqf.o)<br />      _ATL_zgeqrf in liblapack.a(ATL_zgeqrf.o)<br />  &quot;_ATL_zGetNB&quot;, referenced from:<br />      _ATL_ilaenv in liblapack.a(ATL_ilaenv.o)<br />  &quot;_ATL_zgemoveT&quot;, referenced from:<br />      _ATL_zgelqf in liblapack.a(ATL_zgelqf.o)<br />      _ATL_zgelqr.constprop.0 in liblapack.a(ATL_zgelqr.o)<br />      _ATL_zgelqr in liblapack.a(ATL_zgelqr.o)<br />  &quot;_ATL_zsqtrans&quot;, referenced from:<br />      _ATL_zgelqf in liblapack.a(ATL_zgelqf.o)<br />ld: symbol(s) not found for architecture x86_64<br />collect2: error: ld returned 1 exit status<br />make[5]: *** [anaddb] Error 1<br />Undefined symbols for architecture x86_64:<br />  &quot;_ATL_cGetNB&quot;, referenced from:<br />      _ATL_ilaenv in liblapack.a(ATL_ilaenv.o)<br />  &quot;_ATL_ccplxdivide&quot;, referenced from:<br />      _ATL_cgetrfC in liblapack.a(ATL_cgetrfC.o)<br />      _ATL_cgetrfR in liblapack.a(ATL_cgetrfR.o)<br />      _ATL_cgetf2 in liblapack.a(ATL_cgetf2.o)<br />  &quot;_ATL_ccplxinvert&quot;, referenced from:<br />      _ATL_cgetrfC in liblapack.a(ATL_cgetrfC.o)<br />      _ATL_cgetrfR in liblapack.a(ATL_cgetrfR.o)<br />      _ATL_ctrtriCL in liblapack.a(ATL_ctrtriCL.o)<br />      _ATL_ctrtriCU in liblapack.a(ATL_ctrtriCU.o)<br />      _ATL_ctrtriRL in liblapack.a(ATL_ctrtriRL.o)<br />      _ATL_ctrtriRU in liblapack.a(ATL_ctrtriRU.o)<br />      _ATL_cgetf2 in liblapack.a(ATL_cgetf2.o)<br />      ...<br />  &quot;_ATL_cgeru&quot;, referenced from:<br />      _ATL_cgetf2 in liblapack.a(ATL_cgetf2.o)<br />  &quot;_ATL_dGetNB&quot;, referenced from:<br />      _ATL_ilaenv in liblapack.a(ATL_ilaenv.o)<br />  &quot;_ATL_dgemoveT&quot;, referenced from:<br />      _ATL_dgelqf in liblapack.a(ATL_dgelqf.o)<br />      _ATL_dgelqr.constprop.0 in liblapack.a(ATL_dgelqr.o)<br />      _ATL_dgelqr in liblapack.a(ATL_dgelqr.o)<br />  &quot;_ATL_dger&quot;, referenced from:<br />      _ATL_dgetf2 in liblapack.a(ATL_dgetf2.o)<br />  &quot;_ATL_dscal&quot;, referenced from:<br />      _ATL_zgelqr.constprop.0 in liblapack.a(ATL_zgelqr.o)<br />      _ATL_zgelqr in liblapack.a(ATL_zgelqr.o)<br />      _ATL_zlacgv in liblapack.a(ATL_zlacgv.o)<br />  &quot;_ATL_dsqtrans&quot;, referenced from:<br />      _ATL_dgelqf in liblapack.a(ATL_dgelqf.o)<br />  &quot;_ATL_sGetNB&quot;, referenced from:<br />      _ATL_ilaenv in liblapack.a(ATL_ilaenv.o)<br />  &quot;_ATL_sger&quot;, referenced from:<br />      _ATL_sgetf2 in liblapack.a(ATL_sgetf2.o)<br />  &quot;_ATL_sscal&quot;, referenced from:<br />      _ATL_clacgv in liblapack.a(ATL_clacgv.o)<br />  &quot;_ATL_xerbla&quot;, referenced from:<br />      _atl_f77wrap_cgesv_ in liblapack.a(ATL_f77wrap_cgesv.o)<br />      _atl_f77wrap_dgesv_ in liblapack.a(ATL_f77wrap_dgesv.o)<br />      _atl_f77wrap_sgesv_ in liblapack.a(ATL_f77wrap_sgesv.o)<br />      _atl_f77wrap_zgesv_ in liblapack.a(ATL_f77wrap_zgesv.o)<br />      _ATL_dgelqf in liblapack.a(ATL_dgelqf.o)<br />      _ATL_dgeqrf in liblapack.a(ATL_dgeqrf.o)<br />      _atl_f77wrap_cgetrf_ in liblapack.a(ATL_f77wrap_cgetrf.o)<br />      ...<br />  &quot;_ATL_zGetNB&quot;, referenced from:<br />      _ATL_ilaenv in liblapack.a(ATL_ilaenv.o)<br />  &quot;_ATL_zcplxdivide&quot;, referenced from:<br />      _ATL_zgetrfC in liblapack.a(ATL_zgetrfC.o)<br />      _ATL_zgetrfR in liblapack.a(ATL_zgetrfR.o)<br />      _ATL_zgetf2 in liblapack.a(ATL_zgetf2.o)<br />  &quot;_ATL_zcplxinvert&quot;, referenced from:<br />      _ATL_zgetrfC in liblapack.a(ATL_zgetrfC.o)<br />      _ATL_zgetrfR in liblapack.a(ATL_zgetrfR.o)<br />      _ATL_ztrtriCL in liblapack.a(ATL_ztrtriCL.o)<br />      _ATL_ztrtriCU in liblapack.a(ATL_ztrtriCU.o)<br />      _ATL_ztrtriRL in liblapack.a(ATL_ztrtriRL.o)<br />      _ATL_ztrtriRU in liblapack.a(ATL_ztrtriRU.o)<br />      _ATL_zgetf2 in liblapack.a(ATL_zgetf2.o)<br />      ...<br />  &quot;_ATL_zgemoveT&quot;, referenced from:<br />      _ATL_zgelqf in liblapack.a(ATL_zgelqf.o)<br />      _ATL_zgelqr.constprop.0 in liblapack.a(ATL_zgelqr.o)<br />      _ATL_zgelqr in liblapack.a(ATL_zgelqr.o)<br />  &quot;_ATL_zgeru&quot;, referenced from:<br />      _ATL_zgetf2 in liblapack.a(ATL_zgetf2.o)<br />  &quot;_ATL_zsqtrans&quot;, referenced from:<br />      _ATL_zgelqf in liblapack.a(ATL_zgelqf.o)<br />ld: symbol(s) not found for architecture x86_64<br />collect2: error: ld returned 1 exit status<br />make[5]: *** [abinit] Error 1<br />make[4]: *** [all-recursive] Error 1<br />make[3]: *** [all-recursive] Error 1<br />make[2]: *** [all] Error 2<br />make[1]: *** [multi] Error 2<br />make: *** [mj4] Error 2<br /><br />and an error like this in 98main I found using fftw3 downloaded with macport<br />Please can you help me?<br />this is my configuration:<br />MacBook-Pro-di-Lorenzo-Dona:abinit-7.6.2 lorenzodona$ ./configure --enable-mpi=yes  --with-mpi-prefix=/opt/local FCFLAGS_OPTIM=&quot;-g -O3 -Wl,-search_paths_first&quot; CXXFLAGS=&quot;-g -O3 -Wl,-search_paths_first&quot; --enable-zdot-bugfix=yes --enable-optim=safe -with-mpi-level=1 --enable-mpi-io=yes -with-dft-flavor=&quot;atompaw+bigdft+libxc+wannier90&quot; -with-trio-flavor=&quot;netcdf+etsf_io&quot; with_netcdf_incs=&quot;-I/opt/local/include/&quot; with_netcdf_libs=&quot;-L/opt/local/lib/ -lnetcdff -lnetcdf&quot;<br />Thanks so much.<br />dearly lorenzo<br />thank for your patience</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: error compiling abinit 7.6.2 with netcdf</h3>
				<div class="date">Posted: <strong>Fri Apr 25, 2014 11:23 am</strong></div>
				<div class="author">by <strong>pouillon</strong></div>
				<div class="content">Your compiler is looking for the Atlas library for linear algebra. You should also install it from Macports and/or make sure you have installed all its development-related components.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: error compiling abinit 7.6.2 with netcdf</h3>
				<div class="date">Posted: <strong>Sat Apr 26, 2014 1:11 pm</strong></div>
				<div class="author">by <strong>lorenzodona</strong></div>
				<div class="content">Dear pouillon thanks to help me in this post and in the other one.<br />I solved the problem on netcdf using this configuration<br />./configure --enable-mpi=yes --enable-64bit-flags=yes --with-mpi-prefix=/Users/lorenzodona/Desktop/openmpi-1.7.1 FCFLAGS_OPTIM=&quot;-g -O3 -Wl&quot;,-search_paths_first CXXFLAGS=&quot;-g -O3 -Wl&quot;,-search_paths_first --enable-zdot-bugfix=yes --enable-optim=safe -with-mpi-level=1 CPP=/usr/local/gfortran/bin/cpp FCCPP=/usr/local/gfortran/bin/cpp --enable-mpi-io=yes -with-dft-flavor=&quot;libxc-fallback+atompaw-fallback+bigdft-fallback+wannier90-fallback&quot; -with-trio-flavor=&quot;netcdf-fallback+etsf_io-fallback&quot;<br />and it works but not wannier90 I compiled abinit with gcc version 4.8.2<br />but  i have only a problem here mpirun doesn't work the error is:<br />--- !ERROR<br />message: |<br />    Error in netcdf call while:  get the id for ekinNetCDF: Variable not found<br />src_file: handle_ncerr.F90<br />src_line: 91<br />...<br /><br /><br /> leave_new : decision taken to exit ...<br />calling XMPI_ABORT...<br /> MPI_ERROR_STRING: MPI_ERR_UNKNOWN: unknown error<br />--------------------------------------------------------------------------<br />MPI_ABORT was invoked on rank 0 in communicator MPI_COMM_WORLD <br />with errorcode 14.<br /><br />NOTE: invoking MPI_ABORT causes Open MPI to kill all MPI processes.<br />You may or may not see output from other processes, depending on<br />exactly when Open MPI kills them.<br /><br /><br />I found another problem I am not able to compile abinit with fftw3.<br /><br />I compiled fftw3.3.4 and compiled abinit with this configuration:<br />./configure --enable-mpi=yes --enable-64bit-flags=yes --with-mpi-prefix=/Users/lorenzodona/openmpi-1.8.1/ FCFLAGS_OPTIM=&quot;-g -O3 -Wl&quot;,-search_paths_first CXXFLAGS=&quot;-g -O3 -Wl&quot;,-search_paths_first --enable-zdot-bugfix=yes --enable-optim=safe -with-mpi-level=1 CPP=/usr/local/gfortran/bin/cpp FCCPP=/usr/local/gfortran/bin/cpp --enable-mpi-io=yes -with-dft-flavor=&quot;libxc+atompaw+bigdft+wannier90&quot; -with-trio-flavor=&quot;netcdf+etsf_io&quot; --enable-openmp=yes --with-fft-flavor=&quot;fftw3&quot; --with-fft-libs=&quot;-L/Users/lorenzodona/fftw-3.3.4/lib -lfftw3&quot; --with-fft-incs=&quot;-I/Users/lorenzodona/fft/Users/lorenzodona/fftw-3.3.4/include&quot;<br /><br />but i found this error<br />/Users/lorenzodona/fftw-3.3.4/lib -lfftw3 -llapack  -lblas  <br />Undefined symbols for architecture x86_64:<br />  &quot;_sfftw_execute_dft_&quot;, referenced from:<br />      ___m_fftw3_MOD_fftw3_fftpad_spc._omp_fn.15 in lib52_fft_mpi_noabirule.a(m_fftw3.o)<br />      ___m_fftw3_MOD_fftw3_fftpad_spc._omp_fn.14 in lib52_fft_mpi_noabirule.a(m_fftw3.o)<br />      ___m_fftw3_MOD_fftw3_fftpad_spc._omp_fn.13 in lib52_fft_mpi_noabirule.a(m_fftw3.o)<br />      ___m_fftw3_MOD_fftw3_fftpad_spc._omp_fn.16 in lib52_fft_mpi_noabirule.a(m_fftw3.o)<br />      ___m_fftw3_MOD_fftw3_fftpad_spc._omp_fn.18 in lib52_fft_mpi_noabirule.a(m_fftw3.o)<br />      ___m_fftw3_MOD_fftw3_fftpad_spc._omp_fn.17 in lib52_fft_mpi_noabirule.a(m_fftw3.o)<br />      ___m_fftw3_MOD_fftw3_fftrisc_sp._omp_fn.51 in lib52_fft_mpi_noabirule.a(m_fftw3.o)<br />      ...<br />  &quot;_sfftw_plan_many_dft_&quot;, referenced from:<br />      ___m_fftw3_MOD_cplan_many_dft in lib52_fft_mpi_noabirule.a(m_fftw3.o)<br />ld: symbol(s) not found for architecture x86_64<br />collect2: error: ld returned 1 exit status<br />make[3]: *** [abinit] Error 1<br />make[2]: *** [all-recursive] Error 1<br />make[1]: *** [all-recursive] Error 1<br />make: *** [all] Error 2<br /><br />Please can you help me to compile abinit with fftw3 in a simple way..<br />thanks really a lot for your help.<br />dearly lorenzo</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: error compiling abinit 7.6.2 with netcdf</h3>
				<div class="date">Posted: <strong>Tue Jun 17, 2014 9:03 pm</strong></div>
				<div class="author">by <strong>gabriel.antonius</strong></div>
				<div class="content">I have a quick workaround. You don't actually need ncgen3 to run abinit with netCDF.<br />In the build directory, simply edit <br />fallbacks/sources/netcdf-4.1.1/Makefile : l 336<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code># Does the user want to build ncgen/ncdump?<br />#NCGEN3 = ncgen3<br />NCGEN = ncgen<br />NCDUMP = ncdump<br /></code></pre></div><br />And the rest should go smoothly.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: error compiling abinit 7.6.2 with netcdf</h3>
				<div class="date">Posted: <strong>Tue Jun 17, 2014 10:28 pm</strong></div>
				<div class="author">by <strong>gmatteo</strong></div>
				<div class="content"><blockquote class="uncited"><div>&quot;_sfftw_execute_dft_&quot;, referenced from:<br />___m_fftw3_MOD_fftw3_fftpad_spc._omp_fn.15 in lib52_fft_mpi_noabirule.a(m_fftw3.o)<br />___m_fftw3_MOD_fftw3_fftpad_spc._omp_fn.14 in lib52_fft_mpi_noabirule.a(m_fftw3.o)<br />___m_fftw3_MOD_fftw3_fftpad_spc._omp_fn.13 in lib52_fft_mpi_noabirule.a(m_fftw3.o)<br />___m_fftw3_MOD_fftw3_fftpad_spc._omp_fn.16 in lib52_fft_mpi_noabirule.a(m_fftw3.o)<br />___m_fftw3_MOD_fftw3_fftpad_spc._omp_fn.18 in lib52_fft_mpi_noabirule.a(m_fftw3.o)<br />___m_fftw3_MOD_fftw3_fftpad_spc._omp_fn.17 in lib52_fft_mpi_noabirule.a(m_fftw3.o)<br />___m_fftw3_MOD_fftw3_fftrisc_sp._omp_fn.51 in lib52_fft_mpi_noabirule.a(m_fftw3.o)<br />...<br /></div></blockquote><br /><br />You need the single-precision version of FFTW3 (libfftw3f) in addition to the double-precision version<br /><br />If libfftw3f is not present in Users/lorenzodona/fftw-3.3.4/lib, you have to<br />reconfigure FFTW3, pass --enable-single to configure to enable the compilation of the single-precision library and then recompile<br /><br />Then pass<br />--with-fft-libs=&quot;-L/Users/lorenzodona/fftw-3.3.4/lib -lfftw3 -lfftw3f&quot;<br /><br />to  the configure script of Abinit</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=3&t=2631&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 02:22:01 GMT -->
</html>
