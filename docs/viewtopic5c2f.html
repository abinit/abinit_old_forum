<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=3706&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 02:36:58 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; PDOS calculation</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>PDOS calculation</h2>
		<p><a href="viewtopic5b81.html?f=9&amp;t=3706">https://forum.abinit.org/viewtopic.php?f=9&amp;t=3706</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>PDOS calculation</h3>
				<div class="date">Posted: <strong>Thu Oct 19, 2017 8:53 am</strong></div>
				<div class="author">by <strong>TriSugiono</strong></div>
				<div class="content">Dear Abinit user<br />iam confusing with my input file which always had failed. can some want correct it for me ?<br />This my input file:<br />#struktur silicene<br />#test DOS menggunakan metode tetrahedron<br /><br />ndtset 2<br />#dataset 1 : SCF calculation<br />ngkpt1 2 2 2<br />toldfe1 1.0d-10<br />prtden1 1<br /><br />#dataset 2 : DOS calculation<br />iscf2 -3<br />getden2 1<br />getwfk2 1<br />prtdos2 3<br />dosdeltae 0.00005<br />ngkpt2 12 12 1<br />tolwfr2 1.0d-16<br />shiftk2 0 0 0<br />natsph2 2<br />iatsph2 1 2<br />ratsph2 2 2.75<br /><br /><br />acell 8.2 8.2 15.0  Angstrom  <br />rprim   <br />0.866 0.5 0<br />0.0 1.0 0.0<br />0.0 0.0 1.0<br />nspinor 2<br />#Definition of the atom types<br />ntypat 3          # There is only one type of atom<br />znucl 32 33 01           # The keyword &quot;znucl&quot; refers to the atomic number of the <br />                  # possible type(s) of atom. The pseudopotential(s) <br />                  # mentioned in the &quot;files&quot; file must correspond<br />                  # to the type(s) of atom. Here, the only type is Silicon.<br />                         <br /><br />#Definition of the atoms<br />natom 17          # There are two atoms<br />typat 2 1 1 1 1 1 1 1 1 3 3 3 3 3 3 3 3       <br />xred             <br />1.5/6 3/6 0.15<br />1/6 1/6 0<br />2/6 2/6 0<br />4/6 1/6 0<br />5/6 2/6 0<br />1/6 4/6 0<br />2/6 5/6 0<br />4/6 4/6 0<br />5/6 5/6 0<br />1/6 1/6 0.5/6<br />2/6 2/6 0.5/6<br />4/6 1/6 0.5/6<br />5/6 2/6 0.5/6<br />1/6 4/6 0.5/6<br />2/6 5/6 0.5/6<br />4/6 4/6 0.5/6<br />5/6 5/6 0.5/6<br />ecut 30.0<br />nstep 20<br />diemac 12.0<br />optforces 1<br />chkprim 0<br />kptopt 1<br />nshiftk 1<br />shiftk 0.0 0.0 0.0<br />ngkpt 12 12 1<br />nband 40<br />occopt 3<br />tsmear 0.006<br /><br /><br />This is log file:<br />  ABINIT <br />  <br />  Give name for formatted input file: <br />t46.in<br />  Give name for formatted output file:<br />t46.out<br />  Give root name for generic input files:<br />tbase3_x<br />  Give root name for generic output files:<br />tbase3_4xi<br />  Give root name for generic temporary files:<br />tbase3_3xo<br /><br />--- !WARNING<br />message: |<br />    Finds that output file t46.out<br />     already exists.<br />src_file: Subroutine Unknown<br />src_line: 0<br />...<br /><br /> new name assigned:t46.out<br /><br /><br />--- !WARNING<br />message: |<br />    Finds that output file t46.out<br />     already exists.<br />src_file: Subroutine Unknown<br />src_line: 0<br />...<br /><br /> new name assigned:t46.outA<br /><br /><br />--- !WARNING<br />message: |<br />    Finds that output file t46.outA<br />     already exists.<br />src_file: Subroutine Unknown<br />src_line: 0<br />...<br /><br /> new name assigned:t46.outB<br /><br /><br />--- !WARNING<br />message: |<br />    Finds that output file t46.outB<br />     already exists.<br />src_file: Subroutine Unknown<br />src_line: 0<br />...<br /><br /> new name assigned:t46.outC<br /><br /><br />--- !WARNING<br />message: |<br />    Finds that output file t46.outC<br />     already exists.<br />src_file: Subroutine Unknown<br />src_line: 0<br />...<br /><br /> new name assigned:t46.outD<br /><br /><br />--- !WARNING<br />message: |<br />    The starting date is more than 3 years after the initial release<br />    of this version of ABINIT, namely Jul 2014.<br />    This version of ABINIT is not supported anymore.<br />    Action : please, switch to a more recent version of ABINIT.<br />src_file: Subroutine Unknown<br />src_line: 0<br />...<br /><br /><br />.Version 7.8.2 of ABINIT <br />.(sequential version, prepared for a x86_64_linux_gnu5.2 computer) <br /><br />.Copyright (C) 1998-2014 ABINIT group . <br /> ABINIT comes with ABSOLUTELY NO WARRANTY.<br /> It is free software, and you are welcome to redistribute it<br /> under certain conditions (GNU General Public License,<br /> see ~abinit/COPYING or <!-- m --><a class="postlink" href="http://www.gnu.org/copyleft/gpl.txt">http://www.gnu.org/copyleft/gpl.txt</a><!-- m -->).<br /><br /> ABINIT is a project of the Universite Catholique de Louvain,<br /> Corning Inc. and other collaborators, see ~abinit/doc/developers/contributors.txt .<br /> Please read ~abinit/doc/users/acknowledgments.html for suggested<br /> acknowledgments of the ABINIT effort.<br /> For more information, see <!-- m --><a class="postlink" href="http://www.abinit.org/">http://www.abinit.org</a><!-- m --> .<br /><br />.Starting date : Thu 19 Oct 2017.<br />- ( at 13h40 )<br />  <br /><br />--- !WARNING<br />message: |<br />    The starting date is more than 3 years after the initial release<br />    of this version of ABINIT, namely Jul 2014.<br />    This version of ABINIT is not supported anymore.<br />    Action : please, switch to a more recent version of ABINIT.<br />src_file: Subroutine Unknown<br />src_line: 0<br />...<br /><br /><br /> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<br /><br /> === Build Information === <br />  Version       : 7.8.2<br />  Build target  : x86_64_linux_gnu5.2<br />  Build date    : 20151122<br /><br /> === Compiler Suite === <br />  C compiler       : gnu5.2<br />  C++ compiler     : gnu5.2<br />  Fortran compiler : gnu5.2<br />  CFLAGS           : -g -O2 -fstack-protector-strong -Wformat -Werror=format-security<br />  CXXFLAGS         : -g -O2 -fstack-protector-strong -Wformat -Werror=format-security<br />  FCFLAGS          : -g -O2 -fstack-protector-strong<br />  FC_LDFLAGS       : <br /><br /> === Optimizations === <br />  Debug level        : basic<br />  Optimization level : standard<br />  Architecture       : unknown_unknown<br /><br /> === Multicore === <br />  Parallel build : no<br />  Parallel I/O   : no<br />  openMP support : no<br />  GPU support    : no<br /><br /> === Connectors / Fallbacks === <br />  Connectors on : yes<br />  Fallbacks on  : yes<br />  DFT flavor    : none<br />  FFT flavor    : none<br />  LINALG flavor : netlib<br />  MATH flavor   : none<br />  TIMER flavor  : abinit<br />  TRIO flavor   : none<br /><br /> === Experimental features === <br />  Bindings            : @enable_bindings@<br />  Exports             : no<br />  GW double-precision : no<br /><br /> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<br /><br /><br /> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<br /> Default optimizations:<br />   --- None ---<br /><br /><br /> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<br /><br /><br /> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<br /> CPP options activated during the build:<br /><br />                    CC_GNU                   CXX_GNU                    FC_GNU<br /> <br /> HAVE_FC_ALLOCATABLE_DT...             HAVE_FC_ASYNC         HAVE_FC_BACKTRACE<br /> <br />  HAVE_FC_COMMAND_ARGUMENT      HAVE_FC_COMMAND_LINE        HAVE_FC_CONTIGUOUS<br /> <br />           HAVE_FC_CPUTIME              HAVE_FC_EXIT             HAVE_FC_FLUSH<br /> <br />             HAVE_FC_GAMMA            HAVE_FC_GETENV   HAVE_FC_IEEE_EXCEPTIONS<br /> <br />          HAVE_FC_INT_QUAD             HAVE_FC_IOMSG     HAVE_FC_ISO_C_BINDING<br /> <br />           HAVE_FC_PRIVATE         HAVE_FC_PROTECTED         HAVE_FC_STREAM_IO<br /> <br />            HAVE_FC_SYSTEM          HAVE_FORTRAN2003        HAVE_LIBPAW_ABINIT<br /> <br />               HAVE_LINALG        HAVE_LINALG_SERIAL             HAVE_OS_LINUX<br /> <br />                HAVE_TIMER         HAVE_TIMER_ABINIT         HAVE_TIMER_SERIAL<br /> <br />              USE_MACROAVE                                                      <br /> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<br /><br />- input  file    -&gt; t46.in<br />- output file    -&gt; t46.outD<br />- root for input  files -&gt; tbase3_x<br />- root for output files -&gt; tbase3_4xi<br /><br />-instrng :    89 lines of input have been read from file t46.in<br /><br /><br /> iofn2 : Please give name of formatted atomic psp file<br /> iofn2 : for atom type   1 , psp file is 32-Ge.GGA.fhi<br /><br /> iofn2 : Please give name of formatted atomic psp file<br /> iofn2 : for atom type   2 , psp file is 33-As.GGA.fhi<br /><br /> iofn2 : Please give name of formatted atomic psp file<br /> iofn2 : for atom type   3 , psp file is 01-H.GGA.fhi<br />  read the values zionpsp=  4.0 , pspcod=   6 , lmax=   3<br />  read the values zionpsp=  5.0 , pspcod=   6 , lmax=   3<br />  read the values zionpsp=  1.0 , pspcod=   6 , lmax=   3<br /><br /> inpspheads: deduce mpsang  =   4, n1xccc  =   0.<br /><br /> invars1m : enter jdtset=1<br /> invars1 : treat image number     1<br /><br /> symlatt : the Bravais lattice is oC (one-face-centered orthorhombic)<br />  xred   is defined in input file<br /> ingeo : takes atomic coordinates from input array xred<br /><br /> symlatt : the Bravais lattice is oC (one-face-centered orthorhombic)<br /><br /> symlatt : the Bravais lattice is oC (one-face-centered orthorhombic)<br /><br />--- !COMMENT<br />message: |<br />    The Bravais lattice determined only from the primitive<br />    vectors, bravais(1)=  3, is more symmetric<br />    than the real one, iholohedry=  2, obtained by taking into<br />    account the atomic positions. Start deforming the primitive vector set.<br />src_file: Subroutine Unknown<br />src_line: 0<br />...<br /><br /><br /> symlatt : the Bravais lattice is mP (primitive monoclinic)<br /> symspgr : spgroup=   3  P2   (=C2^1)<br />       Simple Lattice Grid<br /><br /> invars1m : enter jdtset=2<br /><br />inread : ERROR -<br />Attempted to read ndig=5 floating point digits,<br />   from string(1:ndig) ACELL, to initialize a floating variable.<br /><br /> inarray : <br />  An error occurred reading data for keyword &quot; RATSPH2&quot;,<br />  looking for 3 array elements.<br /> DATA TYPE INFORMATION: <br /> REAL:      Data type name: REAL(DP) <br />            Kind value:      8<br />            Precision:      15<br />            Smallest nonnegligible quantity relative to 1:  0.22204460E-15<br />            Smallest positive number:                       0.22250739-307<br />            Largest representable number:                   0.17976931+309<br /> INTEGER:   Data type name: INTEGER(default) <br />            Kind value: 4<br />            Bit size:   32<br />            Largest representable number: 2147483647<br /> LOGICAL:   Data type name: LOGICAL <br />            Kind value: 4<br /> CHARACTER: Data type name: CHARACTER             Kind value: 1<br />  MPI-IO support is OFF<br /><br /> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<br /><br /> === Build Information === <br />  Version       : 7.8.2<br />  Build target  : x86_64_linux_gnu5.2<br />  Build date    : 20151122<br /><br /> === Compiler Suite === <br />  C compiler       : gnu5.2<br />  C++ compiler     : gnu5.2<br />  Fortran compiler : gnu5.2<br />  CFLAGS           : -g -O2 -fstack-protector-strong -Wformat -Werror=format-security<br />  CXXFLAGS         : -g -O2 -fstack-protector-strong -Wformat -Werror=format-security<br />  FCFLAGS          : -g -O2 -fstack-protector-strong<br />  FC_LDFLAGS       : <br /><br /> === Optimizations === <br />  Debug level        : basic<br />  Optimization level : standard<br />  Architecture       : unknown_unknown<br /><br /> === Multicore === <br />  Parallel build : no<br />  Parallel I/O   : no<br />  openMP support : no<br />  GPU support    : no<br /><br /> === Connectors / Fallbacks === <br />  Connectors on : yes<br />  Fallbacks on  : yes<br />  DFT flavor    : none<br />#0  0x7FC27C40AE08<br />#1  0x1139F2E<br />#2  0xEADC7F<br />#3  0xEAB04A<br />#4  0xC6FC3B<br />#5  0xC4A339<br />#6  0xC0125E<br />#7  0x4040BE<br />#8  0x403CFC<br />#9  0x7FC27BB2682F<br />#10  0x403D38<br />#11  0xFFFFFFFFFFFFFFFF<br />  FFT flavor    : none<br />  LINALG flavor : netlib<br />  MATH flavor   : none<br />  TIMER flavor  : abinit<br />  TRIO flavor   : none<br /><br /> === Experimental features === <br />  Bindings            : @enable_bindings@<br />  Exports             : no<br />  GW double-precision : no<br /><br /> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<br /><br /><br />--- !ERROR<br />message: |<br />    There is a problem with the input file : maybe  <br />    a disagreement between the declared dimension of the array,<br />    and the number of data actually provided. <br />    Action: correct your input file !<br />src_file: Subroutine Unknown<br />src_line: 0<br />...<br /><br /><br /> leave_new : decision taken to exit ...<br /><br />--- !ERROR<br />message: |<br />    There is a problem with the input file : maybe  <br />    a disagreement between the declared dimension of the array,<br />    and the number of data actually provided. <br />    Action: correct your input file !<br />src_file: Subroutine Unknown<br />src_line: 0<br />...<br /><br /><div class="inline-attachment">
			
		
		
				<dl class="file">
			<dt><img src="images/upload_icons/txt.gif" alt="" /> <a class="postlink" href="download/file9865.php?id=1478">t46.in</a></dt>
			<dd><em>input files</em></dd>			<dd>(1.74 KiB) Downloaded 311 times</dd>
		</dl>
		
		
			</div></div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: PDOS calculation</h3>
				<div class="date">Posted: <strong>Tue Oct 24, 2017 2:47 pm</strong></div>
				<div class="author">by <strong>NPike</strong></div>
				<div class="content">Hello TriSugiono,<br /><br />Thank you for posting both your input file and the Abinit log file.  The log file is often useful in telling you what is wrong (i.e. it gives error messages at the end of the file) and often can point you to a solution.  In this case, the error messages indicate a problem in the input file and, above the build information, you will find a sections of lines which say <br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>inread : ERROR -<br />Attempted to read ndig=5 floating point digits,<br />from string(1:ndig) ACELL, to initialize a floating variable.<br /></code></pre></div><br /><br />Which tells you that the program is attempting to read the variable ACELL and look for numbers with at least 5 floating point digits.  In this case, you have provided numbers with only a single decimal place and therefore an error message is printed out and the program ends.<br /><br />In general, Abinit needs more digits for the numbers that you, as the user, provide (I personally provide at least 9 after the decimal place).  This is true for variables such as acell, xred, xcart, rprim etc.  Here your use of fractions for xred is good as Abinit can handle simple fractions.<br /><br />Please let us know if you have more questions!</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: PDOS calculation</h3>
				<div class="date">Posted: <strong>Sun Oct 29, 2017 11:26 am</strong></div>
				<div class="author">by <strong>TriSugiono</strong></div>
				<div class="content">Hello Npike<br />Thanks for your reply<br />That solve my problem, actually i don't get what parameter must be changed. but for now that's things solve my problem. But usually the abinit recognizes fractions that are automatically changed in decimal form. But for now that's things solve my problem.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: PDOS calculation&nbsp;&nbsp;<span style="color: #006600">[SOLVED]</span></h3>
				<div class="date">Posted: <strong>Sun Oct 29, 2017 12:54 pm</strong></div>
				<div class="author">by <strong>NPike</strong></div>
				<div class="content">Hello again,<br /><br />I am glad to read that things are working for you now.<br /><br />To clarify:<br /><br />Your original code was<br /><br />acell 8.2 8.2 15.0 Angstrom <br /><br />And Abinit had a problem with the number of decimal places you used. <br /><br />The corrected input file should have<br /><br />acell 8.200000 8.200000 15.00000 Angstrom <br /><br /><br />Does that help clear things up?</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: PDOS calculation</h3>
				<div class="date">Posted: <strong>Mon Oct 30, 2017 7:42 am</strong></div>
				<div class="author">by <strong>TriSugiono</strong></div>
				<div class="content">Hello again,<br /><br />i am not change the acell number, but now working. i think if we input acell number except bohr number , abinit will automatically exchange it to bohr.<br />it work for now and my task complete and i can get another research. <br />Thanks for your help.</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=3706&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 02:36:58 GMT -->
</html>
