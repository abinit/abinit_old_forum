<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=1702&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 03:05:45 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; Quesiton about check sysmetry break</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>Quesiton about check sysmetry break</h2>
		<p><a href="viewtopicfdfb.html?f=9&amp;t=1702">https://forum.abinit.org/viewtopic.php?f=9&amp;t=1702</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>Quesiton about check sysmetry break</h3>
				<div class="date">Posted: <strong>Mon Jun 18, 2012 9:29 am</strong></div>
				<div class="author">by <strong>Zhang Xiaole</strong></div>
				<div class="content">Dear users,<br />      Recently, i want to calculate the crystal GaSe, which has 194 space group number (P 63/m m c), When i prepare the input file like this<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>&nbsp; &nbsp;natom 8<br />&nbsp; &nbsp;ntypat 2<br />&nbsp; &nbsp;znucl 31 34<br />&nbsp; &nbsp;typat 1 1 1 1 2 2 2 2<br />&nbsp; &nbsp;xred&nbsp; 0.333333&nbsp; 0.666667&nbsp; 0.177000<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.333333&nbsp; 0.666667&nbsp; 0.323000<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.666667&nbsp; 0.333333&nbsp; 0.823000<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.666667&nbsp; 0.333333&nbsp; 0.677000<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.333333&nbsp; 0.666667&nbsp; 0.600000<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.333333&nbsp; 0.666667&nbsp; 0.900000<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.666667&nbsp; 0.333333&nbsp; 0.400000<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.6d6667&nbsp; 0.333333&nbsp; 0.100000<br /></code></pre></div><br />the corresponding output file will give a comment that <div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>symbrav : COMMENT -<br />&nbsp; The Bravais lattice determined only from the primitive<br />&nbsp; vectors, bravais(1)=&nbsp; 6, is more symmetric<br />&nbsp; than the real one, iholohedry=&nbsp; 3, obtained by taking into<br />&nbsp; account the atomic positions. Start deforming the primitive vector set</code></pre></div><br /> and give the space group number 63 (Cmcm).<br /> when i check the reasons for the results, i find the varible 'tolsym' is setted to 1.0D-8 defoutly, so i change my input file like this<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>&nbsp; &nbsp;natom 8<br />&nbsp; &nbsp;ntypat 2<br />&nbsp; &nbsp;znucl 31 34<br />&nbsp; &nbsp;typat 1 1 1 1 2 2 2 2<br />&nbsp; &nbsp;xred&nbsp; 0.333333333&nbsp; 0.666666667&nbsp; 0.177000<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.333333333&nbsp; 0.666666667&nbsp; 0.323000<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.666666667&nbsp; 0.333333333&nbsp; 0.823000<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.666666667&nbsp; 0.333333333&nbsp; 0.677000<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.333333333&nbsp; 0.666666667&nbsp; 0.600000<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.333333333&nbsp; 0.666666667&nbsp; 0.900000<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.666666667&nbsp; 0.333333333&nbsp; 0.400000<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.666666667&nbsp; 0.333333333&nbsp; 0.100000<br /></code></pre></div><br />Then the Abinit will regonize the right spgoup number, but the code stop with complain <div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>forrtl: severe (66): output statement overflows record, unit -5, file Internal Formatted Write<br /></code></pre></div><br />i think maybe there are something wrong with the symmetry, so i set the varible 'chksymbreak=0', then everything goes fine.<br />But, i have one question about the varible 'cheksymbreak'.  the discriptiong of this varible said that, when use it in the DFPT and GW calculations, this will lead to a bad results. But i wonder how can i analyse the phonon mode if the system have a wrong spgroup number?<br />Please guide me how overcome this situation?<br />Thanks in advanced.<br /><br />CheersÔºÅ<br />Sheleon</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Quesiton about check sysmetry break</h3>
				<div class="date">Posted: <strong>Wed Jun 20, 2012 5:03 pm</strong></div>
				<div class="author">by <strong>kengel</strong></div>
				<div class="content">Dear Sheleon,<br /><br />Have you tried using the geometry builder with symmetry?<br /><br />To do this, I would use these input parameters:<br />acell<br />angdeg 90 90 120<br />spgroup 194<br />brvltt -1<br />natom<br />natrd 2<br />typat<br />znucl<br />xred<br />  1/3  2/3 -0.1<br />  1/3  2/3  0.177 !Kristallografiya (1956) 1,  p537-p541<br /><br />where acell has the dimensions of the conventional unit cell. The &quot;brvltt -1&quot; tells abinit to build a primitive unit cell based on the space group information.<br /><br />Hope this helps,<br />Kale</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Quesiton about check sysmetry break</h3>
				<div class="date">Posted: <strong>Thu Jun 21, 2012 2:13 pm</strong></div>
				<div class="author">by <strong>Zhang Xiaole</strong></div>
				<div class="content"><blockquote><div><cite>kengel wrote:</cite>Dear Sheleon,<br /><br />Have you tried using the geometry builder with symmetry?<br /><br />To do this, I would use these input parameters:<br />acell<br />angdeg 90 90 120<br />spgroup 194<br />brvltt -1<br />natom<br />natrd 2<br />typat<br />znucl<br />xred<br />  1/3  2/3 -0.1<br />  1/3  2/3  0.177 !Kristallografiya (1956) 1,  p537-p541<br /><br />where acell has the dimensions of the conventional unit cell. The &quot;brvltt -1&quot; tells abinit to build a primitive unit cell based on the space group information.<br /><br />Hope this helps,<br />Kale</div></blockquote><br />Dear,Kale<br />Very appreciate for your reply, the method you mentioned i have tried before, when i set the parameter 'natom=8' , the code would complain that according to the symmetry , there are 'N' atom in the cell not the number 8.<br />Any suggestion?<br />Cheers!<br />Sheleon</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Quesiton about check sysmetry break</h3>
				<div class="date">Posted: <strong>Thu Jun 21, 2012 5:10 pm</strong></div>
				<div class="author">by <strong>kengel</strong></div>
				<div class="content">Dear Sheleon,<br /><br />You're very welcome. When you get the error message about 'N' atoms, is 'N' a number or the letter N?<br /><br />I tried a dummy calculation (same geometry but wrong elements and some arbitrary parameters) just now with spgroup 194, and it seemed to work with natom = 8. It can be confusing because natom is the number of atoms in the primitive cell, not the conventional cell. But in this case, I don't know why natom = 8 doesn't work for you. Are there any other error messages?<br /><br />Please let me know if you figure out the problem. I've attached my input, in case that helps.<br /><br />Regards,<br />Kale<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>acell 3.750 3.750 15.995<br />angdeg 90 90 120<br />brvltt -1<br />spgroup 194<br />natom 8<br />natrd 2<br />ntypat 2<br />typat 1 2<br />znucl 20 50<br />xred 1/3 2/3 0.1736<br />&nbsp; &nbsp; &nbsp;1/3 2/3 0.6015<br />nband 50<br />ecut 50<br />toldfe 0.000001 eV<br />nshiftk 1<br />shiftk 0.0 0.0 0.0<br />ngkpt 4 4 4<br />occopt 3<br />tsmear 0.01<br />nstep 15<br />!tolsym 0.00000001</code></pre></div></div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Quesiton about check sysmetry break</h3>
				<div class="date">Posted: <strong>Mon Jun 25, 2012 6:57 am</strong></div>
				<div class="author">by <strong>Zhang Xiaole</strong></div>
				<div class="content">Dear kengel<br /> i am sry that give you the wrong messege about 'error' when using symmetry builder, the error is not about Natom, is about maybe some output array was overflowed. the error messeage is like 'forrtl: severe(66): output statement overflows record, unit -5, file Internal Formatted Write' <br />i think this is not someting wrong in input, but someting wrong with the compiling of the code.<br /><br />Cheers!<br /><br /><br />Sheleon</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Quesiton about check sysmetry break</h3>
				<div class="date">Posted: <strong>Wed Jun 27, 2012 8:15 am</strong></div>
				<div class="author">by <strong>Zhang Xiaole</strong></div>
				<div class="content">Dear kengel<br />I have finally fixed my problem of using symmtry builder. Then reason is i make a mistake for the input parameter 'shiftk'. Since the system i am calculating is hexagonal, i should use the 'shiftk 0.0 0.0 0.5' instead of 'shiftk 0.5 0.5 0.5' which i used previously.<br />Thank you for your kind suggestions<br />They are very useful for me to understand the calculation deeply.<br /><br />Cheers!<br /><br />Sheleon</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Quesiton about check sysmetry break</h3>
				<div class="date">Posted: <strong>Wed Jun 27, 2012 3:41 pm</strong></div>
				<div class="author">by <strong>kengel</strong></div>
				<div class="content">Dear Sheleon,<br /><br />Thank you for letting me know what the problem was. I'm glad that you figured it out!<br />-Kale</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=1702&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 03:05:45 GMT -->
</html>
