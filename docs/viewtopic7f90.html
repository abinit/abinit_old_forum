<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=10&t=1628&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Sep 2024 23:03:54 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; error while running the code</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>error while running the code</h2>
		<p><a href="viewtopic3323.html?f=10&amp;t=1628">https://forum.abinit.org/viewtopic.php?f=10&amp;t=1628</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>error while running the code</h3>
				<div class="date">Posted: <strong>Fri Apr 20, 2012 4:52 pm</strong></div>
				<div class="author">by <strong>guptasanjay.85</strong></div>
				<div class="content">Respected Sir and abinit users,<br />Greetings <br />We have successfully compiled the abinit-6.12.2 and abinit-6.12.3 on HPC supercomputing cluster in parallel,<br />However when we are running the code its gives the below error.<br />we have discussed this error with administrator also but this has yet not been resolved.<br />The error is given below<br />&quot; <br />--------------------------------------------------------------------------<br />MPI_ABORT was invoked on rank 0 in communicator MPI_COMM_WORLD<br />with errorcode 14.<br /><br />NOTE: invoking MPI_ABORT causes Open MPI to kill all MPI processes.<br />You may or may not see output from other processes, depending on<br />exactly when Open MPI kills them.<br />--------------------------------------------------------------------------<br />--------------------------------------------------------------------------<br />mpirun has exited due to process rank 0 with PID 25491 on<br />node compute-2-6.local exiting without calling &quot;finalize&quot;. This may<br />have caused other processes in the application to be<br />terminated by signals sent by mpirun (as reported here).<br />--------------------------------------------------------------------------<br />Please suggest me more <br />waiting for your positive reply<br />WIth Kind Regards<br /><br />Sanjay D. Gupta<br />Bhavnagar University,<br />Bhavnagar</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: error while running the code</h3>
				<div class="date">Posted: <strong>Fri Apr 20, 2012 7:49 pm</strong></div>
				<div class="author">by <strong>pouillon</strong></div>
				<div class="content">It will be difficult for us to help you without knowing what you're going to do more in detail: input file, MPI vendor and version, et c.<br /><br />At first glance, some of your default MPI parameters might have to be tuned. How to do it will be explained in your MPI documentation.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: error while running the code</h3>
				<div class="date">Posted: <strong>Sat Apr 21, 2012 7:45 am</strong></div>
				<div class="author">by <strong>guptasanjay.85</strong></div>
				<div class="content">Respected Sir,<br />Thank you very much for kind reply<br />here we are using the <br />openmpi 1.3.3 and my input file is given below.<br /><br />input file<br />**********************************<br />#Set 1 : ground state self-consistency<br />ndtset 31 #self-consistency<br /><br />  getwfk1   0            # Cancel default<br />  kptopt1   1            # Automatic generation of k points, taking into account the symmetry<br />    nqpt1   0            # Cancel default<br />  tolvrs1   1.0d-20      # SCF stopping criterion (modify default)<br />  rfphon1   0            # Cancel default<br />  prtwf1    1<br />  prtden1   1<br /><br />#Q vectors for all datasets<br /><br />#Complete set of symmetry-inequivalent qpt chosen to be commensurate<br /># with kpt mesh so that only one set of GS wave functions is needed.<br />#Generated automatically by running GS calculation with kptopt=1,<br /># nshift=0, shiftk=0 0 0 (to include gamma) and taking output kpt set<br /># file as qpt set. Set nstep=1 so only one iteration runs.<br /><br />     nqpt   1            # One qpt for each dataset (only 0 or 1 allowed)<br />                         # This is the default for all datasets and must<br />                         #  be explicitly turned off for dataset 1.<br />           qpt2    0.00000000E+00  0.00000000E+00  0.00000000E+00<br />           qpt3    0.00000000E+00  0.00000000E+00  0.00000000E+00<br />           qpt4        1.25000000E-01  0.00000000E+00  0.00000000E+00<br />           qpt5          2.50000000E-01  0.00000000E+00  0.00000000E+00<br />           qpt6          3.75000000E-01  0.00000000E+00  0.00000000E+00<br />           qpt7          5.00000000E-01  0.00000000E+00  0.00000000E+00<br />           qpt8         1.25000000E-01  1.25000000E-01  0.00000000E+00<br />           qpt9         2.50000000E-01  1.25000000E-01  0.00000000E+00<br />           qpt10         3.75000000E-01  1.25000000E-01  0.00000000E+00<br />           qpt11         5.00000000E-01  1.25000000E-01  0.00000000E+00<br />           qpt12        -3.75000000E-01  1.25000000E-01  0.00000000E+00<br />           qpt13        -2.50000000E-01  1.25000000E-01  0.00000000E+00<br />           qpt14        -1.25000000E-01  1.25000000E-01  0.00000000E+00<br />           qpt15         2.50000000E-01  2.50000000E-01  0.00000000E+00<br />           qpt16         3.75000000E-01  2.50000000E-01  0.00000000E+00<br />           qpt17         5.00000000E-01  2.50000000E-01  0.00000000E+00<br />           qpt18        -3.75000000E-01  2.50000000E-01  0.00000000E+00<br />           qpt19        -2.50000000E-01  2.50000000E-01  0.00000000E+00<br />           qpt20        3.75000000E-01  3.75000000E-01  0.00000000E+00<br />           qpt21         5.00000000E-01  3.75000000E-01  0.00000000E+00<br />           qpt22        -3.75000000E-01  3.75000000E-01  0.00000000E+00<br />           qpt23         5.00000000E-01  5.00000000E-01  0.00000000E+00<br />           qpt24         3.75000000E-01  2.50000000E-01  1.25000000E-01<br />           qpt25         5.00000000E-01  2.50000000E-01  1.25000000E-01<br />           qpt26        -3.75000000E-01  2.50000000E-01  1.25000000E-01<br />           qpt27         5.00000000E-01  3.75000000E-01  1.25000000E-01<br />           qpt28        -3.75000000E-01  3.75000000E-01  1.25000000E-01<br />           qpt29        -2.50000000E-01  3.75000000E-01  1.25000000E-01<br />           qpt30        -3.75000000E-01  5.00000000E-01  1.25000000E-01<br />           qpt31        -2.50000000E-01  5.00000000E-01  2.50000000E-01<br />  #   nction calculation of d/dk wave function <br /><br />    iscf2  -3          # Need this non-self-consistent option for d/dk<br />  kptopt2   2          # Modify default to use time-reversal symmetry<br />  rfphon2   0          # Cancel default<br />  rfelfd2   2          # Calculate d/dk wave function only<br />#  tolvrs2   0.0       # Cancel default for d/dk<br />  tolwfr2   1.0d-18    # Use wave function residual criterion instead<br />  prtwf2   2<br />  prtden2  2<br /><br />#Set 3 : Response function calculation of Q=0 phonons and electric field pert.<br /><br />  getddk3   2          # d/dk wave functions from last dataset<br />  kptopt3   2          # Modify default to use time-reversal symmetry<br />  rfelfd3   3          # Electric-field perturbation response only<br /><br />#Sets 4-10 : Finite-wave-vector phonon calculations (defaults for all datasets)<br /><br />   getwfk   1          # Use GS wave functions from dataset1<br />   kptopt   3          # Need full k-point set for finite-Q response<br />   rfphon   1          # Do phonon response<br />  rfatpol   1 2        # Treat displacements of all atoms<br />    rfdir   1 1 1      # Do all directions (symmetry will be used)<br />   tolvrs   1.0d-8    # This default is active for sets 3-10<br />#######################################################################<br />#Common input variables<br />#Definition of the unit cell<br /><br />    acell   3*8.915<br />  spgroup   225<br />  angdeg    90 90 90<br />  brvltt    -1<br />#  strtarget  1.24570127E+01  1.24570127E+01  1.24570127E+01  0.00000000E+00 0.00000000E+00 0.00000000E+00<br />#   rprim   0.0  0.5  0.5  # In lessons 1 and 2, these primitive vectors <br />#           0.5  0.0  0.5 #(to be scaled by acell) were 1 0 0  0 1 0  0 0 le1 <br />#           0.5  0.5  0.0   # that is, the default.<br /><br />#Definition of the atom types<br />   ntypat   2         # There are two types of atom<br />    znucl   40 6      # The keyword &quot;znucl&quot; refers to the atomic number of the <br />                      # possible type(s) of atom. The pseudopotential(s) <br />                      # mentioned in the &quot;files&quot; file must correspond<br />                      # to the type(s) of atom. Here, type 1 is the Aluminum,<br />                      # type 2 is the Arsenic.<br /><br />#Definition of the atoms<br />    natom   2       # There are two atoms<br />    typat   1 2   # The first is of type 1 (Al), the second is of type 2 (As).<br /><br />     xred   0.0   0.0   0.0<br />            0.5   0.5   0.5<br /><br />#Gives the number of band, explicitely (do not take the default)<br />   nband    16<br />#Exchange-correlation functional<br />      ixc   9             # LDA Teter Pade parametrization<br />#Definition of the planewave basis set<br />     ecut   40.0         # Maximal kinetic energy cut-off, in Hartree<br />     nsppol 2 <br />     nspden 2<br />#Definition of the k-point grid<br />    ngkpt   6 6 6 <br />  nshiftk   4              # Use one copy of grid only (default)<br />   shiftk   0.0 0.0 0.5    # This gives the usual fcc Monkhorst-Pack grid<br />            0.0 0.5 0.0<br />            0.5 0.0 0.0<br />            0.5 0.5 0.5<br /><br />#Definition of the SCF procedure<br />     iscf   7           # Self-consistent calculation, using algorithm 5<br />    nstep   100         # Maximal number of SCF cycles<br />  diemac    1.0d60      # is described in the &quot;dielng&quot; input variable section.<br />occopt 4<br />tsmear 0.04<br />#iprcel 45<br />ntime  50<br />#nline  10<br />#nnsclo 12   # The dielectric constant of AlAs is smaller that the one of Si (=12).<br />***********************************************************************************************<br /><br />Please suggest me more..<br /><br />WIth Kind Regards<br /><br />Sanjay D Gupta</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: error while running the code</h3>
				<div class="date">Posted: <strong>Tue Apr 24, 2012 11:46 am</strong></div>
				<div class="author">by <strong>aromero</strong></div>
				<div class="content">did you try to run a very simple case, as diamond Si and see how the paralellization goes? instead of running a very complicated<br />test, I would test something much simple and see if the system is well parallelized and if the memory is Ok</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: error while running the code</h3>
				<div class="date">Posted: <strong>Wed Apr 25, 2012 4:25 pm</strong></div>
				<div class="author">by <strong>guptasanjay.85</strong></div>
				<div class="content">Respected Sir,<br />Thank you very much for kind and valuable suggestion.<br />In fact we first do this kind of small calculation for testing purpose.<br />I have also tried to run simple file and having the problem to run the executable in paralleel.<br /><span style="font-size: 150%; line-height: 116%;">The error extracted from the error file is given as below</span><br />****************************************<br />[compute-3-17.local][[65376,1],8][btl_openib_component.c:1484:init_one_device] error obtaining device attributes for mthca0 errno says Resource temporarily unavailable<br />--------------------------------------------------------------------------<br />WARNING: There was an error initializing an OpenFabrics device.<br /><br />  Local host:   compute-3-17.local<br />  Local device: mthca0<br />--------------------------------------------------------------------------<br />[compute-3-17.local][[65376,1],9][btl_openib_component.c:1484:init_one_device] error obtaining device attributes for mthca0 errno says Resource temporarily unavailable[compute-3-31.local:31694] 1 more process has sent help message help-mpi-btl-openib.txt / error in device init<br />[compute-3-31.local:31694] Set MCA parameter &quot;orte_base_help_aggregate&quot; to 0 to see all help / error messages<br /><br />[compute-3-17.local][[65376,1],10][btl_openib_component.c:1484:init_one_device] error obtaining device attributes for mthca0 errno says Resource temporarily unavailable<br />[compute-3-31.local:31694] 1 more process has sent help message help-mpi-btl-openib.txt / error in device init<br />[compute-3-17.local][[65376,1],11][btl_openib_component.c:1484:init_one_device] error obtaining device attributes for mthca0 errno says Resource temporarily unavailable<br />[compute-3-31.local:31694] 1 more process has sent help message help-mpi-btl-openib.txt / error in device init<br />[compute-3-17.local][[65376,1],12][btl_openib_component.c:1484:init_one_device] error obtaining device attributes for mthca0 errno says Resource temporarily unavailable<br />[compute-3-31.local:31694] 1 more process has sent help message help-mpi-btl-openib.txt / error in device init<br />[compute-3-17.local][[65376,1],13][btl_openib_component.c:1484:init_one_device] error obtaining device attributes for mthca0 errno says Resource temporarily unavailable<br />[compute-3-31.local:31694] 1 more process has sent help message help-mpi-btl-openib.txt / error in device init<br />[compute-3-17.local][[65376,1],14][btl_openib_component.c:1484:init_one_device] error obtaining device attributes for mthca0 errno says Resource temporarily unavailable<br />[compute-3-31.local:31694] 1 more process has sent help message help-mpi-btl-openib.txt / error in device init<br />[compute-3-17.local][[65376,1],15][btl_openib_component.c:1484:init_one_device] error obtaining device attributes for mthca0 errno says Resource temporarily unavailable<br />[compute-3-31.local:31694] 1 more process has sent help message help-mpi-btl-openib.txt / error in device init<br />--------------------------------------------------------------------------<br />MPI_ABORT was invoked on rank 0 in communicator MPI_COMM_WORLD <br />with errorcode 14.<br /><br />NOTE: invoking MPI_ABORT causes Open MPI to kill all MPI processes.<br />You may or may not see output from other processes, depending on<br />exactly when Open MPI kills them.<br />--------------------------------------------------------------------------<br />--------------------------------------------------------------------------<br />mpirun has exited due to process rank 0 with PID 31697 on<br /><span style="font-size: 150%; line-height: 116%;"><br />The error in output file is as bellow</span><br /><br />***********************************************************<br /><br />node compute-3-31.local exiting without calling &quot;finalize&quot;. This may-catch_rsh /opt/gridengine/default/spool/compute-3-31/active_jobs/45664.1/pe_hostfile<br />compute-3-31<br />compute-3-31<br />compute-3-31<br />compute-3-31<br />compute-3-31<br />compute-3-31<br />compute-3-31<br />compute-3-31<br />compute-3-17<br />compute-3-17<br />compute-3-17<br />compute-3-17<br />compute-3-17<br />compute-3-17<br />compute-3-17<br />compute-3-17<br />CMA: unable to query RDMA device<br />CMA: unable to query RDMA device<br />CMA: unable to query RDMA device<br />CMA: unable to query RDMA device<br />CMA: unable to query RDMA device<br />CMA: unable to query RDMA device<br />CMA: unable to query RDMA device<br />CMA: unable to query RDMA device<br /> Your architecture is not able to handle 8, 4 or 2-bytes FORTRAN file record markers! <br /> You cannot use ABINIT and MPI/IO.<br />  MPI_ERROR_STRING: MPI_ERR_UNKNOWN: unknown error<br /><br />**************************************************<br /><br />Here with i am also appending the input file<br /><br />***************************************************<br /><span style="font-size: 150%; line-height: 116%;">inputfile</span><br /><br /><br />#**************Crysta:qlline ZrC_GGA_CsCl : computation lattice parameter<br /><br /><br /><br />ndtset 10<br />kptopt 1                     # Option for the automatic generation of k points, taking<br />                             # into account the symmetry<br />nshiftk 4<br />shiftk  0.5 0.5 0.5          # These shifts will be the same for all grids<br />        0.5 0.0 0.0<br />        0.0 0.5 0.0<br />        0.0 0.0 0.5<br />ngkpt   3*6<br />occopt  4<br />tsmear  0.01<br /># *********************<br /><br />Definition cell<br /><br />acell:  3*5.517<br />acell+  3*0.16<br />spgroup 221<br />angdeg  90 90 90<br />brvltt  -1<br />#*************Definition of the atoms<br /><br />ntypat  2         <br />znucl   40 6        <br />natom   2           <br />typat   1 2         <br />xred                              <br />        0.0  0.0  0.0  <br />        1/2  1/2  1/2  <br />ecut    40<br />ecutsm  0.5<br />nstep   100       <br />tolvrs  1.0d-20  <br />ixc     11<br /><br /><br />*****************************************<br /><br /><span style="font-size: 150%; line-height: 116%;">and the out file is as below</span><br /><br />*************-catch_rsh /opt/gridengine/default/spool/compute-3-31/active_jobs/45664.1/pe_hostfile<br />compute-3-31<br />compute-3-31<br />compute-3-31<br />compute-3-31<br />compute-3-31<br />compute-3-31<br />compute-3-31<br />compute-3-31<br />compute-3-17<br />compute-3-17<br />compute-3-17<br />compute-3-17<br />compute-3-17<br />compute-3-17<br />compute-3-17<br />compute-3-17<br />CMA: unable to query RDMA device<br />CMA: unable to query RDMA device<br />CMA: unable to query RDMA device<br />CMA: unable to query RDMA device<br />CMA: unable to query RDMA device<br />CMA: unable to query RDMA device<br />CMA: unable to query RDMA device<br />CMA: unable to query RDMA device<br /> Your architecture is not able to handle 8, 4 or 2-bytes FORTRAN file record markers! <br /> You cannot use ABINIT and MPI/IO.<br />  MPI_ERROR_STRING: MPI_ERR_UNKNOWN: unknown error<br /><br />****************************************************************************<br /><br />Please suggest me more<br /><br />WIth Kind Regards<br /><br />Sanjay D Gupta<br /><br />outfile</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: error while running the code</h3>
				<div class="date">Posted: <strong>Thu Apr 26, 2012 9:26 am</strong></div>
				<div class="author">by <strong>guptasanjay.85</strong></div>
				<div class="content">Respected Sir,<br />Greeting !!!<br />We have sort out the problem<br />We are running the executables from external hard disk  mounted on HPC cluster  and abinit not running from there.<br />While the abinit running well from the home directory.However we need to run compulsory abinit from the mounted external hard disk due to lack of space on home directory allotted (5GB) only.<br /><br />Please suggest me more..<br /><br />WIth Kind Regards<br /><br />Sanjay D Gupta</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=10&t=1628&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Sep 2024 23:03:54 GMT -->
</html>
