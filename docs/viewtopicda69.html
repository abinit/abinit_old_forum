<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=3&t=3322&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 02:32:44 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; Problem with number of nodes during mpirun</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>Problem with number of nodes during mpirun</h2>
		<p><a href="viewtopic43f2.html?f=3&amp;t=3322">https://forum.abinit.org/viewtopic.php?f=3&amp;t=3322</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>Problem with number of nodes during mpirun</h3>
				<div class="date">Posted: <strong>Tue Jul 12, 2016 9:37 am</strong></div>
				<div class="author">by <strong>hot_sauce83</strong></div>
				<div class="content">Dear all,<br /><br />I have managed to successfully install OpenMPI-1.10.3 and Abinit-8.0.8 over my 5 node cluster. I then proceeded to run a job with this command<br /><br />mpirun -np 2 -machinefile cluster abinit &lt; t4x.files<br /><br />In the file cluster I have the IP addresses given as such but with the last three commented out<br /><br />node1<br />node2<br />#node3<br />#node4<br />#node5<br /><br />It proceeds to run the job as given in my input file. If I change it to this command<br /><br />mpirun -np 3 -machinefile cluster abinit &lt; t4x.files<br /><br />In the file cluster I have the IP addresses given as such but with the last two commented out<br /><br />node1<br />node2<br />node3<br />#node4<br />#node5<br /><br />I get<br /><br />Permission denied, please try again.<br />Permission denied, please try again.<br />Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).<br />--------------------------------------------------------------------------<br />ORTE was unable to reliably start one or more daemons.<br />This usually is caused by:<br /><br />* not finding the required libraries and/or binaries on<br />  one or more nodes. Please check your PATH and LD_LIBRARY_PATH<br />  settings, or configure OMPI with --enable-orterun-prefix-by-default<br /><br />* lack of authority to execute on one or more specified nodes.<br />  Please verify your allocation and authorities.<br /><br />* the inability to write startup files into /tmp (--tmpdir/orte_tmpdir_base).<br />  Please check with your sys admin to determine the correct location to use.<br /><br />*  compilation of the orted with dynamic libraries when static are required<br />  (e.g., on Cray). Please check your configure cmd line and consider using<br />  one of the contrib/platform definitions for your system type.<br /><br />* an inability to create a connection back to mpirun due to a<br />  lack of common network interfaces and/or no route found between<br />  them. Please check network connectivity (including firewalls<br />  and network routing requirements).<br /><br />In the case of -np 2, I can choose any two IP addresses and it will still run a parallel job, but the job does not run when -np 3,4 or 5. <br /><br />I'd appreciate any help provided. Thank you.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Problem with number of nodes during mpirun</h3>
				<div class="date">Posted: <strong>Tue Jul 19, 2016 8:56 am</strong></div>
				<div class="author">by <strong>Jordan</strong></div>
				<div class="content">Hi,<br /><br />Unfortunately this is not an abinit related issue. You should contact your vendor in order to help you set up the MPI configuration.<br /><br />Please, check that all you nodes have correctly the same MPI version installed, that you can ssh to all nodes without typing a password and that all nodes can access the same filesystem.<br />If it works with -np 2, please check that you are not running on only one node which of course must work.<br /><br />Cheers</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=3&t=3322&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 02:32:44 GMT -->
</html>
