<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=3&t=880&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 02:40:45 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; [SOLVED] ABINIT PARALLEL ON CENTOS</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>[SOLVED] ABINIT PARALLEL ON CENTOS</h2>
		<p><a href="viewtopic89ee.html?f=3&amp;t=880">https://forum.abinit.org/viewtopic.php?f=3&amp;t=880</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>[SOLVED] ABINIT PARALLEL ON CENTOS</h3>
				<div class="date">Posted: <strong>Mon Feb 07, 2011 5:35 pm</strong></div>
				<div class="author">by <strong>CarmineAutieri</strong></div>
				<div class="content">Dear All,<br /><br />I am trying to install abinit on Centos 5.5 machine.<br />I used:<br /><br />source /usr/local/intel/current/bin/ifortvars.sh intel64<br />export FC=mpif90<br />export CC=mpicc<br />./configure --enable-mpi=&quot;yes&quot; --enable-64bit-flags=&quot;yes&quot;<br />make<br /><br />I had this only Warning<br />configure: WARNING: MPI runner mpirun may be incompatible with MPI compilers<br /><br />At the end ABINIT doesn't work in parallel mode, but it works in serial mode. All tests are OK in serial mode.<br />How can I do to install ABINIT in parallel mode??<br /><br /><br /><br /><br />.Version 6.4.3  of ABINIT<br />.(sequential version, prepared for a x86_64_linux_intel11.1 computer)<br /><br /><br />=== Build Information ===<br />  Version       : 6.4.3<br />  Build target  : x86_64_linux_intel11.1<br />  Build date    : 20110207<br /><br /> === Compiler Suite ===<br />  C compiler       : intel11.1<br />  CFLAGS           :  -g -O2 -vec-report0<br />  C++ compiler     : gnu4.1<br />  CXXFLAGS         : -m64 -g -O2<br />  Fortran compiler : intel11.1<br />  FCFLAGS          :  -g -extend-source -vec-report0 -noaltparam -nofpscomp<br />  FC_LDFLAGS       :    -static-intel -static-libgcc<br /><br /> === Optimizations ===<br />  Debug level        : basic<br />  Optimization level : standard<br />  Architecture       : intel_core2<br /><br /> === MPI ===<br />  Parallel build : yes<br />  Parallel I/O   : yes<br /><br /> === Linear algebra ===<br />  Library flavor : @linalg_flavor@<br />  Use ScaLAPACK  : no<br /><br /> === Plug-ins ===<br />  BigDFT    : yes<br />  ETSF I/O  : yes<br />  LibXC     : yes<br />  FoX       : no<br />  NetCDF    : yes<br />  Wannier90 : yes<br /><br /> === Experimental features ===<br />  Bindings            : no<br />  Exports             : no<br />  GW double-precision : no<br />  Macroave build      : yes<br /><br /> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<br /><br /><br /> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<br /> Default optimizations:<br />   -O3 -xHost<br /><br /><br /> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<br /><br /><br /> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<br /> CPP options activated during the build:<br /><br />                  CC_INTEL                   CXX_GNU                  FC_INTEL<br /><br />               HAVE_BIGDFT              HAVE_ETSF_IO              HAVE_FC_EXIT<br /><br />     HAVE_FC_ISO_C_BINDING              HAVE_FC_NULL                HAVE_LIBXC<br /><br />               HAVE_NETCDF             HAVE_OS_LINUX              HAVE_STDIO_H<br /><br />            HAVE_WANNIER90              USE_MACROAVE<br /> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<br /><br /><br /><br /><br /><br />Thanks<br />Carmine</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: ABINIT PARALLEL ON CENTOS</h3>
				<div class="date">Posted: <strong>Mon Feb 07, 2011 6:47 pm</strong></div>
				<div class="author">by <strong>jbeuken</strong></div>
				<div class="content">Hi,<br /><blockquote class="uncited"><div>source /usr/local/intel/current/bin/ifortvars.sh intel64<br />export FC=mpif90<br />export CC=mpicc<br />./configure --enable-mpi=&quot;yes&quot; --enable-64bit-flags=&quot;yes&quot;<br />make</div></blockquote><br />where is the MPI distribution ?   <br />what is the result of <br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>which mpif90<br />echo $PATH</code></pre></div><br />if  the first cmd gives a path  ( /the/path ), use it in the cmd :<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>source /usr/local/intel/current/bin/ifortvars.sh intel64<br />/configure --enable-mpi=&quot;yes&quot; --with-mpi-prefix=&quot;/the/path&quot; --enable-64bit-flags=&quot;yes&quot;</code></pre></div><br /><br />regards<br /><br />jmb</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: ABINIT PARALLEL ON CENTOS</h3>
				<div class="date">Posted: <strong>Tue Feb 08, 2011 4:25 pm</strong></div>
				<div class="author">by <strong>CarmineAutieri</strong></div>
				<div class="content">Thank you for the reply.<br />I used the option<br /><br />source /usr/local/intel/current/bin/ifortvars.sh intel64<br />./configure --enable-mpi=&quot;yes&quot; --with-mpi-prefix=&quot;/usr/local/mpi/bin&quot; --enable-64bit-flags=&quot;yes&quot;<br /><br />but I have a bigger problem, because I dont'have gcc 4.2. and I found the usual error that I saw in other post of this forum.<br />I used the option: <br /><br />source /usr/local/intel/current/bin/ifortvars.sh intel64<br />export FC=mpif90<br />export CC=mpicc<br />./configure --enable-mpi=&quot;yes&quot; --enable-64bit-flags=&quot;yes&quot;<br />make<br /><br />to avoid the problem of the lack of gcc 4.2.<br />How can I solve?<br /><br />Thanks in advance<br />Carmine</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: ABINIT PARALLEL ON CENTOS</h3>
				<div class="date">Posted: <strong>Tue Feb 08, 2011 6:53 pm</strong></div>
				<div class="author">by <strong>pouillon</strong></div>
				<div class="content">The correct MPI option is:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>--with-mpi-prefix=&quot;/usr/local/mpi&quot;<br /></code></pre></div><br />You should indeed see in the output of configure that it is not able to find MPI.<br /><br />Having a look at ~abinit/doc/config/build-config.ac would be a good idea too.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: ABINIT PARALLEL ON CENTOS</h3>
				<div class="date">Posted: <strong>Mon Feb 28, 2011 3:59 pm</strong></div>
				<div class="author">by <strong>CarmineAutieri</strong></div>
				<div class="content">Thanks<br /><br />Carmine</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=3&t=880&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 02:40:45 GMT -->
</html>
