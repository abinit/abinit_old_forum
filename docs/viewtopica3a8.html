<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=3177&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 01:21:24 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; Ecut Convergence and Parallelism</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>Ecut Convergence and Parallelism</h2>
		<p><a href="viewtopic5d52.html?f=9&amp;t=3177">https://forum.abinit.org/viewtopic.php?f=9&amp;t=3177</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>Ecut Convergence and Parallelism</h3>
				<div class="date">Posted: <strong>Wed Jan 13, 2016 6:01 pm</strong></div>
				<div class="author">by <strong>Patrick</strong></div>
				<div class="content">Hi All, <br /><br />I am attempting to perform ecut convergence tests for a system at finite temperature requiring a (relatively) large number of bands. I've noticed that when I go to run the code in parallel I find error messages of the form:<br /><br />--- !WARNING<br />message: |<br />    Number of bands mband 1024 &gt; number of planewaves mpw = 218<br />    The number of eigenvectors cannot be greater that the size of the Hamiltonian!<br />    Action: decrease nband or, alternatively, increase ecut<br />src_file: gstate.F90<br />src_line: 404<br />...<br /><br />The value for mband agrees with the nband in my input file, however mpw given here does not seem to agree with my ecut  (115 Hartrees ~ 10^4 plane waves for my box size).  I've noticed that when running with fewer cores this mpw value goes up to the point that this warning disappears. I've read the 'Large-scale ab initio calculations based on three levels of parallelisation' by F. Bottin et al as recommended by the Abinit documentation, but am still confused as to how mpw is calculated and its relation to ecut. <br /><br />Most importantly, given that I do not encounter this warning for fewer cores, is it therefore the case that I might have a lower ecut (or even a faster calculation) when running on fewer cores?<br /><br />Many Thanks,<br />Patrick</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Ecut Convergence and Parallelism&nbsp;&nbsp;<span style="color: #006600">[SOLVED]</span></h3>
				<div class="date">Posted: <strong>Wed Jan 13, 2016 7:21 pm</strong></div>
				<div class="author">by <strong>gmatteo</strong></div>
				<div class="content">The test on the number of bands was not implemented correctly when paral_kgb == 1.<br />You can ignore the warning reported in the log file.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Ecut Convergence and Parallelism</h3>
				<div class="date">Posted: <strong>Thu Jan 28, 2016 1:17 pm</strong></div>
				<div class="author">by <strong>Patrick</strong></div>
				<div class="content">Ok, many thanks gmatteo!</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=3177&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 01:21:24 GMT -->
</html>
