<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=3971&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 00:09:41 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; Reduce memory demand in rf</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>Reduce memory demand in rf</h2>
		<p><a href="viewtopicc5c7.html?f=9&amp;t=3971">https://forum.abinit.org/viewtopic.php?f=9&amp;t=3971</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>Reduce memory demand in rf</h3>
				<div class="date">Posted: <strong>Wed Nov 21, 2018 11:03 am</strong></div>
				<div class="author">by <strong>roginovicci</strong></div>
				<div class="content">Hi,<br />To perform optical calculations one needs to perform ddk response function calculations ( rfelfd &gt; 0 ) using a big set of empty bands ( nband &gt; 300), which leads to huge amount of memory demand. For crystal with tetragonal symmetry and 10 atoms in unit cell the required memory (RAM) is more than 250Gb.  The amount of memory is independed if I use 12 or 6 or 1 processors  for calculations. Is there any possibility to reduce memory demand (except using lowes number of unocc. bands - nband)?<br /><br />Many thx in advance.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Reduce memory demand in rf</h3>
				<div class="date">Posted: <strong>Tue Nov 27, 2018 9:53 pm</strong></div>
				<div class="author">by <strong>ebousquet</strong></div>
				<div class="content">Dear roginovicci,<br />How much ecut and k-point grid did you use, because the number of bands and atoms is indeed not super large?<br />Best wishes,<br />Eric</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Reduce memory demand in rf</h3>
				<div class="date">Posted: <strong>Thu Nov 29, 2018 6:52 am</strong></div>
				<div class="author">by <strong>roginovicci</strong></div>
				<div class="content">Dear Eric,<br />The nonlinear optical calculations by &quot;optic&quot; utility (SHG) require rather hi k-mesh and ecut to converge (which is also explained in tutorial <!-- m --><a class="postlink" href="https://docs.abinit.org/tutorial/optic/index.html">https://docs.abinit.org/tutorial/optic/index.html</a><!-- m -->). I've found the convergence by ecut is 30Ha and k-mesh is 12x12x8 for my system. I know that the optical properties calculation (in different codes) demand a lot of memory, so I'd like to know how to reduce it in case response function ddk calculations (rfelfd=2), maybe this would be fair to use kptopt=2 instead of 3 since calculations of derivative in Gamma point (qpt = 0 0 0)?<br /><br />Thank you for interest to my problem,<br /> Eugene</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Reduce memory demand in rf</h3>
				<div class="date">Posted: <strong>Wed Dec 05, 2018 10:11 am</strong></div>
				<div class="author">by <strong>ebousquet</strong></div>
				<div class="content">Dear Eugene,<br />You can indeed put kptopt=2 for the ddk and E-field at Gamma point, you will save half of the k-point number and thus the memory. Beside that, nothing can be done at the moment, there is a project running to find a way to reduce the memory consumption of DFPT but it is under way...<br />Best wishes,<br />Eric</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=3971&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 00:09:41 GMT -->
</html>
