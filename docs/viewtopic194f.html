<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=3&t=14&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Sep 2024 19:02:01 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; Introduction of debug levels</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>Introduction of debug levels</h2>
		<p><a href="viewtopic35b6.html?f=3&amp;t=14">https://forum.abinit.org/viewtopic.php?f=3&amp;t=14</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>Introduction of debug levels</h3>
				<div class="date">Posted: <strong>Thu Dec 03, 2009 6:19 pm</strong></div>
				<div class="author">by <strong>pouillon</strong></div>
				<div class="content">Dear Developers,<br /><br />In order to facilitate the debugging of new developments, Matthieu and I are proposing to have different debug levels in the build system, controlled by --enable-debug:<br /><br /><ul>  <li>no: debugging fully disabled;</li>  <li>yes: debug symbols are provided;</li>  <li>enhanced: more sensible warnings are enabled;</li>  <li>paranoid: array bound checks, et c.</li></ul><br />Matthieu proposes that debug flags be incremental, i.e. a specific level receives all flags from the previous ones plus a few more.<br /><br />Do not hesitate to provide comments and suggestions. If I receive no strong opposition in the coming weeks, I will consider this proposal as a specification and implement it.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Introduction of debug levels</h3>
				<div class="date">Posted: <strong>Fri Dec 04, 2009 11:17 am</strong></div>
				<div class="author">by <strong>torrent</strong></div>
				<div class="content">This idea sounds good (isn't it already partly implemented ?).<br /><br />The question is now: which level choose as default ?<br />yes= is the current level;<br />it is useful to quickly find source of problems without recompiling, but the size of the excecutable increases;<br />and what about the performances (I have no idea) ?<br /><br />Marc</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Introduction of debug levels</h3>
				<div class="date">Posted: <strong>Fri Dec 04, 2009 9:47 pm</strong></div>
				<div class="author">by <strong>gmatteo</strong></div>
				<div class="content">Fine with me.<br /><br />I have no idea about the effect of -g on the performance.<br />I usually keep the -g option, but it's normal as I have to<br />fix the zillion of bugs I usually introduce in the code <img class="smilies" src="images/smilies/icon_e_wink.gif" alt=";-)" title="Wink" /><br /><br />On the other hand, it's worth considering the possibility of using &quot;no&quot; as default<br />if we find that removing -g leads to some speed-up either at the level of the compilation or at run-time, <br /><br />A question maybe a bit off-topic. It is really useful <br />to use -g by default even at high level of optimization in which <br />the compiler is allowed to perform deep changes in the <br />structure of the loops?<br />I would never trust the output of a debugger when the executable has been generated with -O3!</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Introduction of debug levels</h3>
				<div class="date">Posted: <strong>Wed Dec 09, 2009 10:47 pm</strong></div>
				<div class="author">by <strong>pouillon</strong></div>
				<div class="content">Debugging symbols do not affect the performance of the code, nor its memory footprint, as they are not loaded in normal runs. They only impact the size of the binary.<br /><br />However, it is true that the more you optimize, the less using debugging symbols is relevant. In practice, it nevertheless provides interesting information in most cases. Quoting the GCC manual:<br /><blockquote class="uncited"><div>GCC allows you to use -g with -O. The shortcuts taken by optimized code may occasionally produce surprising results: some variables you declared may not exist at all; flow of control may briefly move where you did not expect it; some statements may not be executed because they compute constant results or their values were already at hand; some statements may execute in different places because they were moved out of loops. Nevertheless it proves possible to debug optimized output. This makes it reasonable to use the optimizer for programs that might have bugs. <br /></div></blockquote><br /><br />Some people even think that it is stupid to strip executables. Personally I always use debugging symbols.</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=3&t=14&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Sep 2024 19:02:01 GMT -->
</html>
