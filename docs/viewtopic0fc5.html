<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=10&t=1755&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 03:15:26 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; Error during the elastic constants calculation</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>Error during the elastic constants calculation</h2>
		<p><a href="viewtopic61d8.html?f=10&amp;t=1755">https://forum.abinit.org/viewtopic.php?f=10&amp;t=1755</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>Error during the elastic constants calculation</h3>
				<div class="date">Posted: <strong>Mon Jul 16, 2012 9:57 am</strong></div>
				<div class="author">by <strong>ilukacevic</strong></div>
				<div class="content">Dear all,<br /><br />I'm trying to calculate the elastic constant via rf. The calculation converges nicely in the 1st and 2nd dataset, and even in the 3rd dataset it goes through the first few perturbations, and then it stops with the following messages:<br /><br /><br />Perturbation wavevector (in red.coord.)   0.000000  0.000000  0.000000<br /> Perturbation : displacement of atom   2   along direction   3<br />  loper3 2 nkpt           8<br /> insy3 : found     2 symmetries that leave the perturbation invariant :<br />   1   0   0   0   1   0   0   0   1<br />   0   1   0   1   0   0   0   0   1<br /> symatm: atom number     1 is reached starting at atom<br />   1  1<br /> symatm: atom number     2 is reached starting at atom<br />   2  2<br /> symatm: atom number     3 is reached starting at atom<br />   3  3<br /> symatm: atom number     4 is reached starting at atom<br />   4  4<br /> symatm: atom number     5 is reached starting at atom<br />   5  6<br /> symatm: atom number     6 is reached starting at atom<br />   6  5<br /> symkpt : found identity, with number  1<br /> symkpt : the number of k-points, thanks to the symmetries,<br /> is reduced to     6 .<br />  1)   2.50000000E-01  2.50000000E-01  1.25000000E-01<br />  2)  -2.50000000E-01  2.50000000E-01  1.25000000E-01<br />  3)  -2.50000000E-01 -2.50000000E-01  1.25000000E-01<br />0 - MPI_GROUP_INCL : Invalid rank in array: ranks[0] = 8 not between 0 and 8<br />[0] [] Aborting Program!<br />3 - MPI_GROUP_INCL : Invalid rank in array: ranks[0] = 8 not between 0 and 8<br />5 - MPI_GROUP_INCL : Invalid rank in array: ranks[0] = 8 not between 0 and 8<br />[3] [] Aborting Program!<br />2 - MPI_GROUP_INCL : Invalid rank in array: ranks[0] = 8 not between 0 and 8<br />6 - MPI_GROUP_INCL : Invalid rank in array: ranks[0] = 8 not between 0 and 8<br />[2] [] Aborting Program!<br />1 - MPI_GROUP_INCL : Invalid rank in array: ranks[0] = 8 not between 0 and 8<br />[6] [] Aborting Program!<br />4 - MPI_GROUP_INCL : Invalid rank in array: ranks[0] = 8 not between 0 and 8<br />[1] [] Aborting Program!<br />7 - MPI_GROUP_INCL : Invalid rank in array: ranks[0] = 8 not between 0 and 8<br />[4] [] Aborting Program!<br />[5] [] Aborting Program!<br />[7] [] Aborting Program!<br />Abort signaled by rank 3:  Aborting program !<br />Exit code -3 signaled from node002.srce.cro-ngi.hr<br />Killing remote processes...forrtl: error (69): process interrupted (SIGINT)<br />Image              PC                Routine            Line        Source<br />ld-linux-x86-64.s  00002B7BCF10C741  Unknown               Unknown  Unknown<br />libc.so.6          00002B7BD129C3A5  Unknown               Unknown  Unknown<br />libmpich.so.1.0    00002B7BD00C1E65  Unknown               Unknown  Unknown<br />libmpich.so.1.0    00002B7BD00B7371  Unknown               Unknown  Unknown<br />libmpich.so.1.0    00002B7BD00B6B40  Unknown               Unknown  Unknown<br />libmpich.so.1.0    00002B7BD00B6718  Unknown               Unknown  Unknown<br />libmpich.so.1.0    00002B7BD0093DEC  Unknown               Unknown  Unknown<br />libmpich.so.1.0    00002B7BD0093A18  Unknown               Unknown  Unknown<br />abinit             000000000140D6D8  Unknown               Unknown  Unknown<br />abinit             000000000050414E  Unknown               Unknown  Unknown<br />abinit             0000000000454668  Unknown               Unknown  Unknown<br />abinit             00000000004147A8  Unknown               Unknown  Unknown<br />abinit             000000000040CA8C  Unknown               Unknown  Unknown<br />abinit             000000000040B53C  Unknown               Unknown  Unknown<br />libc.so.6          00002B7BD1286994  Unknown               Unknown  Unknown<br />abinit             000000000040B449  Unknown               Unknown  Unknown<br />  4)   2.50000000E-01  2.50000000E-01  3.75000000E-01<br />  5)  -2.50000000E-01  2.50000000E-01  3.75000000E-01<br />  6)  -2.50000000E-01 -2.50000000E-01  3.75000000E-01<br /> getmpw: optimal value of mpw=   24098<br />MPI process terminated unexpectedly<br />DONE<br /><br /><br /><br />Has anyone encountered this kind of error before? What does it mean, i.e. is it something connected to the code or the cluster (I can send compilation infos if needed)? How could I solve it?<br /><br />Thank you in advance!<br /><br />Yours,<br /><br />Igor Lukacevic</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Error during the elastic constants calculation</h3>
				<div class="date">Posted: <strong>Mon Jul 16, 2012 12:53 pm</strong></div>
				<div class="author">by <strong>jzwanzig</strong></div>
				<div class="content">Can you post your input file? Or if you prefer send it to me privately?</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Error during the elastic constants calculation</h3>
				<div class="date">Posted: <strong>Mon Jul 16, 2012 1:22 pm</strong></div>
				<div class="author">by <strong>ilukacevic</strong></div>
				<div class="content">It's ok. Thanks for the help. Here it is:<br /><br />ndtset   3<br /><br /># Set 1 : Initial self-consistent run<br />  iscf1   7<br />kptopt1   1<br />tolvrs1   1.0d-20  #need excellent convergence of GS quantities for RF runs<br /><br /><br /># Set 2 : Calculate the ddk wf's - needed for piezoelectric tensor and<br /><br />getwfk2  -1<br />  iscf2  -3        #this option is needed for ddk<br />kptopt2   2        #use time-reversal symmetry only for k points<br />  nqpt2   1<br />   qpt2   0 0 0    #need to specify gamma point<br />rfelfd2   2        #set for GS ddk wf's only<br /> rfdir2   1 1 1<br />tolwfr2   1.0d-20  #only wf convergence can be monitored here<br /><br /># Set 3 : response-function calculations for all needed perturbations<br /><br /> getddk3  -1<br /> getwfk3  -2<br />   iscf3   7<br /> kptopt3   2        #use time-reversal symmetry only for k points<br />   nqpt3   1<br />    qpt3   0 0 0<br /> rfphon3   1        #do atomic displacement perturbation<br />rfatpol3   1 6<br /> rfstrs3   3        #do strain perturbation<br />  rfdir3   1 1 1<br /> tolvrs3   1.0d-14  #need reasonable convergence of 1st-order quantities<br /><br /># Common input data<br /># pressure around 0 GPa<br /># acell...taken from exp.<br /><br />  acell    2*8.48 5.67<br /><br /># xred...taken from exp.<br />   xred    0.00   0.00  0.00<br />           0.304  0.304 0.00<br />          -0.304 -0.304 0.00<br /># Space group info<br /> angdeg   90 90 90<br />spgroup   136<br /> brvltt  -1<br /><br /># Definition of the atom types and atoms<br /> ntypat   2<br />  znucl   12 1 1<br />  natom   6<br />  natrd   3<br />  typat   1 2 2<br /><br />#Gives the number of bands, explicitely (do not take the default)<br />  nband   10<br /> occopt   1<br /><br />#Definition of the plane wave basis set<br />   ecut   80<br /> ecutsm   0.5<br />dilatmx   1.2<br /><br />#Definition of the k-point grid<br /> kptopt   1<br />  ngkpt   2 2 4<br />nshiftk   1<br /> shiftk   0.5  0.5  0.5<br /><br />#Definition of the self-consistency procedure<br />  diemac  9.0<br />    iscf  7              # Use Pulay mixing sheme for SCF cycle<br />#npulayit  7              # Number of Pulay iterations<br />#  nnsclo  2              # Number of non-self consistent loops<br />#   nline  6              # Number of line minimisations<br />   nstep  100<br /><br />#Definiton of the xc approximation<br />     ixc  11<br /><br />#Timing options<br />  timopt  2</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=10&t=1755&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 03:15:26 GMT -->
</html>
