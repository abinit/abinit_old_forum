<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=3&t=1010&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 02:14:25 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; [RESOLVED] install 6.6.x failed due to LINALG</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>[RESOLVED] install 6.6.x failed due to LINALG</h2>
		<p><a href="viewtopic1daf.html?f=3&amp;t=1010">https://forum.abinit.org/viewtopic.php?f=3&amp;t=1010</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>[RESOLVED] install 6.6.x failed due to LINALG</h3>
				<div class="date">Posted: <strong>Wed Apr 06, 2011 12:35 am</strong></div>
				<div class="author">by <strong>mmikami</strong></div>
				<div class="content">Dear all,<br /><br />I tried to install 6.6.x (x=1,2), by the following configuration (*): <br />mkdir tmp-serial &amp;&amp; cd tmp-serial &amp;&amp; ../configure FC='ifort' CFLAGS=' -g -O3 -funroll-loops -ffast-math  ' --disable-mpi --program-suffix=&quot;-serial&quot; --prefix=&quot;$HOME/hpc&quot;  &amp;&amp; make &amp;&amp; cd src/98_main &amp;&amp; make install <br /><br />but the configuration was unsuccessful with the following message:<br /><br />(snip)<br /> ==============================================================================<br /> === Connectors / Fallbacks                                                 ===<br /> ==============================================================================<br /><br />checking whether MPI is usable... no<br />checking whether to build MPI code... no<br />checking whether to activate GPU support... no<br />checking for the requested transferable I/O support... etsf_io<br />checking netcdf.h usability... no<br />checking netcdf.h presence... no<br />checking for netcdf.h... no<br />checking for library containing nc_open... no<br />checking for Fortran module includes... unknown<br />configure: WARNING: falling back to internal netcdf version<br />configure: WARNING: ETSF_IO requires missing NetCDF support<br />configure: WARNING: falling back to internal etsf_io version<br />checking for the actual transferable I/O support... netcdf-fallback+etsf_io-fallback<br />checking for the requested timer support... abinit<br />checking for the actual timer support... abinit<br />checking for the requested linear algebra support... netlib<br />checking for library containing blas... no<br />checking for library containing lapack... no<br />configure: WARNING: falling back to internal linear algebra libraries<br />checking for the actual linear algebra support... netlib-fallback<br />checking for the requested math support... none<br />checking for the actual math support... none<br />checking for the requested FFT support... none<br />checking for the actual FFT support... none<br />checking for the requested DFT support... atompaw+bigdft+libxc+wannier90<br />checking xc.h usability... no<br />checking xc.h presence... no<br />checking for xc.h... no<br />checking xc_funcs.h usability... no<br />checking xc_funcs.h presence... no<br />checking for xc_funcs.h... no<br />checking for library containing xc_func_init... no<br />checking for Fortran module includes... unknown (cached)<br />configure: WARNING: falling back to internal libxc version<br />configure: WARNING: AtomPAW requires missing LibXC support<br />configure: WARNING: falling back to internal atompaw version<br />configure: WARNING: BigDFT requires missing LibXC support<br />configure: WARNING: BigDFT requires missing linear algebra support<br />configure: WARNING: falling back to internal bigdft version<br />configure: WARNING: wannier90 requires missing linear algebra support<br />configure: WARNING: falling back to internal wannier90 version<br />checking for the actual DFT support... libxc-fallback+atompaw-fallback+bigdft-fallback+wannier90-fallback<br />configure: using former plugins as a temporary workaround<br />configure: fallbacks to enable =&gt; atompaw bigdft etsf_io libxc linalg netcdf wannier90<br />checking whether to build atompaw... yes<br />checking whether to build bigdft... yes<br />checking whether to build etsf_io... yes<br />checking whether to build fox... no<br />checking whether to build libxc... yes<br />checking whether to build linalg... yes<br />checking whether to build netcdf... yes<br />checking whether to build wannier90... yes<br />configure: using tarball repository /home/mmikami/.abinit/tarballs<br />checking for a source tarball of LINALG... no<br />configure: downloading LINALG - this may take a while<br />checking availability of LINALG from URL 1... no<br />configure: WARNING: could not download LINALG fallback tarball<br />configure: error: cannot build Abinit - aborting<br /><br />This situation was not so changed, with the following configuration (added with --with-dft-flavor=&quot;none&quot; --with-trio-flavor=&quot;none&quot; --with-linalg-flavor=&quot;none&quot;):<br />mkdir tmp-serial &amp;&amp; cd tmp-serial &amp;&amp; ../configure FC='ifort' CFLAGS=' -g -O3 -funroll-loops -ffast-math  ' --disable-mpi --program-suffix=&quot;-serial&quot; --prefix=&quot;$HOME/hpc&quot; --with-dft-flavor=&quot;none&quot; --with-trio-flavor=&quot;none&quot; --with-linalg-flavor=&quot;none&quot; &amp;&amp; make &amp;&amp; cd src/98_main &amp;&amp; make install <br /> <br />(snip)<br /> ==============================================================================<br /> === Connectors / Fallbacks                                                 ===<br /> ==============================================================================<br /><br />checking whether MPI is usable... no<br />checking whether to build MPI code... no<br />checking whether to activate GPU support... no<br />checking for the requested transferable I/O support... none<br />checking for the actual transferable I/O support... <br />checking for the requested timer support... abinit<br />checking for the actual timer support... abinit<br />checking for the requested linear algebra support... none<br />configure: WARNING: falling back to internal linear algebra libraries<br />checking for the actual linear algebra support... netlib-fallback<br />checking for the requested math support... none<br />checking for the actual math support... none<br />checking for the requested FFT support... none<br />checking for the actual FFT support... none<br />checking for the requested DFT support... none<br />checking for the actual DFT support... <br />configure: using former plugins as a temporary workaround<br />configure: fallbacks to enable =&gt; linalg<br />checking whether to build atompaw... no<br />checking whether to build bigdft... no<br />checking whether to build etsf_io... no<br />checking whether to build fox... no<br />checking whether to build libxc... no<br />checking whether to build linalg... yes<br />checking whether to build netcdf... no<br />checking whether to build wannier90... no<br />configure: using tarball repository /home/mmikami/.abinit/tarballs<br />checking for a source tarball of LINALG... no<br />configure: downloading LINALG - this may take a while<br />checking availability of LINALG from URL 1... no<br />configure: WARNING: could not download LINALG fallback tarball<br />configure: error: cannot build Abinit - aborting<br /><br />I was wondering why --with-linalg-flavor=&quot;none&quot; was not effective.<br />The computer is not directly linked with the Internet. The configuration (*) was perfect with v.6.4.x for this computer.<br /><br />I would appreciate your suggestions. Thanks!<br />Masayoshi <br /><br />P.S. I will see some of you there next week!</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: install 6.6.x failed due to LINALG</h3>
				<div class="date">Posted: <strong>Wed Apr 06, 2011 10:14 am</strong></div>
				<div class="author">by <strong>Alain_Jacques</strong></div>
				<div class="content">Hello Masayoshi,<br /><br />Glad to have news from you.<br /><br />From your configure logs ... <blockquote class="uncited"><div>checking for library containing blas... no<br />checking for library containing lapack... no<br />configure: WARNING: falling back to internal linear algebra libraries<br />checking for the actual linear algebra support... netlib-fallback</div></blockquote><br /><br />So configure tries to download the linalg plugin from Abinit home site ... and fails because you're not connected. And adding --with-linalg-flavor=none won't solve the problem: it forces to use the internal linalg that has to be downloaded.<br /><br />You have several options. I see that you have ifort; it comes with MKL that's a very efficient LAPACK implementation. An other workaround would be to manually download (all) the plugins from <a href="http://www.abinit.org/downloads/plug-in-sources" class="postlink">http://www.abinit.org/downloads/plug-in-sources</a> - at least <a href="http://archives.abinit.org/plugins/lapack-abinit_6.0.tar.gz" class="postlink">http://archives.abinit.org/plugins/lapack-abinit_6.0.tar.gz</a> - and manage to copy the tar.gz files on your system in the ~/.abinit/tarballs/ directory.<br />If you need assistance on how to enable MKL, tell me the (ifort) version you're using.<br /><br />Kind regards,<br /><br />Alain</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: install 6.6.x failed due to LINALG</h3>
				<div class="date">Posted: <strong>Wed Apr 06, 2011 1:04 pm</strong></div>
				<div class="author">by <strong>pouillon</strong></div>
				<div class="content">In the meantime, one simple thing you can do is to copy the tarball which is still in prereqs/linalg/ to ~/.abinit/tarballs/.</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=3&t=1010&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 02:14:25 GMT -->
</html>
