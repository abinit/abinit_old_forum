<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=3&t=2377&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 03:39:31 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; cant build abinit 7.4.3+openmpi</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>cant build abinit 7.4.3+openmpi</h2>
		<p><a href="viewtopic0bef-3.html?f=3&amp;t=2377">https://forum.abinit.org/viewtopic.php?f=3&amp;t=2377</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>cant build abinit 7.4.3+openmpi</h3>
				<div class="date">Posted: <strong>Sun Jan 05, 2014 8:14 am</strong></div>
				<div class="author">by <strong>zwe32</strong></div>
				<div class="content">Dear users, could you please hint me what could be a solution for the following problem.<br />my OS Opensuse 13.1 (32 bit)<br />Configure - no problems:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>export LD_LIBRARY_PATH=/usr/lib/mpi/gcc/openmpi/lib:$LD_LIBRARY_PATH<br />./configure --enable-mpi --with-mpi-level=2 --enable-mpi-io --with-mpi-prefix=&quot;/usr/lib/mpi/gcc/openmpi&quot; \<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;--with-dft-flavor=libxc+atompaw+bigdft+wannier90 \<br />&nbsp; &nbsp;&nbsp; &nbsp;--with-trio-flavor=netcdf+etsf_io<br /></code></pre></div><br />make stops with the following message:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>make&#91;3&#93;: Entering directory `/home/zwe/rpmbuild/BUILD/abinit-7.4.3/src/12_hide_mpi'<br />/usr/lib/mpi/gcc/openmpi/bin/mpif90 -DHAVE_CONFIG_H -I. -I../.. -I../../src/incs -I../../src/incs -I/home/zwe/rpmbuild/BUILD/abinit-7.4.3/fallbacks/exports/include&nbsp; &nbsp;-ffree-form -J/home/zwe/rpmbuild/BUILD/abinit-7.4.3/src/mods&nbsp; -O2 -mtune=native -march=native -g -ffree-line-length-none&nbsp; &nbsp;-c -o m_xmpi.o m_xmpi.F90<br />xexch_mpi.F90:579.91:<br />&nbsp; &nbsp; Included at m_xmpi.F90:2172:<br /><br />(vrecv,n1*n2*n3*n4*n5,MPI_DOUBLE_PRECISION,sender,tag,spaceComm,statux,ier)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1<br />Error: There is no specific subroutine for the generic 'mpi_recv' at (1)<br />xexch_mpi.F90:582.85:<br />&nbsp; &nbsp; Included at m_xmpi.F90:2172:<br /><br />I_SEND(vsend,n1*n2*n3*n4*n5,MPI_DOUBLE_PRECISION,recever,tag,spaceComm,ier)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1<br />Error: There is no specific subroutine for the generic 'mpi_send' at (1)<br />make&#91;3&#93;: *** &#91;m_xmpi.o&#93; Error 1<br />make&#91;3&#93;: Leaving directory `/home/zwe/rpmbuild/BUILD/abinit-7.4.3/src/12_hide_mpi'<br />make&#91;2&#93;: *** &#91;all-recursive&#93; Error 1<br />make&#91;2&#93;: Leaving directory `/home/zwe/rpmbuild/BUILD/abinit-7.4.3/src'<br />make&#91;1&#93;: *** &#91;all-recursive&#93; Error 1<br />make&#91;1&#93;: Leaving directory `/home/zwe/rpmbuild/BUILD/abinit-7.4.3'<br />make: *** &#91;all&#93; Error 2<br /></code></pre></div><br />There was a message with a similar problem on this forum: <!-- l --><a class="postlink-local" href="viewtopic2b00.html?f=3&amp;t=224">viewtopic.php?f=3&amp;t=224</a><!-- l --><br />I tried --enable-mpi-io=yes and --enable-mpi-io=no with no changes.<br />The advice given on that page was also:<br /><blockquote class="uncited"><div>Then the problem comes from the MPI implementation you're using. It might be related to the way it has been compiled.<br /><br />You should ask your system administrator.<br /></div></blockquote><br />While I am my system administrator on my laptop, could anyone please clear what could be wrong with the used implementation of openmpi? One can see how it's configured on:<br /><!-- m --><a class="postlink" href="https://build.opensuse.org/package/show?project=openSUSE%3A13.1&amp;package=openmpi">https://build.opensuse.org/package/show ... ge=openmpi</a><!-- m --><br />Thank you in advance.<br />Dmitry.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: cant build abinit 7.4.3+openmpi</h3>
				<div class="date">Posted: <strong>Fri Jan 17, 2014 12:17 pm</strong></div>
				<div class="author">by <strong>pouillon</strong></div>
				<div class="content">There are portability issues with GCC 4.8 in version 7.4.3. Thank you for trying 7.6.1 and letting us know whether everything is fine now.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: cant build abinit 7.4.3+openmpi</h3>
				<div class="date">Posted: <strong>Sat Jan 18, 2014 7:04 pm</strong></div>
				<div class="author">by <strong>zwe32</strong></div>
				<div class="content">Hello Yann. The problem remains for me in 7.6.1:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>Making all in 12_hide_mpi<br />make&#91;3&#93;: Entering directory `/home/zwe/rpmbuild/BUILD/abinit-7.6.1/src/12_hide_mpi'<br />/usr/lib/mpi/gcc/openmpi/bin/mpif90 -DHAVE_CONFIG_H -I. -I../.. -I../../src/incs -I../../src/incs -I/home/zwe/rpmbuild/BUILD/abinit-7.6.1/fallbacks/exports/include&nbsp; &nbsp;-ffree-form -J/home/zwe/rpmbuild/BUILD/abinit-7.6.1/src/mods&nbsp; -O2 -mtune=native -march=native -g -ffree-line-length-none&nbsp; &nbsp;-c -o m_xmpi.o m_xmpi.F90<br />xexch_mpi.F90:572.91:<br />&nbsp; &nbsp; Included at m_xmpi.F90:2176:<br /><br />(vrecv,n1*n2*n3*n4*n5,MPI_DOUBLE_PRECISION,sender,tag,spaceComm,statux,ier)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1<br />Error: There is no specific subroutine for the generic 'mpi_recv' at (1)<br />xexch_mpi.F90:575.85:<br />&nbsp; &nbsp; Included at m_xmpi.F90:2176:<br /><br />I_SEND(vsend,n1*n2*n3*n4*n5,MPI_DOUBLE_PRECISION,recever,tag,spaceComm,ier)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1<br />Error: There is no specific subroutine for the generic 'mpi_send' at (1)<br />make&#91;3&#93;: *** &#91;m_xmpi.o&#93; Error 1<br />make&#91;3&#93;: Leaving directory `/home/zwe/rpmbuild/BUILD/abinit-7.6.1/src/12_hide_mpi'<br />make&#91;2&#93;: *** &#91;all-recursive&#93; Error 1<br />make&#91;2&#93;: Leaving directory `/home/zwe/rpmbuild/BUILD/abinit-7.6.1/src'<br />make&#91;1&#93;: *** &#91;all-recursive&#93; Error 1<br />make&#91;1&#93;: Leaving directory `/home/zwe/rpmbuild/BUILD/abinit-7.6.1'<br />make: *** &#91;all&#93; Error 2<br /></code></pre></div><br />openmpi version:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>&gt;rpm -q openmpi<br />openmpi-1.7.2-2.3.12.i586</code></pre></div><br />I tried to compile the simplest program to test mpi (found somewhere in internet), it works as expected.</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=3&t=2377&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 03:39:31 GMT -->
</html>
