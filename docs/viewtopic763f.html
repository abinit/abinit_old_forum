<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=3&t=3260&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Sep 2024 23:20:16 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; Fail Build Abinit v7.10.5 When Compile parallelLinAlg.f90</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>Fail Build Abinit v7.10.5 When Compile parallelLinAlg.f90</h2>
		<p><a href="viewtopic139d.html?f=3&amp;t=3260">https://forum.abinit.org/viewtopic.php?f=3&amp;t=3260</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>Fail Build Abinit v7.10.5 When Compile parallelLinAlg.f90&nbsp;&nbsp;<span style="color: #006600">[SOLVED]</span></h3>
				<div class="date">Posted: <strong>Mon Apr 11, 2016 9:35 pm</strong></div>
				<div class="author">by <strong>ibnusyuhadap3</strong></div>
				<div class="content">Dear all,<br /><br />I am the first time using Abinit, I always meet error when compile abinit. I use abinit v7.10.5 in ubuntu 15.10. For etsf_io, I use v.1.04-1~exp1.1. Here is the config file<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>&nbsp; &nbsp; prefix=&quot;/usr/local&quot;<br />&nbsp; &nbsp; enable_mpi=&quot;yes&quot;<br />&nbsp; &nbsp; enable_mpi_io=&quot;yes&quot;<br />&nbsp; &nbsp; with_mpi_prefix=&quot;/usr&quot;<br />&nbsp; &nbsp; with_trio_flavor=&quot;netcdf+etsf_io&quot;<br />&nbsp; &nbsp; with_netcdf_incs=&quot;-I/usr/include&quot;<br />&nbsp; &nbsp; with_netcdf_libs=&quot;-L/usr/lib/x86_64-linux-gnu/ -lnetcdf -lnetcdff&quot;<br />&nbsp; &nbsp; with_etsf_io_incs=&quot;-I/usr/include&quot;<br />&nbsp; &nbsp; with_etsf_io_libs=&quot;-L/usr/lib -letsf_io_low_level -letsf_io_utils -letsf_io&quot;<br />&nbsp; &nbsp; with_fft_flavor=&quot;fftw3&quot;<br />&nbsp; &nbsp; with_fft_incs=&quot;-I/usr/include/&quot;<br />&nbsp; &nbsp; with_fft_libs=&quot;-L/usr/lib/x86_64-linux-gnu/ -lfftw3 -lfftw3f&quot;<br />&nbsp; &nbsp; with_linalg_flavor=&quot;atlas&quot;<br />&nbsp; &nbsp; with_linalg_libs=&quot;-L/usr/lib/x86_64-linux-gnu/ -llapack -lf77blas -lcblas -latlas&quot;<br />&nbsp; &nbsp; #with_dft_flavor=&quot;atompaw+libxc&quot;<br />&nbsp; &nbsp; with_dft_flavor=&quot;atompaw+bigdft+libxc+wannier90&quot;<br />&nbsp; &nbsp; enable_gw_dpc=&quot;yes&quot;<br />&nbsp; &nbsp; enable_maintainer_checks=&quot;no&quot;<br />&nbsp; &nbsp; #enable_test_timeout=&quot;yes&quot;<br />&nbsp; &nbsp; #enable_gui_build=&quot;no&quot;<br /></code></pre></div><br /><br />But, when I compile this config, I always got the following error<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>/usr/bin/mpif90 -ffree-form -J/home/ibnusyuhada/Public/abinit-7.10.5/build/src/mods&nbsp; -O2 -mtune=native -march=native -g -ffree-line-length-none&nbsp; &nbsp; -g -ffree-line-length-none&nbsp; &nbsp; &nbsp;-o abinit abinit-abinit.o&nbsp; ../../src/95_drive/lib95_drive.a ../../src/94_scfcv/lib94_scfcv.a ../../src/79_seqpar_mpi/lib79_seqpar_mpi.a ../../src/77_ddb/lib77_ddb.a ../../src/77_suscep/lib77_suscep.a ../../src/72_response/lib72_response.a ../../src/71_bse/lib71_bse.a ../../src/70_gw/lib70_gw.a ../../src/69_wfdesc/lib69_wfdesc.a ../../src/68_dmft/lib68_dmft.a&nbsp; ../../src/68_recursion/lib68_recursion.a ../../src/68_rsprc/lib68_rsprc.a ../../src/67_common/lib67_common.a ../../src/66_paw/lib66_paw.a ../../src/66_wfs/lib66_wfs.a ../../src/66_fock/lib66_fock.a ../../src/65_psp/lib65_psp.a ../../src/65_nonlocal/lib65_nonlocal.a&nbsp; ../../src/64_atompaw/lib64_atompaw.a ../../src/62_occeig/lib62_occeig.a ../../src/62_iowfdenpot/lib62_iowfdenpot.a ../../src/62_wvl_wfs/lib62_wvl_wfs.a ../../src/62_poisson/lib62_poisson.a ../../src/62_cg_noabirule/lib62_cg_noabirule.a ../../src/62_ctqmc/lib62_ctqmc.a ../../src/61_ionetcdf/lib61_ionetcdf.a ../../src/57_iovars/lib57_iovars.a ../../src/57_iopsp_parser/lib57_iopsp_parser.a ../../src/56_recipspace/lib56_recipspace.a ../../src/56_xc/lib56_xc.a ../../src/56_mixing/lib56_mixing.a ../../src/56_io_mpi/lib56_io_mpi.a ../../src/54_abiutil/lib54_abiutil.a ../../src/53_spacepar/lib53_spacepar.a ../../src/53_ffts/lib53_ffts.a&nbsp; ../../src/52_fft_mpi_noabirule/lib52_fft_mpi_noabirule.a ../../src/51_manage_mpi/lib51_manage_mpi.a ../../src/49_gw_toolbox_oop/lib49_gw_toolbox_oop.a ../../src/47_xml/lib47_xml.a ../../src/45_geomoptim/lib45_geomoptim.a ../../src/44_abitypes_defs/lib44_abitypes_defs.a ../../src/43_wvl_wrappers/lib43_wvl_wrappers.a ../../src/43_ptgroups/lib43_ptgroups.a ../../src/42_parser/lib42_parser.a ../../src/42_nlstrain/lib42_nlstrain.a ../../src/42_libpaw/lib42_libpaw.a ../../src/41_xc_lowlevel/lib41_xc_lowlevel.a ../../src/41_geometry/lib41_geometry.a ../../src/32_util/lib32_util.a ../../src/28_numeric_noabirule/lib28_numeric_noabirule.a ../../src/27_toolbox_oop/lib27_toolbox_oop.a ../../src/21_psiesta_noabirule/lib21_psiesta_noabirule.a ../../src/18_timing/lib18_timing.a ../../src/16_hideleave/lib16_hideleave.a&nbsp; ../../src/14_hidewrite/lib14_hidewrite.a ../../src/12_hide_mpi/lib12_hide_mpi.a ../../src/11_qespresso_ext/lib11_qespresso_ext.a ../../src/11_memory_mpi/lib11_memory_mpi.a ../../src/10_dumpinfo/lib10_dumpinfo.a ../../src/10_defs/lib10_defs.a&nbsp; ../../src/01_linalg_ext/lib01_linalg_ext.a&nbsp; -L/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/exports/lib -lwannier90 -L/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/exports/lib -lbigdft-1 -labinit -lyaml -L/usr/lib -letsf_io_low_level -letsf_io_utils -letsf_io -L/usr/lib/x86_64-linux-gnu/ -lnetcdf -lnetcdff -L/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/exports/lib -lxc -L/usr/lib/x86_64-linux-gnu/ -lfftw3 -lfftw3f -L/usr/lib/x86_64-linux-gnu/ -llapack -lf77blas -lcblas -latlas -lrt -L/usr//lib -L/usr/lib/openmpi/lib -L/usr/lib/gcc/x86_64-linux-gnu/5 -L/usr/lib/gcc/x86_64-linux-gnu/5/../../../x86_64-linux-gnu -L/usr/lib/gcc/x86_64-linux-gnu/5/../../../../lib -L/lib/x86_64-linux-gnu -L/lib/../lib -L/usr/lib/x86_64-linux-gnu -L/usr/lib/../lib -L/usr/lib/gcc/x86_64-linux-gnu/5/../../.. -lmpi_f90 -lmpi_f77 -lmpi -ldl -lhwloc -lgfortran -lm -lquadmath -lpthread -L/usr//lib -L/usr/lib/openmpi/lib -L/usr/lib/gcc/x86_64-linux-gnu/5 -L/usr/lib/gcc/x86_64-linux-gnu/5/../../../x86_64-linux-gnu -L/usr/lib/gcc/x86_64-linux-gnu/5/../../../../lib -L/lib/x86_64-linux-gnu -L/lib/../lib -L/usr/lib/x86_64-linux-gnu -L/usr/lib/../lib -L/usr/lib/gcc/x86_64-linux-gnu/5/../../.. -lmpi_f90 -lmpi_f77 -lmpi -ldl -lhwloc -lgfortran -lm -lquadmath -lpthread <br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/exports/lib/libbigdft-1.a(parallelLinAlg.o): In function `dgemm_parallel_':<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:60: undefined reference to `blacs_get_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:61: undefined reference to `blacs_gridinit_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:62: undefined reference to `blacs_gridinfo_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:74: undefined reference to `numroc_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:75: undefined reference to `numroc_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:79: undefined reference to `numroc_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:80: undefined reference to `numroc_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:84: undefined reference to `numroc_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/exports/lib/libbigdft-1.a(parallelLinAlg.o):/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:85: more undefined references to `numroc_' follow<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/exports/lib/libbigdft-1.a(parallelLinAlg.o): In function `dgemm_parallel_':<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:89: undefined reference to `descinit_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:90: undefined reference to `descinit_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:91: undefined reference to `descinit_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:105: undefined reference to `pdelset_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:110: undefined reference to `pdelset_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:117: undefined reference to `pdgemm_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:123: undefined reference to `pdelset2_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:140: undefined reference to `blacs_gridexit_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/exports/lib/libbigdft-1.a(parallelLinAlg.o): In function `dsymm_parallel_':<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:205: undefined reference to `blacs_get_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:206: undefined reference to `blacs_gridinit_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:207: undefined reference to `blacs_gridinfo_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:219: undefined reference to `numroc_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:220: undefined reference to `numroc_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:224: undefined reference to `numroc_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:225: undefined reference to `numroc_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:229: undefined reference to `numroc_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/exports/lib/libbigdft-1.a(parallelLinAlg.o):/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:230: more undefined references to `numroc_' follow<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/exports/lib/libbigdft-1.a(parallelLinAlg.o): In function `dsymm_parallel_':<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:234: undefined reference to `descinit_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:235: undefined reference to `descinit_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:236: undefined reference to `descinit_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:250: undefined reference to `pdelset_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:255: undefined reference to `pdelset_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:262: undefined reference to `pdsymm_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:268: undefined reference to `pdelset2_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:285: undefined reference to `blacs_gridexit_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/exports/lib/libbigdft-1.a(parallelLinAlg.o): In function `dsyev_parallel_':<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:350: undefined reference to `blacs_get_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:351: undefined reference to `blacs_gridinit_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:352: undefined reference to `blacs_gridinfo_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:364: undefined reference to `numroc_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:365: undefined reference to `numroc_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:369: undefined reference to `descinit_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:370: undefined reference to `descinit_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:382: undefined reference to `pdelset_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:407: undefined reference to `pdsyevx_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:428: undefined reference to `pdsyevx_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:438: undefined reference to `pdelset2_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:471: undefined reference to `blacs_gridexit_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/exports/lib/libbigdft-1.a(parallelLinAlg.o): In function `dsygv_parallel_':<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:546: undefined reference to `blacs_get_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:547: undefined reference to `blacs_gridinit_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:548: undefined reference to `blacs_gridinfo_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:561: undefined reference to `numroc_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:562: undefined reference to `numroc_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:566: undefined reference to `descinit_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:567: undefined reference to `descinit_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:568: undefined reference to `descinit_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:582: undefined reference to `pdelset_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:583: undefined reference to `pdelset_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:608: undefined reference to `pdsygvx_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:629: undefined reference to `pdsygvx_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:637: undefined reference to `pdelset2_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:674: undefined reference to `blacs_gridexit_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/exports/lib/libbigdft-1.a(parallelLinAlg.o): In function `dgesv_parallel_':<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:746: undefined reference to `blacs_get_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:747: undefined reference to `blacs_gridinit_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:748: undefined reference to `blacs_gridinfo_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:761: undefined reference to `numroc_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:762: undefined reference to `numroc_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:764: undefined reference to `numroc_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:765: undefined reference to `numroc_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:769: undefined reference to `descinit_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:770: undefined reference to `descinit_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:782: undefined reference to `pdelset_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:787: undefined reference to `pdelset_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:795: undefined reference to `pdgesv_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:806: undefined reference to `pdelset2_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:819: undefined reference to `blacs_gridexit_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/exports/lib/libbigdft-1.a(parallelLinAlg.o): In function `dpotrf_parallel_':<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:878: undefined reference to `blacs_get_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:879: undefined reference to `blacs_gridinit_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:880: undefined reference to `blacs_gridinfo_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:893: undefined reference to `numroc_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:894: undefined reference to `numroc_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:899: undefined reference to `descinit_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:909: undefined reference to `pdelset_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:915: undefined reference to `pdpotrf_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:921: undefined reference to `pdelset2_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:930: undefined reference to `blacs_gridexit_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/exports/lib/libbigdft-1.a(parallelLinAlg.o): In function `dpotri_parallel_':<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:987: undefined reference to `blacs_get_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:988: undefined reference to `blacs_gridinit_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:989: undefined reference to `blacs_gridinfo_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:1001: undefined reference to `numroc_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:1002: undefined reference to `numroc_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:1007: undefined reference to `descinit_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:1017: undefined reference to `pdelset_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:1023: undefined reference to `pdpotri_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:1029: undefined reference to `pdelset2_'<br />/home/ibnusyuhada/Public/abinit-7.10.5/build/fallbacks/sources/bigdft-1.7.0.93/src/linear/parallelLinAlg.f90:1038: undefined reference to `blacs_gridexit_'<br />collect2: error: ld returned 1 exit status<br />Makefile:3119: recipe for target 'abinit' failed<br />make&#91;3&#93;: *** &#91;abinit&#93; Error 1<br />make&#91;3&#93;: Leaving directory '/home/ibnusyuhada/Public/abinit-7.10.5/build/src/98_main'<br />Makefile:819: recipe for target 'all-recursive' failed<br />make&#91;2&#93;: *** &#91;all-recursive&#93; Error 1<br />make&#91;2&#93;: Leaving directory '/home/ibnusyuhada/Public/abinit-7.10.5/build/src'<br />Makefile:1963: recipe for target 'all-recursive' failed<br />make&#91;1&#93;: *** &#91;all-recursive&#93; Error 1<br />make&#91;1&#93;: Leaving directory '/home/ibnusyuhada/Public/abinit-7.10.5/build'<br />Makefile:1889: recipe for target 'all' failed<br />make: *** &#91;all&#93; Error 2<br /></code></pre></div><br /><br />I don't know where is the wrong steps. Please help. Thanks.<br /><br />#-----------------------------------------------------------#<br /><br />Update: I found the solution. After read what exactly functions inside parallelLinAlg.f90, the solution of this problem is should not set <br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>with_linalg_flavor=&quot;atlas&quot;<br />with_linalg_libs=&quot;-L/usr/lib/x86_64-linux-gnu/ -llapack -lf77blas -lcblas -latlas&quot;<br /></code></pre></div><br /><br />but should as<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>with_linalg_flavor=&quot;atlas+scalapack&quot;<br />with_linalg_libs=&quot;-L/usr/lib -llapack -lf77blas -lcblas -latlas -lblas -lblacs-openmpi -lblacsCinit-openmpi -lblacsF77init-openmpi -lscalapack-openmpi&quot;<br /></code></pre></div><br /><br />or<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>with_linalg_flavor=&quot;netlib+scalapack&quot;<br />with_linalg_libs=&quot;-L/usr/lib -llapack -lf77blas -lcblas -latlas -lblas -lblacs-openmpi -lblacsCinit-openmpi -lblacsF77init-openmpi -lscalapack-openmpi&quot;<br /></code></pre></div><br /><br />The explanation is in here <a href="http://www.netlib.org/scalapack/" class="postlink">http://www.netlib.org/scalapack/</a>. This also mean, we should install libblacs-openmpi1 and libblacs-mpi-dev first. This is due to, abinit automatically set bigdft with blacs. Here the explanation <a href="http://bigdft.org/Wiki/index.php?title=Installation" class="postlink">http://bigdft.org/Wiki/index.php?title=Installation</a>. I hope this helpful to anybody who meet the same problem with me. And thanks for all respons to my questions.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Fail Build Abinit v7.10.5 When Compile parallelLinAlg.f9</h3>
				<div class="date">Posted: <strong>Mon Apr 11, 2016 10:15 pm</strong></div>
				<div class="author">by <strong>gmatteo</strong></div>
				<div class="content">Does the problem disappear if you disable bigdft with:<br /><br />with_dft_flavor=&quot;atompaw+libxc+wannier90&quot;<br /><br />?</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Fail Build Abinit v7.10.5 When Compile parallelLinAlg.f9</h3>
				<div class="date">Posted: <strong>Tue Apr 12, 2016 6:06 am</strong></div>
				<div class="author">by <strong>ibnusyuhadap3</strong></div>
				<div class="content"><blockquote><div><cite>gmatteo wrote:</cite>Does the problem disappear if you disable bigdft with:<br /><br />with_dft_flavor=&quot;atompaw+libxc+wannier90&quot;<br /><br />?</div></blockquote><br /><br />To gmatteo, yes exactly without bigdft is success. But I need this package due to some reason. I was try many ways, such as add -lblacs_openmpi in linalg lib. But it result same error.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Fail Build Abinit v7.10.5 When Compile parallelLinAlg.f9</h3>
				<div class="date">Posted: <strong>Sat Dec 17, 2016 5:21 am</strong></div>
				<div class="author">by <strong>jennydaman</strong></div>
				<div class="content">Hey, I've been having the exact same issue, but your workarounds dont seem to work. I've tried both of them, and they both result in similar error messages:<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>checking for the requested linear algebra support... atlas+scalapack<br />checking whether to select a fallback for linear algebra... no<br />checking for BLAS support in specified libraries... no<br />checking for AXPBY support in specified BLAS libraries... no<br />checking for gemm3m in specified libraries... no<br />checking for mkl_imatcopy in specified libraries... no<br />checking for mkl_omatcopy in specified libraries... no<br />checking for mkl_omatadd in specified libraries... no<br />checking for LAPACK support in specified libraries... no<br />checking for LAPACKE C API support in specified libraries... no<br />checking for BLACS support in specified libraries... no<br />checking for ScaLAPACK support in specified libraries... no<br />checking for ELPA support in specified libraries... no<br />checking for PLASMA support in specified libraries... no<br />checking for MAGMA (version&gt;=1.1.0) support in specified libraries... no<br />checking whether we have a serial linear algebra support... no<br />configure: WARNING: falling back to internal linear algebra libraries<br />checking whether we have a MPI linear algebra support... no<br />checking whether we have a GPU linear algebra support... no<br />checking for the actual linear algebra support... broken<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; +--------------------------------------------------------------+<br />&nbsp; &nbsp; &nbsp; &nbsp; | Connector detection failure&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<br />&nbsp; &nbsp; &nbsp; &nbsp; +--------------------------------------------------------------+<br />&nbsp; &nbsp; &nbsp; &nbsp; | The build system of Abinit has not been able to detect&nbsp; &nbsp; &nbsp; &nbsp;|<br />&nbsp; &nbsp; &nbsp; &nbsp; | one or more requested external packages, probably because&nbsp; &nbsp; |<br />&nbsp; &nbsp; &nbsp; &nbsp; | you did not provide sufficient information. This means&nbsp; &nbsp; &nbsp; &nbsp;|<br />&nbsp; &nbsp; &nbsp; &nbsp; | that the build cannot proceed, and the configure script&nbsp; &nbsp; &nbsp; |<br />&nbsp; &nbsp; &nbsp; &nbsp; | will thus abort now with an error.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|<br />&nbsp; &nbsp; &nbsp; &nbsp; |&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<br />&nbsp; &nbsp; &nbsp; &nbsp; | To address this issue, you may:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<br />&nbsp; &nbsp; &nbsp; &nbsp; |&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<br />&nbsp; &nbsp; &nbsp; &nbsp; | * make sure that the prerequisites of the external&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|<br />&nbsp; &nbsp; &nbsp; &nbsp; | packages are available and enabled, e.g.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|<br />&nbsp; &nbsp; &nbsp; &nbsp; | --with-dft-flavor=&quot;libxc+bigdft&quot; or&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<br />&nbsp; &nbsp; &nbsp; &nbsp; | --with-trio-flavor=&quot;netcdf+etsf_io&quot;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<br />&nbsp; &nbsp; &nbsp; &nbsp; |&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<br />&nbsp; &nbsp; &nbsp; &nbsp; | * use the --with-*-bins, --with-*-incs, and&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<br />&nbsp; &nbsp; &nbsp; &nbsp; | --with-*-libs options of configure to provide&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<br />&nbsp; &nbsp; &nbsp; &nbsp; | additional information; please see the section related&nbsp; &nbsp; &nbsp; &nbsp;|<br />&nbsp; &nbsp; &nbsp; &nbsp; | to connectors in&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|<br />&nbsp; &nbsp; &nbsp; &nbsp; | ~abinit/doc/build/config-template.ac for available&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|<br />&nbsp; &nbsp; &nbsp; &nbsp; | options and details;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|<br />&nbsp; &nbsp; &nbsp; &nbsp; |&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<br />&nbsp; &nbsp; &nbsp; &nbsp; | * disable the corresponding extensions, by using the&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|<br />&nbsp; &nbsp; &nbsp; &nbsp; | associated --with-*-flavor=&quot;none&quot; options of&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|<br />&nbsp; &nbsp; &nbsp; &nbsp; | configure; please see the section associated to&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<br />&nbsp; &nbsp; &nbsp; &nbsp; | connectors in ~abinit/doc/build/config-template.ac for&nbsp; &nbsp; &nbsp; &nbsp;|<br />&nbsp; &nbsp; &nbsp; &nbsp; | details.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|<br />&nbsp; &nbsp; &nbsp; &nbsp; |&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<br />&nbsp; &nbsp; &nbsp; &nbsp; +--------------------------------------------------------------+<br /></code></pre></div><br />configure: error: the requested atlas+scalapack linear algebra flavor is not supported on this architecture<br /><br />Are there any ways that I can fix this? I've also tried setting up MPIBLAC, but that didn't do anything. <br />I'm on abinit v8.0.8b, maybe a previous version will work, or compiling BigDFT individually. The BigDFT compilation progress is intimidating though...</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=3&t=3260&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Sep 2024 23:20:16 GMT -->
</html>
