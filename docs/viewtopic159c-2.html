<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=3768&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 03:47:33 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; Abinit 8.6.3 BUG (?)</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>Abinit 8.6.3 BUG (?)</h2>
		<p><a href="viewtopic6921.html?f=9&amp;t=3768">https://forum.abinit.org/viewtopic.php?f=9&amp;t=3768</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>Abinit 8.6.3 BUG (?)</h3>
				<div class="date">Posted: <strong>Sat Jan 20, 2018 10:48 pm</strong></div>
				<div class="author">by <strong>vpontikis</strong></div>
				<div class="content">Hi everybody,<br /><br />Trying to get the total energy of a system made of 31 Cu + 1 W, I've got the below appended log, with .in and .files also appended. I would greatly appreciate your advice, if any.<br />Best regards, V. Pontikis<br /><br />---------<br />cuw.in<br />---------<br /># Crystalline Copper (Cu+W)<br /><br />#Definition of the unit cell<br />#acell 3*3.6015 Angstroms<br />acell  3*13.7104 Bohr     <br />rprim  1.0  0.0  0.0    # FCC primitive vectors (to be scaled by acell)<br />       0.0  1.0  0.0   <br />       0.0  0.0  1.0<br />chkprim  0              # No primitive cell<br />nsym  1<br /><br />#Definition of the atom types<br />ntypat 32               # There is only one type of atom<br />znucl 29  74            # The keyword &quot;znucl&quot; refers to the atomic number of the<br />                        #       possible type(s) of atom. The pseudopotential(s)<br />                        #       mentioned in the &quot;files&quot; file must correspond<br />                        #       to the type(s) of atom. Here, the only type is Copper (Cu)<br /> <br /># Definition of the atoms<br />natom 32                # There is only one atom per cell<br />typat 31*1 32 2         # This atom is of type 1<br />xred                    # This keyword indicate that the location of the atoms<br />                        #       will follow, one triplet of numbers / atom<br />         0.5000        0.5000        0.5000<br />         0.2500        0.2500        0.5000<br />         0.2500        0.5000        0.2500<br />         0.5000        0.2500        0.2500<br />         0.5000        0.5000        1.0000<br />         0.2500        0.2500        1.0000<br />         0.2500        0.5000        0.7500<br />         0.5000        0.2500        0.7500<br />         0.5000        1.0000        0.5000<br />         0.2500        0.7500        0.5000<br />         0.2500        1.0000        0.2500<br />         0.5000        0.7500        0.2500<br />         0.5000        1.0000        1.0000<br />         0.2500        0.7500        1.0000<br />         0.2500        1.0000        0.7500<br />         0.5000        0.7500        0.7500<br />         1.0000        0.5000        0.5000<br />         0.7500        0.2500        0.5000<br />         0.7500        0.5000        0.2500<br />         1.0000        0.2500        0.2500<br />         1.0000        0.5000        1.0000<br />         0.7500        0.2500        1.0000<br />         0.7500        0.5000        0.7500<br />         1.0000        0.2500        0.7500<br />         1.0000        1.0000        0.5000<br />         0.7500        0.7500        0.5000<br />         0.7500        1.0000        0.2500<br />         1.0000        0.7500        0.2500<br />         1.0000        1.0000        1.0000<br />         0.7500        0.7500        1.0000<br />         0.7500        1.0000        0.7500<br />         1.0000        0.7500        0.7500    <br /><br />#Definition of the k-point grids<br />ngkpt  4  4  4          # This is a 10x10x10 FCC grid, based on the primitive vectors<br />nshiftk  4              # of the reciprocal space. For a FCC real space lattice,<br />                        # like the present one, it actually corresponds to the<br />                        # so-called 4x4x4 Monkhorst-Pack grid, if the following shifts<br />                        # are used :<br />shiftk  0.5 0.5 0.5     # These shifts will be the same for all grids<br />        0.5 0.0 0.0<br />        0.0 0.5 0.0<br />        0.0 0.0 0.5<br /><br />#kptopt 4                # Option for the automatic generation of k points, taking<br />chksymbreak  0<br />                        # into account the symmetry<br /><br />#Definition of the planewave basis set<br />#ecut  40.0              # Maximal kinetic energy cut-off, in Hartree<br />#pawecutdg 45.00         # PAW Energy CUToff dor the Double Grid (&gt;= ecut)<br />ecut  10.0              # Maximal kinetic energy cut-off, in Hartree<br />pawecutdg 15.00         # PAW Energy CUToff dor the Double Grid (&gt;= ecut)<br /><br />#Definition of occupation numbers<br />occopt 4                # OCCupation OPTion (3 to 7 --&gt; metallic occupation of levels)<br />tsmear 0.012 eV         # Broadening of occupation numbers (default 0.01 / free electron metals<br />nband  50<br />                        #       or less (transition metals). If occopt=3 tsmear is the physical<br />                        #       temperature &amp; otherwise a convergence parameter.<br /><br />#Definition of the SCF procedure<br />nstep 100               # Maximal number of SCF cycles<br />toldfe 1.0d-6           # Will stop when, twice in a row, the difference<br />                        # between two consecutive evaluations of total energy<br />                        # differ by less than toldfe (in Hartree)<br />optforces  1<br /><br />#Optimization of the lattice parameters<br />optcell 1               # 1: optimisation of the volume only<br />ionmov  3               # BFGS structural optimization<br />ntime  100              # Number of optimization steps<br />dilatmx 1.05            # Maximum scaling of the lattice constant<br />ecutsm  0.5             # Recommended value upon relaxing cell size and shape<br /><br />#Suppression du test memoire d'abinit<br />#mem_test  0<br /><br />-----------<br />cuw.files<br />-----------<br />cuw.in<br />cuW.out<br />cuw_i<br />cuW_o<br />cuw<br />/opt/JTH-PBE-atomicdata-1.0/Cu.GGA_PBE-JTH.xml<br />/opt/JTH-PBE-atomicdata-1.0/W.GGA_PBE-JTH.xml<br /><br />-----<br />log<br />-----<br />  ABINIT 8.6.3<br />  <br />  Give name for formatted input file: <br />cuw.in<br />  Give name for formatted output file:<br />cuW.out<br />  Give root name for generic input files:<br />cuw_i<br />  Give root name for generic output files:<br />cuW_o<br />  Give root name for generic temporary files:<br />cuw<br /> <br />--- !COMMENT<br />src_file: isfile.F90<br />src_line: 109<br />message: |<br />    Output file cuW.out<br />     already exists.<br />...<br /> <br /> <br />--- !COMMENT<br />src_file: isfile.F90<br />src_line: 133<br />message: |<br />    Renaming old cuW.out to cuW.out0004<br />...<br /> <br /><br />.Version 8.6.3 of ABINIT <br />.(sequential version, prepared for a x86_64_linux_intel14.0 computer) <br /><br />.Copyright (C) 1998-2017 ABINIT group . <br /> ABINIT comes with ABSOLUTELY NO WARRANTY.<br /> It is free software, and you are welcome to redistribute it<br /> under certain conditions (GNU General Public License,<br /> see ~abinit/COPYING or <!-- m --><a class="postlink" href="http://www.gnu.org/copyleft/gpl.txt">http://www.gnu.org/copyleft/gpl.txt</a><!-- m -->).<br /><br /> ABINIT is a project of the Universite Catholique de Louvain,<br /> Corning Inc. and other collaborators, see ~abinit/doc/developers/contributors.txt .<br /> Please read ~abinit/doc/users/acknowledgments.html for suggested<br /> acknowledgments of the ABINIT effort.<br /> For more information, see <!-- m --><a class="postlink" href="https://www.abinit.org/">https://www.abinit.org</a><!-- m --> .<br /><br />.Starting date : Sat 20 Jan 2018.<br />- ( at 22h03 )<br />  <br /> <br /> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<br /> <br /> === Build Information === <br />  Version       : 8.6.3<br />  Build target  : x86_64_linux_intel14.0<br />  Build date    : 20180109<br /> <br /> === Compiler Suite === <br />  C compiler       : intel14.0<br />  C++ compiler     : gnu4.4<br />  Fortran compiler : intel14.0<br />  CFLAGS           : -O3 -opt-matmul -parallel -mkl=parallel<br />  CXXFLAGS         :  -g -O2 -mtune=native -march=native<br />  FCFLAGS          : -O3 -opt-matmul -parallel -mkl=parallel<br />  FC_LDFLAGS       :    -static-intel -static-libgcc<br /> <br /> === Optimizations === <br />  Debug level        : basic<br />  Optimization level : standard<br />  Architecture       : unknown_unknown<br /> <br /> === Multicore === <br />  Parallel build : no<br />  Parallel I/O   : no<br />  openMP support : no<br />  GPU support    : no<br /> <br /> === Connectors / Fallbacks === <br />  Connectors on : yes<br />  Fallbacks on  : yes<br />  DFT flavor    : libxc-fallback+atompaw-fallback+bigdft-fallback+wannier90-fallback<br />  FFT flavor    : fftw3-mkl<br />  LINALG flavor : mkl<br />  MATH flavor   : none<br />  TIMER flavor  : abinit<br />  TRIO flavor   : netcdf-fallback<br /> <br /> === Experimental features === <br />  Bindings            : @enable_bindings@<br />  Exports             : no<br />  GW double-precision : no<br /> <br /> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<br /> <br /><br /> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<br /> Default optimizations:<br />   --- None ---<br /><br /><br /> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<br /><br /><br /> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<br /> CPP options activated during the build:<br /><br />                  CC_INTEL                   CXX_GNU                  FC_INTEL<br /> <br />              HAVE_ATOMPAW               HAVE_BIGDFT HAVE_FC_ALLOCATABLE_DT...<br /> <br />             HAVE_FC_ASYNC  HAVE_FC_COMMAND_ARGUMENT        HAVE_FC_CONTIGUOUS<br /> <br />           HAVE_FC_CPUTIME             HAVE_FC_ETIME              HAVE_FC_EXIT<br /> <br />             HAVE_FC_FLUSH             HAVE_FC_GAMMA            HAVE_FC_GETENV<br /> <br />            HAVE_FC_GETPID   HAVE_FC_IEEE_EXCEPTIONS             HAVE_FC_IOMSG<br /> <br />     HAVE_FC_ISO_C_BINDING  HAVE_FC_ISO_FORTRAN_2008        HAVE_FC_LONG_LINES<br /> <br />        HAVE_FC_MOVE_ALLOC           HAVE_FC_PRIVATE         HAVE_FC_PROTECTED<br /> <br />         HAVE_FC_STREAM_IO            HAVE_FC_SYSTEM                  HAVE_FFT<br /> <br />        HAVE_FFT_FFTW3_MKL           HAVE_FFT_SERIAL        HAVE_LIBPAW_ABINIT<br /> <br />      HAVE_LIBTETRA_ABINIT                HAVE_LIBXC               HAVE_LINALG<br /> <br />         HAVE_LINALG_AXPBY        HAVE_LINALG_GEMM3M  HAVE_LINALG_MKL_IMATCOPY<br /> <br />   HAVE_LINALG_MKL_OMATADD  HAVE_LINALG_MKL_OMATCOPY   HAVE_LINALG_MKL_THREADS<br /> <br />        HAVE_LINALG_SERIAL               HAVE_NETCDF                HAVE_NUMPY<br /> <br />             HAVE_OS_LINUX         HAVE_TIMER_ABINIT            HAVE_WANNIER90<br /> <br />              USE_MACROAVE                                                      <br /> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<br /><br />- input  file    -&gt; cuw.in<br />- output file    -&gt; cuW.out<br />- root for input  files -&gt; cuw_i<br />- root for output files -&gt; cuW_o<br /> <br />-instrng: 100 lines of input have been read from file cuw.in<br /> <br /> <br />--- !BUG<br />src_file: m_ab7_invars_f90.F90<br />src_line: 665<br />mpi_rank: 0<br />message: |<br />    ecut_tmp is not well defined.<br />...<br /> <br /> <br />--- !BUG<br />src_file: m_ab7_invars_f90.F90<br />src_line: 665<br />mpi_rank: 0<br />message: |<br />    ecut_tmp is not well defined.<br />...<br /> <br />  Action: contact ABINIT group (please attach the output of `abinit -b`)<br /> <br />  Action: contact ABINIT group (please attach the output of `abinit -b`)<br /> <br /> <br /> leave_new: decision taken to exit ...<br /><br />-----------------<br />abinit -b<br />-----------------<br /> DATA TYPE INFORMATION: <br /> REAL:      Data type name: REAL(DP) <br />            Kind value:      8<br />            Precision:      15<br />            Smallest nonnegligible quantity relative to 1:  0.22204460E-15<br />            Smallest positive number:                       0.22250739-307<br />            Largest representable number:                   0.17976931+309<br /> INTEGER:   Data type name: INTEGER(default) <br />            Kind value: 4<br />            Bit size:   32<br />            Largest representable number: 2147483647<br /> LOGICAL:   Data type name: LOGICAL <br />            Kind value: 4<br /> CHARACTER: Data type name: CHARACTER             Kind value: 1<br />  MPI-IO support is OFF<br /><br /> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<br /> CPP options activated during the build:<br /><br />                  CC_INTEL                   CXX_GNU                  FC_INTEL<br /> <br />              HAVE_ATOMPAW               HAVE_BIGDFT HAVE_FC_ALLOCATABLE_DT...<br /> <br />             HAVE_FC_ASYNC  HAVE_FC_COMMAND_ARGUMENT        HAVE_FC_CONTIGUOUS<br /> <br />           HAVE_FC_CPUTIME             HAVE_FC_ETIME              HAVE_FC_EXIT<br /> <br />             HAVE_FC_FLUSH             HAVE_FC_GAMMA            HAVE_FC_GETENV<br /> <br />            HAVE_FC_GETPID   HAVE_FC_IEEE_EXCEPTIONS             HAVE_FC_IOMSG<br /> <br />     HAVE_FC_ISO_C_BINDING  HAVE_FC_ISO_FORTRAN_2008        HAVE_FC_LONG_LINES<br /> <br />        HAVE_FC_MOVE_ALLOC           HAVE_FC_PRIVATE         HAVE_FC_PROTECTED<br /> <br />         HAVE_FC_STREAM_IO            HAVE_FC_SYSTEM                  HAVE_FFT<br /> <br />        HAVE_FFT_FFTW3_MKL           HAVE_FFT_SERIAL        HAVE_LIBPAW_ABINIT<br /> <br />      HAVE_LIBTETRA_ABINIT                HAVE_LIBXC               HAVE_LINALG<br /> <br />         HAVE_LINALG_AXPBY        HAVE_LINALG_GEMM3M  HAVE_LINALG_MKL_IMATCOPY<br /> <br />   HAVE_LINALG_MKL_OMATADD  HAVE_LINALG_MKL_OMATCOPY   HAVE_LINALG_MKL_THREADS<br /> <br />        HAVE_LINALG_SERIAL               HAVE_NETCDF                HAVE_NUMPY<br /> <br />             HAVE_OS_LINUX         HAVE_TIMER_ABINIT            HAVE_WANNIER90<br /> <br />              USE_MACROAVE                                                      <br /> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<br /><br /> <br /> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<br /> <br /> === Build Information === <br />  Version       : 8.6.3<br />  Build target  : x86_64_linux_intel14.0<br />  Build date    : 20180109<br /> <br /> === Compiler Suite === <br />  C compiler       : intel14.0<br />  C++ compiler     : gnu4.4<br />  Fortran compiler : intel14.0<br />  CFLAGS           : -O3 -opt-matmul -parallel -mkl=parallel<br />  CXXFLAGS         :  -g -O2 -mtune=native -march=native<br />  FCFLAGS          : -O3 -opt-matmul -parallel -mkl=parallel<br />  FC_LDFLAGS       :    -static-intel -static-libgcc<br /> <br /> === Optimizations === <br />  Debug level        : basic<br />  Optimization level : standard<br />  Architecture       : unknown_unknown<br /> <br /> === Multicore === <br />  Parallel build : no<br />  Parallel I/O   : no<br />  openMP support : no<br />  GPU support    : no<br /> <br /> === Connectors / Fallbacks === <br />  Connectors on : yes<br />  Fallbacks on  : yes<br />  DFT flavor    : libxc-fallback+atompaw-fallback+bigdft-fallback+wannier90-fallback<br />  FFT flavor    : fftw3-mkl<br />  LINALG flavor : mkl<br />  MATH flavor   : none<br />  TIMER flavor  : abinit<br />  TRIO flavor   : netcdf-fallback<br /> <br /> === Experimental features === <br />  Bindings            : @enable_bindings@<br />  Exports             : no<br />  GW double-precision : no<br /> <br /> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<br /> <br /><br /> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<br /> Default optimizations:<br />   --- None ---<br /> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Abinit 8.6.3 BUG (?)</h3>
				<div class="date">Posted: <strong>Fri Feb 02, 2018 10:22 am</strong></div>
				<div class="author">by <strong>ebousquet</strong></div>
				<div class="content">Dear V. Pontikis,<br />I don't know about this BUG error message, but I already see some problems in your input with the definition of atoms:<br /><blockquote class="uncited"><div>ntypat 32 # There is only one type of atom<br />znucl 29 74 # The keyword &quot;znucl&quot; refers to the atomic number of the<br />natom 32 # There is only one atom per cell<br />typat 31*1 32 2 # This atom is of type 1</div></blockquote><br /><br />To what I understand you have 31 Cu and 1W in your system, you have thus 2 different types of atom and thus ntypat should be 2 and not 32.<br />In typat you put &quot;31*1 32 2&quot;, which is not correct too, I guess it should be &quot;31*1 1*2&quot;, i.e. 31 Cu (type number 1 ) and 1 W (type number 2).<br />I have to say the code should have complained about it, but there might be another problem in your input.<br />Could you try with this typat/ntypat fix?<br />Best wishes,<br />Eric</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=3768&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 03:47:33 GMT -->
</html>
