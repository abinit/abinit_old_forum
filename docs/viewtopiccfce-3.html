<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=3&t=3198&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 02:06:34 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; compile correct but always stop at the first ITER STEP</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>compile correct but always stop at the first ITER STEP</h2>
		<p><a href="viewtopic7ba0.html?f=3&amp;t=3198">https://forum.abinit.org/viewtopic.php?f=3&amp;t=3198</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>compile correct but always stop at the first ITER STEP</h3>
				<div class="date">Posted: <strong>Mon Feb 15, 2016 5:59 am</strong></div>
				<div class="author">by <strong>onion2440</strong></div>
				<div class="content">Dear everyone,happy new year!<br />first I compile abinit with the command:<br /> ./configure --prefix=/opt/para3/abinit-7.10.5/build  --enable-mpi=&quot;yes&quot;  --with-mpi-prefix=&quot;/opt/apps/intel16/cray_mpich/7.3.0/&quot; <br /><br />it goes with no error except that it tell's me:  <br /> make[2]: Nothing to be done for `install-exec-am'.<br /><br />But when excute   ./abinit &lt;trf2_1.files     the out file always stops at the first ITER STEP NUMBER 1 like that:<br />                      .......<br />--- Pseudopotential description ------------------------------------------------<br />- pspini: atom type   1  psp file is 82pb.4.hgh<br />- pspatm: opening atomic psp file    82pb.4.hgh<br />- Hartwigsen-Goedecker-Hutter psp for Pb,  from PRB58, 3641 (1998)<br />- 82.00000   4.00000     10605                znucl, zion, pspdat<br />    3    1    2    0      2001   0.00000      pspcod,pspxc,lmax,lloc,mmax,r2well<br /> rloc=   0.6175000<br /> cc1 =   0.7531430; cc2 =   0.0000000; cc3 =   0.0000000; cc4 =   0.0000000<br /> rrs =   0.7052590; h11s=   1.9799270; h22s=  -0.1649600; h33s=  -0.8060600<br /> rrp =   0.8466410; h11p=   0.8644200; h22p=  -0.5409690; h33p=   0.0000000<br />                    k11p=   0.2077110; k22p=   0.0129480; k33p=   0.0000000<br /> rrd =   0.9719390; h11d=   0.3749670; h22d=   0.0000000; h33d=   0.0000000<br />                    k11d=   0.0292560; k22d=   0.0000000; k33d=   0.0000000<br />-  Local part computed in reciprocal space.<br />-----------------abinit stops at here and since then no new results anymore.<br />anyone knows how to fix it?<br />thank you!<br />BTW, the serial abinit can do the work correctly,I don't know why the parallel abinit can't do the job.<br />below is the configure information:<br /> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<br /><br /> === Build Information ===<br />  Version       : 7.10.5<br />  Build target  : x86_64_linux_intel16.0<br />  Build date    : 20160214<br /><br /> === Compiler Suite ===<br />  C compiler       : intel16.0<br />  C++ compiler     : intel16.0<br />  Fortran compiler : intel16.0<br />  CFLAGS           :  -g -O2 -vec-report0<br />  CXXFLAGS         :  -g -O2 -vec-report0<br />  FCFLAGS          :  -g -extend-source -vec-report0 -noaltparam -nofpscomp<br />  FC_LDFLAGS       :    -static-intel -static-libgcc<br /><br /> === Optimizations ===<br />  Debug level        : basic<br />  Optimization level : standard<br />  Architecture       : intel_xeon<br /><br /> === Multicore ===<br />  Parallel build : yes<br />  Parallel I/O   : auto<br />  openMP support : no<br />  GPU support    : no<br /> === Connectors / Fallbacks ===<br />  Connectors on : yes<br />  Fallbacks on  : yes<br />  DFT flavor    : none<br />  FFT flavor    : none<br />  LINALG flavor : netlib-fallback<br />  MATH flavor   : none<br />  TIMER flavor  : abinit<br />  TRIO flavor   : none<br /><br /> === Experimental features ===<br />  Bindings            : @enable_bindings@<br />  Exports             : no<br />  GW double-precision : no<br /><br /> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<br /><br /><br /> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<br /> Default optimizations:<br />   -O2 -xHost<br /><br /><br /> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<br /><br /><br /> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<br /> CPP options activated during the build:<br /><br />                  CC_INTEL                 CXX_INTEL                  FC_INTEL<br /><br /> HAVE_FC_ALLOCATABLE_DT...             HAVE_FC_ASYNC  HAVE_FC_COMMAND_ARGUMENT<br /><br />      HAVE_FC_COMMAND_LINE        HAVE_FC_CONTIGUOUS           HAVE_FC_CPUTIME<br /><br />              HAVE_FC_EXIT             HAVE_FC_FLUSH             HAVE_FC_GAMMA<br />                               .....................</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: compile correct but always stop at the first ITER STEP&nbsp;&nbsp;<span style="color: #006600">[SOLVED]</span></h3>
				<div class="date">Posted: <strong>Mon Feb 15, 2016 8:37 am</strong></div>
				<div class="author">by <strong>Jordan</strong></div>
				<div class="content">Intel16 compiler is still not fully supported, which might be you issue.<br /><br />Can you try to compile abinit with <br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>./configure --prefix=/opt/para3/abinit-7.10.5/build --enable-mpi=&quot;yes&quot; --with-mpi-prefix=&quot;/opt/apps/intel16/cray_mpich/7.3.0/&quot;&nbsp; FCFLAGS_OPTIM=&quot;-O2 -no-vec&quot;<br /></code></pre></div><br /><br />Also, since you are using the intel compiler, your cluster might provide the Intel MKL for the linear algebra library which is far better that the netlib-fallback that you built within abinit.<br /><br />Cheers</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: compile correct but always stop at the first ITER STEP</h3>
				<div class="date">Posted: <strong>Mon Feb 15, 2016 2:51 pm</strong></div>
				<div class="author">by <strong>onion2440</strong></div>
				<div class="content"><blockquote><div><cite>Jordan wrote:</cite>Intel16 compiler is still not fully supported, which might be you issue.<br /><br />Can you try to compile abinit with <br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>./configure --prefix=/opt/para3/abinit-7.10.5/build --enable-mpi=&quot;yes&quot; --with-mpi-prefix=&quot;/opt/apps/intel16/cray_mpich/7.3.0/&quot;&nbsp; FCFLAGS_OPTIM=&quot;-O2 -no-vec&quot;<br /></code></pre></div><br /><br />Also, since you are using the intel compiler, your cluster might provide the Intel MKL for the linear algebra library which is far better that the netlib-fallback that you built within abinit.<br /><br />Cheers</div></blockquote><br /><br />hi,night,<br />it's still not working, but I changed to the gcc 4.9 compiled mpi and it works.thank you !</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=3&t=3198&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 02:06:34 GMT -->
</html>
