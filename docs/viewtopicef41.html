<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=19&t=1120&p=3633 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Sep 2024 23:43:43 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1" />

<title>Positron  enhacement factor within semiconductors - ABINIT Discussion Forums</title>


	<link rel="canonical" href="viewtopicc997.html?t=1120">

<!--
	phpBB style name: Flat Style
	Based on style:   prosilver (this is the default phpBB3 style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:      Ian Bradley
-->

<link href="assets/css/font-awesome.minaea1.css?assets_version=57" rel="stylesheet">
<link href="styles/flat-style/theme/stylesheetaea1.css?assets_version=57" rel="stylesheet">
<link href="styles/flat-style/theme/en/stylesheetaea1.css?assets_version=57" rel="stylesheet">




<!--[if lte IE 9]>
	<link href="./styles/flat-style/theme/tweaks.css?assets_version=57" rel="stylesheet">
<![endif]-->

<meta name="google-site-verification" content="PLdTN48UENWHvJ5ViWhDTahZKzoMyw5e1QZgw1IECVw" />
<link rel="alternate" type="application/atom+xml" title="ATOM" href="app.php/smartfeed/feed.html" />
<link rel="alternate" type="application/rss+xml" title="RSS" href="app.php/smartfeed/feed9830.html?y=2" />

<link href="ext/crizzo/aboutus/styles/prosilver/theme/aboutusaea1.css?assets_version=57" rel="stylesheet" media="screen" />
<link href="ext/dmzx/topicageday/styles/prosilver/theme/topicagedayaea1.css?assets_version=57" rel="stylesheet" media="screen" />
<link href="ext/hifikabin/clock/styles/all/theme/clockaea1.css?assets_version=57" rel="stylesheet" media="screen" />
<link href="ext/hifikabin/googlesearch/styles/prosilver/theme/googlesearchaea1.css?assets_version=57" rel="stylesheet" media="screen" />
<link href="ext/kinerity/bestanswer/styles/prosilver/theme/bestansweraea1.css?assets_version=57" rel="stylesheet" media="screen" />
<link href="ext/phpbb/collapsiblecategories/styles/all/theme/collapsiblecategoriesaea1.css?assets_version=57" rel="stylesheet" media="screen" />
<link href="ext/phpbbservices/smartfeed/styles/prosilver/theme/customaea1.css?assets_version=57" rel="stylesheet" media="screen" />
<link href="ext/senky/userstatistics/styles/prosilver/theme/userstatisticsaea1.css?assets_version=57" rel="stylesheet" media="screen" />
<link href="ext/tierra/topicsolved/styles/prosilver/theme/buttonsaea1.css?assets_version=57" rel="stylesheet" media="screen" />



</head>
<body id="phpbb" class="nojs notouch section-viewtopic ltr ">


<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>
	<div id="page-header">
		<div class="headerbar" role="banner">
					<div class="inner">

			<div id="site-description">
				<a id="logo" class="logo" href="index-2.html" title="Board index"><span class="site_logo"></span></a>
				<div  class="site-description">
					<h1>ABINIT Discussion Forums</h1>
					<p>The meeting place for ABINIT users and developers</p>
					<p class="skiplink"><a href="#start_here">Skip to content</a></p>
				</div>
			</div>

			</div>
					</div>
				<div class="navbar navbar-top" role="navigation">
	<div class="inner">

	<ul id="nav-main" class="nav-main linklist" role="menubar">

		<li id="quick-links" class="quick-links dropdown-container responsive-menu" data-skip-responsive="true">
			<a href="#" class="dropdown-trigger">
				<i class="icon fa-bars fa-fw" aria-hidden="true"></i><span>Quick links</span>
			</a>
			<div class="dropdown">
				<div class="pointer"><div class="pointer-inner"></div></div>
				<ul class="dropdown-contents" role="menu">
					
											<li class="separator"></li>
																									<li>
								<a href="search33a7.html?search_id=unanswered" role="menuitem">
									<i class="icon fa-file fa-fw" aria-hidden="true"></i><span>Unanswered topics</span>
								</a>
							</li>
							<li>
								<a href="search526f.html?search_id=active_topics" role="menuitem">
									<i class="icon fa-file fa-fw" aria-hidden="true"></i><span>Active topics</span>
								</a>
							</li>
							<li class="separator"></li>
							<li>
								<a href="search.html" role="menuitem">
									<i class="icon fa-search fa-fw" aria-hidden="true"></i><span>Search</span>
								</a>
							</li>
					
										
										<li class="separator"></li>

									</ul>
			</div>
		</li>

			<li class="small-icon icon-smartfeed no-bulletin"><a href="app.php/smartfeed/ui.html">Smartfeed</a></li>		<li data-skip-responsive="true">
			<a href="app.php/help/faq.html" rel="help" title="Frequently Asked Questions" role="menuitem">
				<i class="icon fa-question-circle fa-fw" aria-hidden="true"></i><span>FAQ</span>
			</a>
		</li>
								<li data-last-responsive="true">
				<a href="https://www.abinit.org/" title="" role="menuitem" target="_blank">
				<i class="icon fa-home fa-fw" aria-hidden="true"></i><span>Main Site</span>
				</a>
			</li>
								<li data-last-responsive="true">
				<a href="https://www.abinit.org/packages" title="" role="menuitem" target="_blank">
				<i class="icon fa-download fa-fw" aria-hidden="true"></i><span>Download</span>
				</a>
			</li>
								<li data-last-responsive="true">
				<a href="https://docs.abinit.org/" title="" role="menuitem" target="_blank">
				<i class="icon fa-book fa-fw" aria-hidden="true"></i><span>Documentations</span>
				</a>
			</li>
								<li data-last-responsive="true">
				<a href="https://docs.abinit.org/tutorial/" title="" role="menuitem" target="_blank">
				<i class="icon fa-graduation-cap fa-fw" aria-hidden="true"></i><span>Tutorials</span>
				</a>
			</li>
							
			<li class="rightside"  data-skip-responsive="true">
			<a href="ucp26c3.html?mode=login" title="Login" accesskey="x" role="menuitem">
				<i class="icon fa-power-off fa-fw" aria-hidden="true"></i><span>Login</span>
			</a>
		</li>
						</ul>
    </div>
</div>

<div class="navbar" role="navigation">
	<div class="inner">
	<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks" role="menubar">
								<li class="breadcrumbs" itemscope itemtype="http://schema.org/BreadcrumbList">
										<span class="crumb"  itemtype="http://schema.org/ListItem" itemprop="itemListElement" itemscope><a href="index-2.html" itemtype="https://schema.org/Thing" itemprop="item" accesskey="h" data-navbar-reference="index"><i class="icon fa-home fa-fw"></i><span itemprop="name">Board index</span></a><meta itemprop="position" content="1" /></span>
											<span class="crumb"  itemtype="http://schema.org/ListItem" itemprop="itemListElement" itemscope data-forum-id="5"><a href="viewforume774.html?f=5" itemtype="https://schema.org/Thing" itemprop="item"><span itemprop="name">Developing Abinit</span></a><meta itemprop="position" content="2" /></span>
															<span class="crumb"  itemtype="http://schema.org/ListItem" itemprop="itemListElement" itemscope data-forum-id="19"><a href="viewforum218b.html?f=19" itemtype="https://schema.org/Thing" itemprop="item"><span itemprop="name">Improving ABINIT</span></a><meta itemprop="position" content="3" /></span>
												</li>
		<li class="rightside responsive-hide">
	<div id="show-clock">
		<div id="liveclock" class="outer_face">
			<div class="marker oneseven"></div>
			<div class="marker twoeight"></div>
			<div class="marker fourten"></div>
			<div class="marker fiveeleven"></div>
			<div class="inner_face">
				<div class="hand hour"></div>
				<div class="hand minute"></div>
				<div class="hand second"></div>
			</div>
		</div>
	</div>
</li><!--[if !IE]><!-->
<li id="g-search-box" class="search-box rightside responsive-hide">
	<form action="https://forum.abinit.org/app.php/googlesearch">
	<fieldset>
		<input name="cx" type="hidden" value="017804512478788106347:tlftx8kncg4">
		<input name="q" type="search" maxlength="255" class="inputbox search tiny" value="" placeholder="Google Search ...">
		<button class="button button-search-google" type="submit" name="sitesearch" title="Google Search">
		<i class="icon fa-search fa-fw" aria-hidden="true"></i>
		</button>
	</fieldset>
</form>
</li>
<!--<![endif]-->

							<li id="search-box" class="rightside search-box responsive-hide" role="search">
				<form action="https://forum.abinit.org/search.php" method="get" id="search">
				<fieldset>
					<input name="keywords" id="keywords" type="search" maxlength="128" title="Search for keywords" class="inputbox search tiny" size="20" value="" placeholder="Search…" />
					<button class="button button-search" type="submit" title="Search">
						<i class="icon fa-search fa-fw" aria-hidden="true"></i><span class="sr-only">Search</span>
					</button>
					<a href="search.html" class="button button-search-end" title="Advanced search">
						<i class="icon fa-cog fa-fw" aria-hidden="true"></i><span class="sr-only">Advanced search</span>
					</a>
					
				</fieldset>
				</form>
			</li>

			<li class="rightside responsive-search">
				<a href="search.html" title="View the advanced search options" role="menuitem">
					<i class="icon fa-search fa-fw" aria-hidden="true"></i><span class="sr-only">Search</span>
				</a>
			</li>
					</ul>

	</div>
</div>
	</div>

	
	<a id="start_here" class="anchor"></a>
	<div id="page-body" class="page-body" role="main">
		
		﻿
<h2 class="topic-title"><a href="viewtopicb3ae.html?f=19&amp;t=1120">Positron  enhacement factor within semiconductors</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body -->
<div style="display: none !important;">Documentation, Web site and code modifications<br /></div>
<p>
	<strong>Moderators:</strong> <a href="memberlist4183.html?mode=viewprofile&amp;u=1676" class="username">baguetl</a>, <a href="memberlistccd1.html?mode=viewprofile&amp;u=2257" class="username">routerov</a>
</p>


<div class="action-bar bar-top">
	
			<a href="posting0476.html?mode=reply&amp;f=19&amp;t=1120" class="button" title="This topic is locked, you cannot edit posts or make further replies.">
							<span>Locked</span> <i class="icon fa-lock fa-fw" aria-hidden="true"></i>
					</a>
	
			<div class="dropdown-container dropdown-button-control topic-tools">
		<span title="Topic tools" class="button button-secondary dropdown-trigger dropdown-select">
			<i class="icon fa-wrench fa-fw" aria-hidden="true"></i>
			<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
		</span>
		<div class="dropdown">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
																												<li>
					<a href="viewtopic63bd-2.html?f=19&amp;t=1120&amp;view=print" title="Print view" accesskey="p">
						<i class="icon fa-print fa-fw" aria-hidden="true"></i><span>Print view</span>
					</a>
				</li>
											</ul>
		</div>
	</div>
	
			<div class="search-box" role="search">
			<form method="get" id="topic-search" action="https://forum.abinit.org/search.php">
			<fieldset>
				<input class="inputbox search tiny"  type="search" name="keywords" id="search_keywords" size="20" placeholder="Search this topic…" />
				<button class="button button-search" type="submit" title="Search">
					<i class="icon fa-search fa-fw" aria-hidden="true"></i><span class="sr-only">Search</span>
				</button>
				<a href="search.html" class="button button-search-end" title="Advanced search">
					<i class="icon fa-cog fa-fw" aria-hidden="true"></i><span class="sr-only">Advanced search</span>
				</a>
				<input type="hidden" name="t" value="1120" />
<input type="hidden" name="sf" value="msgonly" />

			</fieldset>
			</form>
		</div>
	
			<div class="pagination">
			8 posts
							&bull; Page <strong>1</strong> of <strong>1</strong>
					</div>
		</div>




			<div id="p3626" class="post has-profile bg2 offline">
		<div class="inner">

		<dl class="postprofile" id="profile3626">
			<dt class="no-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlist05fa.html?mode=viewprofile&amp;u=249" class="username">dr_sferrari</a>							</dt>

									
		<dd class="profile-posts"><strong>Posts:</strong> <a href="searchd6ad.html?author_id=249&amp;sr=posts">28</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Mon Mar 29, 2010 4:13 pm</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content3626">

						<h3 class="first"><a href="#p3626">Positron  enhacement factor within semiconductors</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="postingf58c.html?mode=quote&amp;f=19&amp;p=3626" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author">
									<a class="unread" href="viewtopicc060-2.html?p=3626#p3626" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlist05fa.html?mode=viewprofile&amp;u=249" class="username">dr_sferrari</a></strong> &raquo; </span>Fri May 27, 2011 4:01 pm
			</p>
			
			
			
			<div class="content">Hi, I am trying to modify the code so that the Boronsky-Niemenem positron enhacement factor (in the RPA limit, that is in the zero positron limit) includes the correction for screening of positron in semiconductors. So in the code of /src/56_xc/gammapositron.F90 in lines 178-179<br />Intead of:<br />   if (rs&lt;=20._dp) gg=gg+1.23_dp*rs+0.8295_dp*sqrs**3-1.26_dp*rs**2+0.3286_dp*sqrs**5+sixth*rs**3<br /><br />I want to modify the last term in view of the article<br />Puska, Mäkinen, Manninen, Nieminen, Phys. Rev.  B, 39, p. 7666 (1989) and M.J. Puska; J. Phys.: Condens. Matter (1991) 3 3455, to:<br /><br />gg=gg+1.23_dp*rs+0.8295_dp*sqrs**3-1.26_dp*rs**2+0.3286_dp*sqrs**5+sixth*scsf*rs**3<br />where scsf = 1. - 1./(dtset%diemac) ; where dtset%diemac is the value of the dielectric constant declared in the input file.<br /><br />Of course, this means that gammapositron subroutine has to have access to the value of the diemac, so have to track back where gammapositron subroutine is called and find out that is only called at src/67_common/poslifetime.F90  subroutine; and in that subroutine the set of values dtset is part of the input. So in line 220 of poslifetime where its states:<br /><br />  call gammapositron(gamma,grhocore2,grhoe2,igamma(igam),ngr,nfft,xccc3d,&amp;<br />&amp;   rhonowe(:,1,1),rhonowp(:,1),usecore)<br /><br />I just added dtset variable as a formal variable:<br /><br />  call gammapositron(gamma,grhocore2,grhoe2,igamma(igam),ngr,nfft,xccc3d,&amp;<br />&amp;   rhonowe(:,1,1),rhonowp(:,1),usecore,dtset)<br /><br />Obviusly I added in gammapositron.F90 dtset as a actual variable changing from:<br /><br />subroutine gammapositron(gamma,grhocore2,grhoe2,igamma,ngr,npt,rhocore,rhoer,rhopr,usecore)<br /><br />to<br /><br />subroutine gammapositron(gamma,grhocore2,grhoe2,igamma,ngr,npt,rhocore,rhoer,rhopr,usecore,dtset) <br /><br />I also include the use of some definitions parts:<br />use defs_abitypes<br />use defs_datatypes<br /><br />Nevertheless I find the following error when I try to compile:<br />...<br />poslifetime.F90:220.46:<br /><br />&amp;   rhonowe(:,1,1),rhonowp(:,1),usecore,dtset)<br />                                              1<br />Error: More actual arguments than formal arguments in the call of procedure in (1)<br /><br />I simply want to know how to solve this error, because I am lost. I am supposely doing all the right things nevertheless I find this problem.</div>
			
			
			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p3627" class="post has-profile bg1 offline">
		<div class="inner">

		<dl class="postprofile" id="profile3627">
			<dt class="no-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlistd179.html?mode=viewprofile&amp;u=59" class="username">david.waroquiers</a>							</dt>

									
		<dd class="profile-posts"><strong>Posts:</strong> <a href="search4b32.html?author_id=59&amp;sr=posts">138</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Sat Aug 15, 2009 12:45 am</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content3627">

						<h3 ><a href="#p3627">Re: Positron  enhacement factor within semiconductors</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="postingb594.html?mode=quote&amp;f=19&amp;p=3627" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author">
									<a class="unread" href="viewtopic3049.html?p=3627#p3627" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlistd179.html?mode=viewprofile&amp;u=59" class="username">david.waroquiers</a></strong> &raquo; </span>Fri May 27, 2011 4:37 pm
			</p>
			
			
			
			<div class="content">Hello,<br /><br />In fact the interfaces of abinit are automatically generated by a tool called abilint (you can find it in the config/script directory). In any case you can issue a */*/makemake in the root directory of abinit and it will call this tool and some others. Then you should be able to recompile abinit (the interfaces will have been changed).<br /><br />The other possibity is to change the interface by hand : it is the file interfaces_56_xc.F90.<br /><br />David</div>
			
			
			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p3628" class="post has-profile bg2 offline">
		<div class="inner">

		<dl class="postprofile" id="profile3628">
			<dt class="no-profile-rank has-avatar">
				<div class="avatar-container">
																<a href="memberlist913b.html?mode=viewprofile&amp;u=55" class="avatar"><img class="avatar" src="download/file04d0.png?avatar=55_1376078980.png" width="71" height="92" alt="User avatar" /></a>														</div>
								<a href="memberlist913b.html?mode=viewprofile&amp;u=55" class="username">torrent</a>							</dt>

									
		<dd class="profile-posts"><strong>Posts:</strong> <a href="searchf977.html?author_id=55&amp;sr=posts">127</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Fri Aug 14, 2009 7:40 pm</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content3628">

						<h3 ><a href="#p3628">Re: Positron  enhacement factor within semiconductors</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="posting87d4.html?mode=quote&amp;f=19&amp;p=3628" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author">
									<a class="unread" href="viewtopic3e7c.html?p=3628#p3628" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlist913b.html?mode=viewprofile&amp;u=55" class="username">torrent</a></strong> &raquo; </span>Fri May 27, 2011 5:41 pm
			</p>
			
			
			
			<div class="content">Dear ?<br />(is it possible to know to who I am speaking with?),<br /><br />I'm one the authors of the gammapositron routine.<br /><br />You have two possibilites:<br />1) you do the modification for your own usage; in that case you can do what you want.<br /><br />2) You want your modification to be later included in Abinit;<br />you cannot implement your proposal as it is.<br />a) The use of the full dtset datastructure (which is a huge datastructure) is usually forbidden for low lwvwl routines; and gammapositron is one of these routines.<br />It is definitively not &quot;object oriented&quot; and avoid all re-use of the routine in another context.<br />At least, just pass the dtset%diemac real.<br />b) I you decide to do that, I would prefer that you pass it as an &quot;optional&quot; argument....<br />This will allow us to use the gammapositron routine in several other context, not knowing the value of diemac.<br />Then, you can implement your formula by the use of the &quot;if present(diemac)&quot;statement.<br />c) diemac is not exactly the dielectric constant; it is much more a adjustable parameter used for the preconditionning scheme of the SCF cycle. So, I'm not sure your implement will work in all cases.<br /><br />Hope this helps...<br /><br />Regards,</div>
			
			
			
									
									<div id="sig3628" class="signature">Marc Torrent<br /><em class="text-italics">CEA - Bruyères-le-Chatel<br />France<br /></em></div>
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p3629" class="post has-profile bg1 offline">
		<div class="inner">

		<dl class="postprofile" id="profile3629">
			<dt class="no-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlist05fa.html?mode=viewprofile&amp;u=249" class="username">dr_sferrari</a>							</dt>

									
		<dd class="profile-posts"><strong>Posts:</strong> <a href="searchd6ad.html?author_id=249&amp;sr=posts">28</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Mon Mar 29, 2010 4:13 pm</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content3629">

						<h3 ><a href="#p3629">Re: Positron  enhacement factor within semiconductors</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="posting3016.html?mode=quote&amp;f=19&amp;p=3629" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author">
									<a class="unread" href="viewtopica474.html?p=3629#p3629" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlist05fa.html?mode=viewprofile&amp;u=249" class="username">dr_sferrari</a></strong> &raquo; </span>Fri May 27, 2011 5:43 pm
			</p>
			
			
			
			<div class="content">David<br />Thanks, that tip solved all. It is fair to say that this implementation greatly improves the lifetimes  in semiconductors reaching to values very close to  experimental ones. I stronlgy suggest to include this correction in a next version of ABINIT.</div>
			
			
			
									
									<div id="sig3629" class="signature">Dr. Sergio Ferrari<br />Scientific Researcher  (category Assistant) - CONICET (National Council of Research in Science and Technology)<br />IFLP (Physics Institute of La Plata)<br />Universidad Nacional de La Plata<br />La Plata, Argentina</div>
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p3630" class="post has-profile bg2 offline">
		<div class="inner">

		<dl class="postprofile" id="profile3630">
			<dt class="no-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlist05fa.html?mode=viewprofile&amp;u=249" class="username">dr_sferrari</a>							</dt>

									
		<dd class="profile-posts"><strong>Posts:</strong> <a href="searchd6ad.html?author_id=249&amp;sr=posts">28</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Mon Mar 29, 2010 4:13 pm</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content3630">

						<h3 ><a href="#p3630">Re: Positron  enhacement factor within semiconductors</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="posting65a8.html?mode=quote&amp;f=19&amp;p=3630" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author">
									<a class="unread" href="viewtopicc01c.html?p=3630#p3630" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlist05fa.html?mode=viewprofile&amp;u=249" class="username">dr_sferrari</a></strong> &raquo; </span>Fri May 27, 2011 6:03 pm
			</p>
			
			
			
			<div class="content">Dear Torrent,<br />My name is Sergio Ferrari and I am physicist working in positron lifetime calculations in the Univesidad Nacional de La Plata. Answering to your question: for the moment I just the modification for my own usage. Thanks you very much for the tip of how to implement the modification more formally and correctly. Since your one of the authors of the code gammapositron perhaps you should this implementation yourself and you would do it better than me (my programations skills are poor). As answering if this work: well, I firstly do a modification just entering the value of dielectric constant of ZnO directly by hand in gammapositron code, and after that I modify so to read dtset%diemac and the results were the same (using PAW and atompaw densities) the lifetime of ZnO went from 140 ps (BN in the RPA limit) to 151 ps (BN+correction for semiconductors in the RPA limit). The current experimental data on ZnO is 151 +/- 2 ps and ATSUP (atomic supeposition: a Not-self consistent method) leaves a value of 159 ps. So you can see from this results (and others I mean to calculate) that a great improvement has been made including this correction. This also proves that dtset%diemac has the correct value of the dielectric constant writen in the input file. I gently invite you then to implement this correction in the way you have described.<br /><br />Kind regards</div>
			
			
			
									
									<div id="sig3630" class="signature">Dr. Sergio Ferrari<br />Scientific Researcher  (category Assistant) - CONICET (National Council of Research in Science and Technology)<br />IFLP (Physics Institute of La Plata)<br />Universidad Nacional de La Plata<br />La Plata, Argentina</div>
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p3631" class="post has-profile bg1 offline">
		<div class="inner">

		<dl class="postprofile" id="profile3631">
			<dt class="no-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlist05fa.html?mode=viewprofile&amp;u=249" class="username">dr_sferrari</a>							</dt>

									
		<dd class="profile-posts"><strong>Posts:</strong> <a href="searchd6ad.html?author_id=249&amp;sr=posts">28</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Mon Mar 29, 2010 4:13 pm</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content3631">

						<h3 ><a href="#p3631">Re: Positron  enhacement factor within semiconductors</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="posting4ac4.html?mode=quote&amp;f=19&amp;p=3631" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author">
									<a class="unread" href="viewtopic419b.html?p=3631#p3631" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlist05fa.html?mode=viewprofile&amp;u=249" class="username">dr_sferrari</a></strong> &raquo; </span>Fri May 27, 2011 7:33 pm
			</p>
			
			
			
			<div class="content">Dear Torrent,<br />May I have a comment of one of your statements:<br /><blockquote class="uncited"><div>c) diemac is not exactly the dielectric constant; it is much more a adjustable parameter used for the preconditionning scheme of the SCF cycle. So, I'm not sure your implement will work in all cases.</div></blockquote><br />as abinit description of input variables says so about diemac (<a href="http://www.abinit.org/documentation/helpfiles/for-v6.6/input_variables/vargs.html#diemac" class="postlink">http://www.abinit.org/documentation/helpfiles/for-v6.6/input_variables/vargs.html#diemac</a>):<br /><blockquote class="uncited"><div>diemac<br />Mnemonics: model DIElectric MACroscopic constant<br />Characteristic:<br />Variable type: real parameter <br />Default is 10^6 (metallic damping).<br /><br />A rough knowledge of the macroscopic dielectric constant diemac of the system is a<strong class="text-strong"> useful help to speed-up the SCF procedure: a</strong> model dielectric function, see the keyword dielng, is used for that purpose. </div></blockquote><br />So, really diemac is the dielectric constant and  usally it used <blockquote class="uncited"><div>for the preconditionning scheme of the SCF cycle</div></blockquote> as yourself say. But also it is usefull for modifying the enhacement factor in the case of Boronski-Niememinen choice, so to include the screening of the positron in semiconductors. See that if the dielectric constant is high (as the default value is), when we recover metal behaviour (BN original formulae).  So instead of an optional use of diemac, I think it can be used allways (it will be user fault if he/she does not set the correct value of diemac so to obtain better values of positron lifetime. <br />Regards, Sergio</div>
			
			
			
									
									<div id="sig3631" class="signature">Dr. Sergio Ferrari<br />Scientific Researcher  (category Assistant) - CONICET (National Council of Research in Science and Technology)<br />IFLP (Physics Institute of La Plata)<br />Universidad Nacional de La Plata<br />La Plata, Argentina</div>
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p3633" class="post has-profile bg2 offline">
		<div class="inner">

		<dl class="postprofile" id="profile3633">
			<dt class="no-profile-rank has-avatar">
				<div class="avatar-container">
																<a href="memberlist913b.html?mode=viewprofile&amp;u=55" class="avatar"><img class="avatar" src="download/file04d0.png?avatar=55_1376078980.png" width="71" height="92" alt="User avatar" /></a>														</div>
								<a href="memberlist913b.html?mode=viewprofile&amp;u=55" class="username">torrent</a>							</dt>

									
		<dd class="profile-posts"><strong>Posts:</strong> <a href="searchf977.html?author_id=55&amp;sr=posts">127</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Fri Aug 14, 2009 7:40 pm</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content3633">

						<h3 ><a href="#p3633">Re: Positron  enhacement factor within semiconductors</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="postingafbd.html?mode=quote&amp;f=19&amp;p=3633" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author">
									<a class="unread" href="viewtopic547a.html?p=3633#p3633" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlist913b.html?mode=viewprofile&amp;u=55" class="username">torrent</a></strong> &raquo; </span>Fri May 27, 2011 11:51 pm
			</p>
			
			
			
			<div class="content">Dear Sergio,<br /><br />Thanks for your comments.<br />I'll certainly take time to implement your modification.<br />But I'm wondering if it is better to change the default behaviour of the enhancement factor or to add a new option for the ixcpositron keyword.<br />I'll probably choose the second solution, in order to keep a maximal number of choices for the user.<br /><br />Also, I'll probably add a new keyword for the dielectric constant: diemac is set to 10**6 by default and not automatically adjusted to the material.<br />It is probably better to let the user have the control of what he is doing.<br /><br />Regards,</div>
			
			
			
									
									<div id="sig3633" class="signature">Marc Torrent<br /><em class="text-italics">CEA - Bruyères-le-Chatel<br />France<br /></em></div>
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p3634" class="post has-profile bg1 offline">
		<div class="inner">

		<dl class="postprofile" id="profile3634">
			<dt class="no-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlist05fa.html?mode=viewprofile&amp;u=249" class="username">dr_sferrari</a>							</dt>

									
		<dd class="profile-posts"><strong>Posts:</strong> <a href="searchd6ad.html?author_id=249&amp;sr=posts">28</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Mon Mar 29, 2010 4:13 pm</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content3634">

						<h3 ><a href="#p3634">Re: Positron  enhacement factor within semiconductors</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="posting2eb9.html?mode=quote&amp;f=19&amp;p=3634" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author">
									<a class="unread" href="viewtopic2253.html?p=3634#p3634" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlist05fa.html?mode=viewprofile&amp;u=249" class="username">dr_sferrari</a></strong> &raquo; </span>Sat May 28, 2011 12:25 am
			</p>
			
			
			
			<div class="content">Dear Torrent,<br />Although the default value of diemac is 10^6,  you can enter by hand the value of the dielectric constant in the input file using the input variable diemac. There is now way in principle that the program could adjust the value of the dielectric constant by itself (unless it looks the composition of the material and checks the values stored in some table or database). As far as I know, theres is no  ab-initio calculation that could give the dielectric constant. So, like acell or other constants, the value of dielectric constant (diemac) is responsability of the user. Beyond that, the literature I have consulted, when calculating lifetimes with the Boronski-Niemenen enhacement factor, authors allways choose also to correct the enhacement for semiconductors; even more: as I said, the no inclusion of this correction gaves &quot;wrong&quot; values of the positron lifetime. Despite that, I can understand the decisition of expanding ixcpositron (or perhaps better, igamma=3 instead 2 for ixcpositron=1) so to user have the maximum posibilities of enhacements factors. To have this implementation can make ABINIT, as a positron lifetime calculation tool,  much more comparable to other calculation tools, because the positron lifetime  strongly depends of the enhacement factor used and for that is the importance of having the possibility of using the same enhacement factor than other programs. <br />Sorry for such extend of text, regards,<br /> Sergio</div>
			
			
			
									
									<div id="sig3634" class="signature">Dr. Sergio Ferrari<br />Scientific Researcher  (category Assistant) - CONICET (National Council of Research in Science and Technology)<br />IFLP (Physics Institute of La Plata)<br />Universidad Nacional de La Plata<br />La Plata, Argentina</div>
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
	

	<div class="action-bar bar-bottom">
	
			<a href="posting0476.html?mode=reply&amp;f=19&amp;t=1120" class="button" title="This topic is locked, you cannot edit posts or make further replies.">
							<span>Locked</span> <i class="icon fa-lock fa-fw" aria-hidden="true"></i>
					</a>
		
		<div class="dropdown-container dropdown-button-control topic-tools">
		<span title="Topic tools" class="button button-secondary dropdown-trigger dropdown-select">
			<i class="icon fa-wrench fa-fw" aria-hidden="true"></i>
			<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
		</span>
		<div class="dropdown">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
																												<li>
					<a href="viewtopic63bd-2.html?f=19&amp;t=1120&amp;view=print" title="Print view" accesskey="p">
						<i class="icon fa-print fa-fw" aria-hidden="true"></i><span>Print view</span>
					</a>
				</li>
											</ul>
		</div>
	</div>

			<form method="post" action="https://forum.abinit.org/viewtopic.php?f=19&amp;t=1120">
		<div class="dropdown-container dropdown-container-left dropdown-button-control sort-tools">
	<span title="Display and sorting options" class="button button-secondary dropdown-trigger dropdown-select">
		<i class="icon fa-sort-amount-asc fa-fw" aria-hidden="true"></i>
		<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
	</span>
	<div class="dropdown hidden">
		<div class="pointer"><div class="pointer-inner"></div></div>
		<div class="dropdown-contents">
			<fieldset class="display-options">
							<label>Display: <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select></label>
								<label>Sort by: <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select></label>
				<label>Direction: <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select></label>
								<hr class="dashed" />
				<input type="submit" class="button2" name="sort" value="Go" />
						</fieldset>
		</div>
	</div>
</div>
		</form>
	
	
	
			<div class="pagination">
			8 posts
							&bull; Page <strong>1</strong> of <strong>1</strong>
					</div>
	</div>


<div class="action-bar actions-jump">
		<p class="jumpbox-return">
		<a href="viewforum218b.html?f=19" class="left-box arrow-left" accesskey="r">
			<i class="icon fa-angle-left fa-fw icon-black" aria-hidden="true"></i><span>Return to “Improving ABINIT”</span>
		</a>
	</p>
	
		<div class="jumpbox dropdown-container dropdown-container-right dropdown-up dropdown-left dropdown-button-control" id="jumpbox">
			<span title="Jump to" class="button button-secondary dropdown-trigger dropdown-select">
				<span>Jump to</span>
				<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
			</span>
		<div class="dropdown">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
																				<li><a href="viewforumffeb.html?f=20" class="jumpbox-forum-link"> <span> News &amp; Announcements</span></a></li>
																<li><a href="viewforum8011.html?f=23" class="jumpbox-forum-link"> <span> Jobs and Other Announcements</span></a></li>
																<li><a href="viewforum58da.html?f=1" class="jumpbox-cat-link"> <span> Building ABINIT</span></a></li>
																<li><a href="viewforum4d6b.html?f=3" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Configuring and compiling ABINIT</span></a></li>
																<li><a href="viewforum31e6.html?f=4" class="jumpbox-cat-link"> <span> Running Abinit</span></a></li>
																<li><a href="viewforumfdc5.html?f=9" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Ground state</span></a></li>
																<li><a href="viewforum15ca.html?f=10" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Response calculations</span></a></li>
																<li><a href="viewforum8a83.html?f=11" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Many-body perturbation theory</span></a></li>
																<li><a href="viewforum01c9.html?f=12" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Other tools and postprocessing in ABINIT</span></a></li>
																<li><a href="viewforum345c.html?f=24" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Python interfacing : Abipy ecosystem</span></a></li>
																<li><a href="viewforum9780.html?f=14" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Link to other codes</span></a></li>
																<li><a href="viewforume774.html?f=5" class="jumpbox-cat-link"> <span> Developing Abinit</span></a></li>
																<li><a href="viewforum218b.html?f=19" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Improving ABINIT</span></a></li>
											</ul>
		</div>
	</div>

	</div>


			</div>


<div id="page-footer" class="page-footer" role="contentinfo">
	<div class="navbar navbar-bottom" role="navigation">
	<div class="inner">

	<ul id="nav-footer" class="nav-footer linklist" role="menubar">
		<li class="breadcrumbs">
									<span class="crumb"><a href="index-2.html" data-navbar-reference="index"><i class="icon fa-home fa-fw" aria-hidden="true"></i><span>Board index</span></a></span>					</li>
		
				
							<li class="rightside">
				<a href="ucp033a.html?mode=delete_cookies" data-ajax="true" data-refresh="true" role="menuitem">
					<i class="icon fa-trash fa-fw" aria-hidden="true"></i><span>Delete cookies</span>
				</a>
			</li>
				
		<li class="rightside" data-last-responsive="true"><a href="app.php/aboutus.html" role="menuitem"><i class="icon fa-info-circle fa-fw" aria-hidden="true"></i><span>About us</span></a></li>			</ul>

	</div>
</div>

	<div class="copyright">
		<script type="text/javascript">
copyright=new Date();

update=copyright.getFullYear();

document.write("Copyright\u0020\u0026copy\u003B 2009 - "+ update +	" ABINIT Discussion Forums All\u0020rights\u0020reserved.");

</script>
<br /><br />		<p class="footer-row">
			<span class="footer-copyright">Flat Style by <a href="http://phpbbstyles.oo.gd/">Ian Bradley</a></span>
		</p>
        <p class="footer-row">
			<span class="footer-copyright">Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited</span>
		</p>
						<p class="footer-row">
			<a class="footer-link" href="ucp4d86.html?mode=privacy" title="Privacy" role="menuitem">
				<span class="footer-link-text">Privacy</span>
			</a>
			|
			<a class="footer-link" href="ucp226b.html?mode=terms" title="Terms" role="menuitem">
				<span class="footer-link-text">Terms</span>
			</a>
		</p>
					</div>

	<div id="darkenwrapper" class="darkenwrapper" data-ajax-error-title="AJAX error" data-ajax-error-text="Something went wrong when processing your request." data-ajax-error-text-abort="User aborted request." data-ajax-error-text-timeout="Your request timed out; please try again." data-ajax-error-text-parsererror="Something went wrong with the request and the server returned an invalid reply.">
		<div id="darken" class="darken">&nbsp;</div>
	</div>

	<div id="phpbb_alert" class="phpbb_alert" data-l-err="Error" data-l-timeout-processing-req="Request timed out.">
		<a href="#" class="alert_close">
			<i class="icon fa-times-circle fa-fw" aria-hidden="true"></i>
		</a>
		<h3 class="alert_title">&nbsp;</h3><p class="alert_text"></p>
	</div>
	<div id="phpbb_confirm" class="phpbb_alert">
		<a href="#" class="alert_close">
			<i class="icon fa-times-circle fa-fw" aria-hidden="true"></i>
		</a>
		<div class="alert_text"></div>
	</div>
</div>

</div>

<div>
	<a id="bottom" class="anchor" accesskey="z"></a>
	</div>

<script src="assets/javascript/jquery.minaea1.js?assets_version=57"></script>
<script src="assets/javascript/coreaea1.js?assets_version=57"></script>



<script>
	(function() {
		var cx = '017804512478788106347\u003Atlftx8kncg4';
		var gcse = document.createElement('script');
		gcse.type = 'text/javascript';
		gcse.async = true;
		gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
			'//cse.google.com/cse.js?cx=' + cx;
		var s = document.getElementsByTagName('script')[0];
		s.parentNode.insertBefore(gcse, s);
	})();
</script>
<script type="text/javascript">
(function($) {  // Avoid conflicts with other libraries

'use strict';
	
	phpbb.addAjaxCallback('reporttosfs', function(data) {
		if (data.postid !== "undefined") {
			$('#sfs' + data.postid).hide();
			phpbb.closeDarkenWrapper(5000);
		}
	});

})(jQuery);
</script>
<script src="ext/hifikabin/clock/styles/all/template/js/js_clockaea1.js?assets_version=57"></script>
<script src="ext/phpbb/collapsiblecategories/styles/all/template/js/collapsiblecategoriesaea1.js?assets_version=57"></script>
<script src="styles/prosilver/template/forum_fnaea1.js?assets_version=57"></script>
<script src="styles/prosilver/template/ajaxaea1.js?assets_version=57"></script>



</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=19&t=1120&p=3633 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Sep 2024 23:43:43 GMT -->
</html>
