<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=1380&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 03:17:20 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; DOS calculation of NiO using LDA (without PAW)</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>DOS calculation of NiO using LDA (without PAW)</h2>
		<p><a href="viewtopic0d8c-2.html?f=9&amp;t=1380">https://forum.abinit.org/viewtopic.php?f=9&amp;t=1380</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>DOS calculation of NiO using LDA (without PAW)</h3>
				<div class="date">Posted: <strong>Fri Oct 21, 2011 5:21 pm</strong></div>
				<div class="author">by <strong>lamsalc</strong></div>
				<div class="content">Hi everybody<br />       I am a new user of Abinit and I am trying to get DOS for NiO. I added following lines <br />prtdos 3 natsph 4 iatsph 1 2 3 4  ratsph 3.1 3.1 2.8 2.8 <br />to the input file &quot;tldau_3.in&quot;. But I got weird graph as shown. <br />I will be grateful if some body help me in this regard.<br />Thank you,<br />lamsalc</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: DOS calculation of NiO using LDA (without PAW)</h3>
				<div class="date">Posted: <strong>Fri Oct 28, 2011 4:26 pm</strong></div>
				<div class="author">by <strong>jolafc</strong></div>
				<div class="content">Hi,<br /><br />If you modified the tldau_3.in file as you stated, I assume you obtained this .in :<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>#Spin<br />nsppol 1<br />nspden 2<br />nspinor 1<br />spinat 0 0 1<br />&nbsp; &nbsp; &nbsp; &nbsp;0 0 -1<br />&nbsp; &nbsp; &nbsp; &nbsp;0 0 0<br />&nbsp; &nbsp; &nbsp; &nbsp;0 0 0<br /><br />#Parameters<br />nstep&nbsp; 50<br />ecut 15<br />pawecutdg 30<br />iscf 17<br />toldfe 1.0d-5<br />nband&nbsp; 40<br />occopt 1<br />#tsmear 300 K<br /><br />#Structural parameters<br />natom 4<br />ntypat 2<br />typat 1 1 2 2<br />znucl 28 8<br />xred 0 0 0<br />&nbsp; &nbsp; 0.0 0.0 0.5<br />&nbsp; &nbsp; 0.5 0.5 0.25<br />&nbsp; &nbsp; 0.5 0.5 0.75<br /><br />acell&nbsp; &nbsp;3*7.92<br /><br />rprim 0.0 1/2 1/2<br />&nbsp; &nbsp; &nbsp; 1/2 0.0 1/2<br />&nbsp; &nbsp; &nbsp; 1.0 1.0 0.0<br /><br /># Kpoint Grid<br />ngkpt 2 2 2<br />chksymbreak 0&nbsp; # The k point grid is not symmetric, but the calculations being for the ground-state, this is not a problem.<br /><br /># LDA+U<br />usepawu&nbsp; &nbsp;1<br />lpawu&nbsp; &nbsp;2 -1<br />upawu&nbsp; 8.0 0.0 eV<br />jpawu&nbsp; 0.8 0.0 eV<br /><br />#Density matrix<br />usedmatpu 5<br /><br />dmatpawu<br />#Occupation matrix for spin&nbsp; 1 and atom 1<br />&nbsp; &nbsp; &nbsp;0.90036&nbsp; &nbsp; 0.00000&nbsp; &nbsp;-0.00003&nbsp; &nbsp; 0.00000&nbsp; &nbsp; 0.00000<br />&nbsp; &nbsp; &nbsp;0.00000&nbsp; &nbsp; 0.90036&nbsp; &nbsp;-0.00001&nbsp; &nbsp; 0.00000&nbsp; &nbsp; 0.00002<br />&nbsp; &nbsp; -0.00003&nbsp; &nbsp;-0.00001&nbsp; &nbsp; 0.91309&nbsp; &nbsp;-0.00001&nbsp; &nbsp; 0.00000<br />&nbsp; &nbsp; &nbsp;0.00000&nbsp; &nbsp; 0.00000&nbsp; &nbsp;-0.00001&nbsp; &nbsp; 0.90036&nbsp; &nbsp;-0.00002<br />&nbsp; &nbsp; &nbsp;0.00000&nbsp; &nbsp; 0.00002&nbsp; &nbsp; 0.00000&nbsp; &nbsp;-0.00002&nbsp; &nbsp; 0.91309<br />#Occupation matrix for spin&nbsp; 1 and atom 2<br />&nbsp; &nbsp; &nbsp;0.89677&nbsp; &nbsp;-0.00001&nbsp; &nbsp; 0.00011&nbsp; &nbsp;-0.00001&nbsp; &nbsp; 0.00000<br />&nbsp; &nbsp; -0.00001&nbsp; &nbsp; 0.89677&nbsp; &nbsp; 0.00006&nbsp; &nbsp; 0.00001&nbsp; &nbsp;-0.00010<br />&nbsp; &nbsp; &nbsp;0.00011&nbsp; &nbsp; 0.00006&nbsp; &nbsp; 0.11580&nbsp; &nbsp; 0.00006&nbsp; &nbsp; 0.00000<br />&nbsp; &nbsp; -0.00001&nbsp; &nbsp; 0.00001&nbsp; &nbsp; 0.00006&nbsp; &nbsp; 0.89677&nbsp; &nbsp; 0.00010<br />&nbsp; &nbsp; &nbsp;0.00000&nbsp; &nbsp;-0.00010&nbsp; &nbsp; 0.00000&nbsp; &nbsp; 0.00010&nbsp; &nbsp; 0.11580<br /># add to conserve old &lt; 6.7.2 behavior for calculating forces at each SCF step<br />&nbsp;optforces 1<br /><br />prtdos 3<br />natsph 4<br />iatsph 1 2 3 4<br />ratsph 3.1 3.1 2.8 2.8<br /></code></pre></div><br /><br />This calculation is (as tests should be) quite underconverged on many aspects to allow the test to run in a few seconds on a single processors. If you want meaningful results, several points need to be corrected :<br /><br />1) The cutoff energies are too low. For Nickel, the values <br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>ecut 15<br />pawecutdg 30</code></pre></div><br />should be replaced by <br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>ecut 30<br />pawecutdg 60</code></pre></div><br /><br />2) The tolerance on the total energy is high.<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>toldfe 1.0d-5</code></pre></div><br />should be replaced by<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>toldfe 1.0d-7</code></pre></div><br />(or less, but it can get difficult for an antiferromagnetic calculation)<br /><br />3) Most importantly, you should use a muh finer k-point grid. Replace :<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>ngkpt 2 2 2</code></pre></div><br />by (at least) :<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>ngkpt 8 8 4</code></pre></div><br />and then, continue to converge this parameter to higher values.<br /><br />Good luck!<br /><br />Jonathan Laflamme Janssen</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: DOS calculation of NiO using LDA (without PAW)</h3>
				<div class="date">Posted: <strong>Tue Nov 01, 2011 10:32 pm</strong></div>
				<div class="author">by <strong>lamsalc</strong></div>
				<div class="content">Hi<br />Thank you very much for the reply.</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=1380&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 03:17:20 GMT -->
</html>
