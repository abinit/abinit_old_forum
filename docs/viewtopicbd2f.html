<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=10&t=3562&p=10907 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Sep 2024 22:33:33 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1" />

<title>Use of symmetry in strain calculations - ABINIT Discussion Forums</title>


	<link rel="canonical" href="viewtopiced0a.html?t=3562">

<!--
	phpBB style name: Flat Style
	Based on style:   prosilver (this is the default phpBB3 style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:      Ian Bradley
-->

<link href="assets/css/font-awesome.minaea1.css?assets_version=57" rel="stylesheet">
<link href="styles/flat-style/theme/stylesheetaea1.css?assets_version=57" rel="stylesheet">
<link href="styles/flat-style/theme/en/stylesheetaea1.css?assets_version=57" rel="stylesheet">




<!--[if lte IE 9]>
	<link href="./styles/flat-style/theme/tweaks.css?assets_version=57" rel="stylesheet">
<![endif]-->

<meta name="google-site-verification" content="PLdTN48UENWHvJ5ViWhDTahZKzoMyw5e1QZgw1IECVw" />
<link rel="alternate" type="application/atom+xml" title="ATOM" href="app.php/smartfeed/feed.html" />
<link rel="alternate" type="application/rss+xml" title="RSS" href="app.php/smartfeed/feed9830.html?y=2" />

<link href="ext/crizzo/aboutus/styles/prosilver/theme/aboutusaea1.css?assets_version=57" rel="stylesheet" media="screen" />
<link href="ext/dmzx/topicageday/styles/prosilver/theme/topicagedayaea1.css?assets_version=57" rel="stylesheet" media="screen" />
<link href="ext/hifikabin/clock/styles/all/theme/clockaea1.css?assets_version=57" rel="stylesheet" media="screen" />
<link href="ext/hifikabin/googlesearch/styles/prosilver/theme/googlesearchaea1.css?assets_version=57" rel="stylesheet" media="screen" />
<link href="ext/kinerity/bestanswer/styles/prosilver/theme/bestansweraea1.css?assets_version=57" rel="stylesheet" media="screen" />
<link href="ext/phpbb/collapsiblecategories/styles/all/theme/collapsiblecategoriesaea1.css?assets_version=57" rel="stylesheet" media="screen" />
<link href="ext/phpbbservices/smartfeed/styles/prosilver/theme/customaea1.css?assets_version=57" rel="stylesheet" media="screen" />
<link href="ext/senky/userstatistics/styles/prosilver/theme/userstatisticsaea1.css?assets_version=57" rel="stylesheet" media="screen" />
<link href="ext/tierra/topicsolved/styles/prosilver/theme/buttonsaea1.css?assets_version=57" rel="stylesheet" media="screen" />



</head>
<body id="phpbb" class="nojs notouch section-viewtopic ltr ">


<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>
	<div id="page-header">
		<div class="headerbar" role="banner">
					<div class="inner">

			<div id="site-description">
				<a id="logo" class="logo" href="index-2.html" title="Board index"><span class="site_logo"></span></a>
				<div  class="site-description">
					<h1>ABINIT Discussion Forums</h1>
					<p>The meeting place for ABINIT users and developers</p>
					<p class="skiplink"><a href="#start_here">Skip to content</a></p>
				</div>
			</div>

			</div>
					</div>
				<div class="navbar navbar-top" role="navigation">
	<div class="inner">

	<ul id="nav-main" class="nav-main linklist" role="menubar">

		<li id="quick-links" class="quick-links dropdown-container responsive-menu" data-skip-responsive="true">
			<a href="#" class="dropdown-trigger">
				<i class="icon fa-bars fa-fw" aria-hidden="true"></i><span>Quick links</span>
			</a>
			<div class="dropdown">
				<div class="pointer"><div class="pointer-inner"></div></div>
				<ul class="dropdown-contents" role="menu">
					
											<li class="separator"></li>
																									<li>
								<a href="search33a7.html?search_id=unanswered" role="menuitem">
									<i class="icon fa-file fa-fw" aria-hidden="true"></i><span>Unanswered topics</span>
								</a>
							</li>
							<li>
								<a href="search526f.html?search_id=active_topics" role="menuitem">
									<i class="icon fa-file fa-fw" aria-hidden="true"></i><span>Active topics</span>
								</a>
							</li>
							<li class="separator"></li>
							<li>
								<a href="search.html" role="menuitem">
									<i class="icon fa-search fa-fw" aria-hidden="true"></i><span>Search</span>
								</a>
							</li>
					
										
										<li class="separator"></li>

									</ul>
			</div>
		</li>

			<li class="small-icon icon-smartfeed no-bulletin"><a href="app.php/smartfeed/ui.html">Smartfeed</a></li>		<li data-skip-responsive="true">
			<a href="app.php/help/faq.html" rel="help" title="Frequently Asked Questions" role="menuitem">
				<i class="icon fa-question-circle fa-fw" aria-hidden="true"></i><span>FAQ</span>
			</a>
		</li>
								<li data-last-responsive="true">
				<a href="https://www.abinit.org/" title="" role="menuitem" target="_blank">
				<i class="icon fa-home fa-fw" aria-hidden="true"></i><span>Main Site</span>
				</a>
			</li>
								<li data-last-responsive="true">
				<a href="https://www.abinit.org/packages" title="" role="menuitem" target="_blank">
				<i class="icon fa-download fa-fw" aria-hidden="true"></i><span>Download</span>
				</a>
			</li>
								<li data-last-responsive="true">
				<a href="https://docs.abinit.org/" title="" role="menuitem" target="_blank">
				<i class="icon fa-book fa-fw" aria-hidden="true"></i><span>Documentations</span>
				</a>
			</li>
								<li data-last-responsive="true">
				<a href="https://docs.abinit.org/tutorial/" title="" role="menuitem" target="_blank">
				<i class="icon fa-graduation-cap fa-fw" aria-hidden="true"></i><span>Tutorials</span>
				</a>
			</li>
							
			<li class="rightside"  data-skip-responsive="true">
			<a href="ucp26c3.html?mode=login" title="Login" accesskey="x" role="menuitem">
				<i class="icon fa-power-off fa-fw" aria-hidden="true"></i><span>Login</span>
			</a>
		</li>
						</ul>
    </div>
</div>

<div class="navbar" role="navigation">
	<div class="inner">
	<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks" role="menubar">
								<li class="breadcrumbs" itemscope itemtype="http://schema.org/BreadcrumbList">
										<span class="crumb"  itemtype="http://schema.org/ListItem" itemprop="itemListElement" itemscope><a href="index-2.html" itemtype="https://schema.org/Thing" itemprop="item" accesskey="h" data-navbar-reference="index"><i class="icon fa-home fa-fw"></i><span itemprop="name">Board index</span></a><meta itemprop="position" content="1" /></span>
											<span class="crumb"  itemtype="http://schema.org/ListItem" itemprop="itemListElement" itemscope data-forum-id="4"><a href="viewforum31e6.html?f=4" itemtype="https://schema.org/Thing" itemprop="item"><span itemprop="name">Running Abinit</span></a><meta itemprop="position" content="2" /></span>
															<span class="crumb"  itemtype="http://schema.org/ListItem" itemprop="itemListElement" itemscope data-forum-id="10"><a href="viewforum15ca.html?f=10" itemtype="https://schema.org/Thing" itemprop="item"><span itemprop="name">Response calculations</span></a><meta itemprop="position" content="3" /></span>
												</li>
		<li class="rightside responsive-hide">
	<div id="show-clock">
		<div id="liveclock" class="outer_face">
			<div class="marker oneseven"></div>
			<div class="marker twoeight"></div>
			<div class="marker fourten"></div>
			<div class="marker fiveeleven"></div>
			<div class="inner_face">
				<div class="hand hour"></div>
				<div class="hand minute"></div>
				<div class="hand second"></div>
			</div>
		</div>
	</div>
</li><!--[if !IE]><!-->
<li id="g-search-box" class="search-box rightside responsive-hide">
	<form action="https://forum.abinit.org/app.php/googlesearch">
	<fieldset>
		<input name="cx" type="hidden" value="017804512478788106347:tlftx8kncg4">
		<input name="q" type="search" maxlength="255" class="inputbox search tiny" value="" placeholder="Google Search ...">
		<button class="button button-search-google" type="submit" name="sitesearch" title="Google Search">
		<i class="icon fa-search fa-fw" aria-hidden="true"></i>
		</button>
	</fieldset>
</form>
</li>
<!--<![endif]-->

							<li id="search-box" class="rightside search-box responsive-hide" role="search">
				<form action="https://forum.abinit.org/search.php" method="get" id="search">
				<fieldset>
					<input name="keywords" id="keywords" type="search" maxlength="128" title="Search for keywords" class="inputbox search tiny" size="20" value="" placeholder="Search…" />
					<button class="button button-search" type="submit" title="Search">
						<i class="icon fa-search fa-fw" aria-hidden="true"></i><span class="sr-only">Search</span>
					</button>
					<a href="search.html" class="button button-search-end" title="Advanced search">
						<i class="icon fa-cog fa-fw" aria-hidden="true"></i><span class="sr-only">Advanced search</span>
					</a>
					
				</fieldset>
				</form>
			</li>

			<li class="rightside responsive-search">
				<a href="search.html" title="View the advanced search options" role="menuitem">
					<i class="icon fa-search fa-fw" aria-hidden="true"></i><span class="sr-only">Search</span>
				</a>
			</li>
					</ul>

	</div>
</div>
	</div>

	
	<a id="start_here" class="anchor"></a>
	<div id="page-body" class="page-body" role="main">
		
		﻿
<h2 class="topic-title"><a href="viewtopicb560.html?f=10&amp;t=3562">Use of symmetry in strain calculations</a>&nbsp;
<a href="viewtopic265b.html?f=10&amp;t=3562&amp;p=10908#p10908" style="color: #006600;">
	[SOLVED]
</a>
</h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body -->
<div style="display: none !important;">Phonons, DFPT, electron-phonon, electric-field response, mechanical response…<br /></div>
<p>
	<strong>Moderators:</strong> <a href="memberlist32d1.html?mode=viewprofile&amp;u=72" class="username">mverstra</a>, <a href="memberlistce31.html?mode=viewprofile&amp;u=2727" class="username">joaocarloscabreu</a>
</p>


<div class="action-bar bar-top">
	
			<a href="posting4042.html?mode=reply&amp;f=10&amp;t=3562" class="button" title="This topic is locked, you cannot edit posts or make further replies.">
							<span>Locked</span> <i class="icon fa-lock fa-fw" aria-hidden="true"></i>
					</a>
	
			<div class="dropdown-container dropdown-button-control topic-tools">
		<span title="Topic tools" class="button button-secondary dropdown-trigger dropdown-select">
			<i class="icon fa-wrench fa-fw" aria-hidden="true"></i>
			<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
		</span>
		<div class="dropdown">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
																												<li>
					<a href="viewtopic829b-2.html?f=10&amp;t=3562&amp;view=print" title="Print view" accesskey="p">
						<i class="icon fa-print fa-fw" aria-hidden="true"></i><span>Print view</span>
					</a>
				</li>
											</ul>
		</div>
	</div>
	
			<div class="search-box" role="search">
			<form method="get" id="topic-search" action="https://forum.abinit.org/search.php">
			<fieldset>
				<input class="inputbox search tiny"  type="search" name="keywords" id="search_keywords" size="20" placeholder="Search this topic…" />
				<button class="button button-search" type="submit" title="Search">
					<i class="icon fa-search fa-fw" aria-hidden="true"></i><span class="sr-only">Search</span>
				</button>
				<a href="search.html" class="button button-search-end" title="Advanced search">
					<i class="icon fa-cog fa-fw" aria-hidden="true"></i><span class="sr-only">Advanced search</span>
				</a>
				<input type="hidden" name="t" value="3562" />
<input type="hidden" name="sf" value="msgonly" />

			</fieldset>
			</form>
		</div>
	
			<div class="pagination">
			4 posts
							&bull; Page <strong>1</strong> of <strong>1</strong>
					</div>
		</div>




			<div id="p10785" class="post has-profile bg2 offline">
		<div class="inner">

		<dl class="postprofile" id="profile10785">
			<dt class="no-profile-rank has-avatar">
				<div class="avatar-container">
																<a href="memberlistc2d1.html?mode=viewprofile&amp;u=64" class="avatar"><img class="avatar" src="download/file8810.jpg?avatar=64_1334681793.jpg" width="92" height="61" alt="User avatar" /></a>														</div>
								<a href="memberlistc2d1.html?mode=viewprofile&amp;u=64" class="username">jzwanzig</a>							</dt>

									
		<dd class="profile-posts"><strong>Posts:</strong> <a href="search9859.html?author_id=64&amp;sr=posts">504</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Mon Aug 17, 2009 9:25 am</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content10785">

						<h3 class="first"><a href="#p10785">Use of symmetry in strain calculations</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="postingd53a.html?mode=quote&amp;f=10&amp;p=10785" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author">
									<a class="unread" href="viewtopic8b86.html?p=10785#p10785" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlistc2d1.html?mode=viewprofile&amp;u=64" class="username">jzwanzig</a></strong> &raquo; </span>Wed Apr 12, 2017 4:39 pm
			</p>
			
			
			
			<div class="content">Hi, can someone shed light on the use symmetry in the rfstrs (strain) DFPT calculation? My example is aluminum--an FCC cell, only 1 atom in the primitive cell. Questions arising:<br /><br />1) The code with rfstrs 3 runs all 6 strain calculations, though by symmetry for this crystal I would think fewer would be needed (for example, in the rfelfd case on an FCC crystal, such as NaCl, only one direction is calculated even with rfdir 1 1 1, with the other two reconstructed by symmetry). Why is symmetry over ipert not used in this case?<br /><br />2) For the 6 calculations, the first 3 should give the same energy (longitudinal strain) while the second three should also give the same energy (shear strain). But they only do to about 6 digits of precision. I've tried hard to converge better, including a very dense kpt set, empty bands, and so forth. What this leads to is that the ultimate elastic tensor computed by anaddb is almost but not quite as symmetric as it should be--some elements that should be equal are equal only to a part in 10^6, likewise elements that should be identically zero are close to zero but not at machine precision. Why would these energies differ to this level?<br /><br />3) Following question 2, it would appear that the final elastic tensor is not symmetrized according to the space group in use. Why is that? (can't be done, or hasn't been done, or shouldn't be done, or something else?)<br /><br />thanks,<br />Joe<br /><br />In addition I find that the symmetry breaking is quite dependent on the primitive unit cell orientation choice. For example, if I use the abinit conventional FCC construction using acell and rprim of 0 1/2 1/2, 1/2 0 1/2, 1/2 1/2 0, I get a small amount of symmetry breaking as noted before. But if I use acell and angdeg 3*60, the longitudinal symmetry breaking is about 1 part in 1000, which is quite a lot. In both cases the symmetry finder correctly identifies an fcc cell.<br /><br />Joe</div>
			
			
			
													<div class="notice">
					Last edited by <a href="memberlistc2d1.html?mode=viewprofile&amp;u=64" class="username">jzwanzig</a> on Thu Apr 13, 2017 7:08 pm, edited 1 time in total.
									</div>
			
									<div id="sig10785" class="signature">Josef W. Zwanziger<br />Professor, Department of Chemistry<br />Canada Research Chair in NMR Studies of Materials<br />Dalhousie University<br />Halifax, NS B3H 4J3 Canada<br /><!-- e --><a href="mailto:jzwanzig@gmail.com">jzwanzig@gmail.com</a><!-- e --></div>
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p10838" class="post has-profile bg1 offline">
		<div class="inner">

		<dl class="postprofile" id="profile10838">
			<dt class="no-profile-rank has-avatar">
				<div class="avatar-container">
																<a href="memberlistc2d1.html?mode=viewprofile&amp;u=64" class="avatar"><img class="avatar" src="download/file8810.jpg?avatar=64_1334681793.jpg" width="92" height="61" alt="User avatar" /></a>														</div>
								<a href="memberlistc2d1.html?mode=viewprofile&amp;u=64" class="username">jzwanzig</a>							</dt>

									
		<dd class="profile-posts"><strong>Posts:</strong> <a href="search9859.html?author_id=64&amp;sr=posts">504</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Mon Aug 17, 2009 9:25 am</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content10838">

						<h3 ><a href="#p10838">Re: Use of symmetry in strain calculations</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="posting8b9d.html?mode=quote&amp;f=10&amp;p=10838" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author">
									<a class="unread" href="viewtopic1b83.html?p=10838#p10838" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlistc2d1.html?mode=viewprofile&amp;u=64" class="username">jzwanzig</a></strong> &raquo; </span>Wed Apr 26, 2017 10:13 pm
			</p>
			
			
			
			<div class="content">OK, after much work, I think I understand what abinit is doing.<br /><br />a) there is no symmetry breaking in the strain code. The elastic tensor that comes out is symmetry-correct (I checked this carefully by writing python code that did a full symmetry projection of the elastic tensor using all the space group operators).<br /><br />b) What does happen is that if your input rprim's are not aligned nicely with a &quot;laboratory&quot; frame, then the resulting elastic tensor will not look like the text book examples. Thus for instance: consider a simple orthorhombic case. If your rprim's are (1,0,0), (0,1,0), (0,0,1), then your crystal frame is aligned nicely with respect to an imaginary lab frame, and if you measured the elastic tensor elements, your measurements would align with the crystal axes and you would get the standard elastic tensor pattern for an orthorhombic crystal. However, if you chose to describe your crystal with rprim = (1/sqrt(2),1/sqrt(2),0); (-1/sqrt(2),1/sqrt(2),0),(0,0,1), then your elastic tensor would &quot;look&quot; strange, but still be correct, because your crystal axes do not line up nicely with a lab frame. It is not wrong to do this, as long as you interpret the elastic tensor appropriately. I checked this by computing the elastic tensor with a simple alignment, and in a non-standard alignment, and then rotating the non-standard tensor back to the standard alignment by hand (well, by Python).<br /><br />c) It is &quot;safest&quot; to align rprim as outlined in for example Bradley and Cracknell for each crystal class, before running abinit. Abinit will give the correct answer in all cases regardless, but by pre-aligning the rprim's, the answers will be easiest to interpret.<br /><br />d) I am considering cleaning up the anaddb output to take the above into account, but am not sure it's worth the effort. Have to think about this (this would require determining the crystal class from rprim, checking whether the input rprim followed the conventional alignment, determining the necessary rotation operator if not, and applying this operator to the elastic tensor computed in anaddb).<br /><br />If anyone reads the stuff I post here, thanks!<br /><br />Joe</div>
			
			
			
									
									<div id="sig10838" class="signature">Josef W. Zwanziger<br />Professor, Department of Chemistry<br />Canada Research Chair in NMR Studies of Materials<br />Dalhousie University<br />Halifax, NS B3H 4J3 Canada<br /><!-- e --><a href="mailto:jzwanzig@gmail.com">jzwanzig@gmail.com</a><!-- e --></div>
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p10907" class="post has-profile bg2 offline">
		<div class="inner">

		<dl class="postprofile" id="profile10907">
			<dt class="no-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlist32d1.html?mode=viewprofile&amp;u=72" class="username">mverstra</a>							</dt>

									
		<dd class="profile-posts"><strong>Posts:</strong> <a href="search1bef.html?author_id=72&amp;sr=posts">655</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Wed Aug 19, 2009 12:01 pm</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content10907">

						<h3 ><a href="#p10907">Re: Use of symmetry in strain calculations</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="posting7df1.html?mode=quote&amp;f=10&amp;p=10907" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author">
									<a class="unread" href="viewtopic78e0.html?p=10907#p10907" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlist32d1.html?mode=viewprofile&amp;u=72" class="username">mverstra</a></strong> &raquo; </span>Fri May 19, 2017 12:15 pm
			</p>
			
			
			
			<div class="content">Hi Joe,<br /><br />Sounds like you have sorted things out in principle at least. It is a bit disappointing that we only get 5-6 digits, but perhaps that's inevitable for delicate calculations like elastic constants. We should be able to symmetrize them after the fact, though, and impose all digits being equal, shouldn't we?<br /><br />For the alignment in the anaddb output, it will not be too hard - the spgroup and class are already available inside abinit subroutines. Hard coding the Cracknell will be the longer part - how many of these are there? Also, for the output, I would be careful to be very explicit and tell the user that the axes have been realigned - if they expect something from their orientation, or are making a supercell on purpose whose axes are rotated they will not understand the output, and may mix up c11 c12 and more which become linear combinations of what they expect...<br /><br />If you want to discuss the equations or choices I am here (or wherever)<br /><br />Best<br /><br />Matthieu</div>
			
			
			
									
									<div id="sig10907" class="signature">Matthieu Verstraete<br />University of Liege, Belgium</div>
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p10908" class="post has-profile bg1 offline">
		<div class="inner">

		<dl class="postprofile" id="profile10908">
			<dt class="no-profile-rank has-avatar">
				<div class="avatar-container">
																<a href="memberlistc2d1.html?mode=viewprofile&amp;u=64" class="avatar"><img class="avatar" src="download/file8810.jpg?avatar=64_1334681793.jpg" width="92" height="61" alt="User avatar" /></a>														</div>
								<a href="memberlistc2d1.html?mode=viewprofile&amp;u=64" class="username">jzwanzig</a>							</dt>

									
		<dd class="profile-posts"><strong>Posts:</strong> <a href="search9859.html?author_id=64&amp;sr=posts">504</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Mon Aug 17, 2009 9:25 am</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content10908">

						<h3 ><a href="#p10908">Re: Use of symmetry in strain calculations&nbsp;&nbsp;<span style="color: #006600">[SOLVED]</span></a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="postinga21b.html?mode=quote&amp;f=10&amp;p=10908" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author">
									<a class="unread" href="viewtopic2077.html?p=10908#p10908" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlistc2d1.html?mode=viewprofile&amp;u=64" class="username">jzwanzig</a></strong> &raquo; </span>Fri May 19, 2017 12:38 pm
			</p>
			
			
			
			<div class="content">Hi,<br /><br />yes, I think in anaddb the elastic tensors could be symmetrized pretty easily, that would clean the output (but it would still &quot;look&quot; non-standard if the cell was not aligned in a nice way).<br /><br />As for cell alignment, there are (I think) just the 14 crystal classes to consider. I've been back and forth on this one, and came to the conclusion that it's probably not worth the effort to code into anaddb. Those who know well should quickly understand the issue (well, I guess I should have known well but it took me a bunch of work to explain it to myself). What I have done is added an explanatory comment to the elastic tutorial, detailing how and why this behavior happens. To be honest, at this point, given all the other things I have to do, and the fact that the output of abinit is correct (but you do have to understand it properly, as usual) I wouldn't want to invest time into this. Symmetrizing the tensor output would be less work though and that might be worth doing.<br /><br />Joe</div>
			
			
			
									
									<div id="sig10908" class="signature">Josef W. Zwanziger<br />Professor, Department of Chemistry<br />Canada Research Chair in NMR Studies of Materials<br />Dalhousie University<br />Halifax, NS B3H 4J3 Canada<br /><!-- e --><a href="mailto:jzwanzig@gmail.com">jzwanzig@gmail.com</a><!-- e --></div>
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
	

	<div class="action-bar bar-bottom">
	
			<a href="posting4042.html?mode=reply&amp;f=10&amp;t=3562" class="button" title="This topic is locked, you cannot edit posts or make further replies.">
							<span>Locked</span> <i class="icon fa-lock fa-fw" aria-hidden="true"></i>
					</a>
		
		<div class="dropdown-container dropdown-button-control topic-tools">
		<span title="Topic tools" class="button button-secondary dropdown-trigger dropdown-select">
			<i class="icon fa-wrench fa-fw" aria-hidden="true"></i>
			<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
		</span>
		<div class="dropdown">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
																												<li>
					<a href="viewtopic829b-2.html?f=10&amp;t=3562&amp;view=print" title="Print view" accesskey="p">
						<i class="icon fa-print fa-fw" aria-hidden="true"></i><span>Print view</span>
					</a>
				</li>
											</ul>
		</div>
	</div>

			<form method="post" action="https://forum.abinit.org/viewtopic.php?f=10&amp;t=3562">
		<div class="dropdown-container dropdown-container-left dropdown-button-control sort-tools">
	<span title="Display and sorting options" class="button button-secondary dropdown-trigger dropdown-select">
		<i class="icon fa-sort-amount-asc fa-fw" aria-hidden="true"></i>
		<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
	</span>
	<div class="dropdown hidden">
		<div class="pointer"><div class="pointer-inner"></div></div>
		<div class="dropdown-contents">
			<fieldset class="display-options">
							<label>Display: <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select></label>
								<label>Sort by: <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select></label>
				<label>Direction: <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select></label>
								<hr class="dashed" />
				<input type="submit" class="button2" name="sort" value="Go" />
						</fieldset>
		</div>
	</div>
</div>
		</form>
	
	
	
			<div class="pagination">
			4 posts
							&bull; Page <strong>1</strong> of <strong>1</strong>
					</div>
	</div>


<div class="action-bar actions-jump">
		<p class="jumpbox-return">
		<a href="viewforum15ca.html?f=10" class="left-box arrow-left" accesskey="r">
			<i class="icon fa-angle-left fa-fw icon-black" aria-hidden="true"></i><span>Return to “Response calculations”</span>
		</a>
	</p>
	
		<div class="jumpbox dropdown-container dropdown-container-right dropdown-up dropdown-left dropdown-button-control" id="jumpbox">
			<span title="Jump to" class="button button-secondary dropdown-trigger dropdown-select">
				<span>Jump to</span>
				<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
			</span>
		<div class="dropdown">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
																				<li><a href="viewforumffeb.html?f=20" class="jumpbox-forum-link"> <span> News &amp; Announcements</span></a></li>
																<li><a href="viewforum8011.html?f=23" class="jumpbox-forum-link"> <span> Jobs and Other Announcements</span></a></li>
																<li><a href="viewforum58da.html?f=1" class="jumpbox-cat-link"> <span> Building ABINIT</span></a></li>
																<li><a href="viewforum4d6b.html?f=3" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Configuring and compiling ABINIT</span></a></li>
																<li><a href="viewforum31e6.html?f=4" class="jumpbox-cat-link"> <span> Running Abinit</span></a></li>
																<li><a href="viewforumfdc5.html?f=9" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Ground state</span></a></li>
																<li><a href="viewforum15ca.html?f=10" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Response calculations</span></a></li>
																<li><a href="viewforum8a83.html?f=11" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Many-body perturbation theory</span></a></li>
																<li><a href="viewforum01c9.html?f=12" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Other tools and postprocessing in ABINIT</span></a></li>
																<li><a href="viewforum345c.html?f=24" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Python interfacing : Abipy ecosystem</span></a></li>
																<li><a href="viewforum9780.html?f=14" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Link to other codes</span></a></li>
																<li><a href="viewforume774.html?f=5" class="jumpbox-cat-link"> <span> Developing Abinit</span></a></li>
																<li><a href="viewforum218b.html?f=19" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Improving ABINIT</span></a></li>
											</ul>
		</div>
	</div>

	</div>


			</div>


<div id="page-footer" class="page-footer" role="contentinfo">
	<div class="navbar navbar-bottom" role="navigation">
	<div class="inner">

	<ul id="nav-footer" class="nav-footer linklist" role="menubar">
		<li class="breadcrumbs">
									<span class="crumb"><a href="index-2.html" data-navbar-reference="index"><i class="icon fa-home fa-fw" aria-hidden="true"></i><span>Board index</span></a></span>					</li>
		
				
							<li class="rightside">
				<a href="ucp033a.html?mode=delete_cookies" data-ajax="true" data-refresh="true" role="menuitem">
					<i class="icon fa-trash fa-fw" aria-hidden="true"></i><span>Delete cookies</span>
				</a>
			</li>
				
		<li class="rightside" data-last-responsive="true"><a href="app.php/aboutus.html" role="menuitem"><i class="icon fa-info-circle fa-fw" aria-hidden="true"></i><span>About us</span></a></li>			</ul>

	</div>
</div>

	<div class="copyright">
		<script type="text/javascript">
copyright=new Date();

update=copyright.getFullYear();

document.write("Copyright\u0020\u0026copy\u003B 2009 - "+ update +	" ABINIT Discussion Forums All\u0020rights\u0020reserved.");

</script>
<br /><br />		<p class="footer-row">
			<span class="footer-copyright">Flat Style by <a href="http://phpbbstyles.oo.gd/">Ian Bradley</a></span>
		</p>
        <p class="footer-row">
			<span class="footer-copyright">Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited</span>
		</p>
						<p class="footer-row">
			<a class="footer-link" href="ucp4d86.html?mode=privacy" title="Privacy" role="menuitem">
				<span class="footer-link-text">Privacy</span>
			</a>
			|
			<a class="footer-link" href="ucp226b.html?mode=terms" title="Terms" role="menuitem">
				<span class="footer-link-text">Terms</span>
			</a>
		</p>
					</div>

	<div id="darkenwrapper" class="darkenwrapper" data-ajax-error-title="AJAX error" data-ajax-error-text="Something went wrong when processing your request." data-ajax-error-text-abort="User aborted request." data-ajax-error-text-timeout="Your request timed out; please try again." data-ajax-error-text-parsererror="Something went wrong with the request and the server returned an invalid reply.">
		<div id="darken" class="darken">&nbsp;</div>
	</div>

	<div id="phpbb_alert" class="phpbb_alert" data-l-err="Error" data-l-timeout-processing-req="Request timed out.">
		<a href="#" class="alert_close">
			<i class="icon fa-times-circle fa-fw" aria-hidden="true"></i>
		</a>
		<h3 class="alert_title">&nbsp;</h3><p class="alert_text"></p>
	</div>
	<div id="phpbb_confirm" class="phpbb_alert">
		<a href="#" class="alert_close">
			<i class="icon fa-times-circle fa-fw" aria-hidden="true"></i>
		</a>
		<div class="alert_text"></div>
	</div>
</div>

</div>

<div>
	<a id="bottom" class="anchor" accesskey="z"></a>
	</div>

<script src="assets/javascript/jquery.minaea1.js?assets_version=57"></script>
<script src="assets/javascript/coreaea1.js?assets_version=57"></script>



<script>
	(function() {
		var cx = '017804512478788106347\u003Atlftx8kncg4';
		var gcse = document.createElement('script');
		gcse.type = 'text/javascript';
		gcse.async = true;
		gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
			'//cse.google.com/cse.js?cx=' + cx;
		var s = document.getElementsByTagName('script')[0];
		s.parentNode.insertBefore(gcse, s);
	})();
</script>
<script type="text/javascript">
(function($) {  // Avoid conflicts with other libraries

'use strict';
	
	phpbb.addAjaxCallback('reporttosfs', function(data) {
		if (data.postid !== "undefined") {
			$('#sfs' + data.postid).hide();
			phpbb.closeDarkenWrapper(5000);
		}
	});

})(jQuery);
</script>
<script src="ext/hifikabin/clock/styles/all/template/js/js_clockaea1.js?assets_version=57"></script>
<script src="ext/phpbb/collapsiblecategories/styles/all/template/js/collapsiblecategoriesaea1.js?assets_version=57"></script>
<script src="styles/prosilver/template/forum_fnaea1.js?assets_version=57"></script>
<script src="styles/prosilver/template/ajaxaea1.js?assets_version=57"></script>



</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=10&t=3562&p=10907 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Sep 2024 22:33:33 GMT -->
</html>
