<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=3&t=1467&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 03:55:53 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; netcdf tarball not found in config of 10.6.3</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>netcdf tarball not found in config of 10.6.3</h2>
		<p><a href="viewtopic03d5.html?f=3&amp;t=1467">https://forum.abinit.org/viewtopic.php?f=3&amp;t=1467</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>netcdf tarball not found in config of 10.6.3</h3>
				<div class="date">Posted: <strong>Mon Dec 12, 2011 11:34 pm</strong></div>
				<div class="author">by <strong>paulfons</strong></div>
				<div class="content">This problem has me stumped.  I have been trying to build 10.6.3 under OpenSuse 11.3 using the usual gcc with the configuration line<br /><br />./configure --prefix=/opt --with-mpi-prefix=/usr/lib64/mpi/gcc/openmpi --with-fallbacks-tardir=~/.abinit/tarballs --with-linalg-flavor=mkl --enable-fallbacks<br /><br />Both curl and wget are installed and work fine (I just downloaded the abinit source using them).  The configure script fails when it gets to the netcdf library and even though I have specified the fallback library *and* netcdf is there for some reason the configure script does not see it.  As I demonstrate below, listing the directory shows that all of the necessary sources for the plugins are there and then some.  Any suggestions on what is going wrong and how to fix it?   The configure output is attached below.  <br /><br /><br /><br />~/abinit/abinit-6.10.3&gt; ./configure --prefix=/opt --with-mpi-prefix=/usr/lib64/mpi/gcc/openmpi --with-fallbacks-tardir=~/.abinit/tarballs --with-linalg-flavor=mkl --enable-fallbacks<br /><br /> ==============================================================================<br /> === Overall startup                                                        ===<br /> ==============================================================================<br /><br />checking build system type... x86_64-unknown-linux-gnu<br />checking host system type... x86_64-unknown-linux-gnu<br />checking target system type... x86_64-unknown-linux-gnu<br />checking for a BSD-compatible install... /usr/bin/install -c<br />checking whether build environment is sane... yes<br />checking for a thread-safe mkdir -p... /bin/mkdir -p<br />checking for gawk... gawk<br />checking whether make sets $(MAKE)... yes<br />checking whether make sets $(MAKE)... (cached) yes<br />checking whether ln -s works... yes<br />checking for a sed that does not truncate output... /usr/bin/sed<br />checking for gawk... (cached) gawk<br />checking for grep that handles long lines and -e... /usr/bin/grep<br />checking for egrep... /usr/bin/grep -E<br />configure: not loading options (no config file available)<br /><br /> ==============================================================================<br /> === Build-system information                                               ===<br /> ==============================================================================<br /><br />configure: ABINIT version 6.10.3<br />configure: M4 010416 - Autoconf 026800 - Automake 011100 - Libtool 020204<br />configure: reporting user interface changes:<br />configure:  * new option --enable-gw-openmp is available<br /><br /> ==============================================================================<br /> === Option consistency checking                                            ===<br /> ==============================================================================<br /><br />configure: checking consistency of library-related options<br />configure:  |---&gt; all OK<br />configure: <br />configure: checking consistency of plug-in options<br />configure:  |---&gt; all OK<br />configure: <br />configure: checking consistency of experimental options<br />configure:  |---&gt; all OK<br />configure: <br />configure:  |---&gt; all OK<br />configure: <br />configure: parsing command-line options<br /><br /> ==============================================================================<br /> === Connector startup                                                      ===<br /> ==============================================================================<br /><br />configure: MPI support disabled from command-line<br />configure: GPU support disabled from command-line<br /><br /> ==============================================================================<br /> === Utilities                                                              ===<br /> ==============================================================================<br /><br />checking for sh... /usr/bin/sh<br />checking for mv... /bin/mv<br />checking for perl... /usr/bin/perl<br />checking for rm... /bin/rm<br />checking for dvips... no<br />checking for dvipdf... dvipdf<br />checking for latex... no<br />checking for markdown... no<br />checking for patch... patch<br />checking for ps2pdf... ps2pdf<br />checking for tar... tar<br />checking for wget... wget<br />checking for curl... curl<br />configure: using internal version of MarkDown<br /><br /> ==============================================================================<br /> === C support                                                              ===<br /> ==============================================================================<br /><br />checking for gcc... gcc<br />checking whether the C compiler works... yes<br />checking for C compiler default output file name... a.out<br />checking for suffix of executables... <br />checking whether we are cross compiling... no<br />checking for suffix of object files... o<br />checking whether we are using the GNU C compiler... yes<br />checking whether gcc accepts -g... yes<br />checking for gcc option to accept ISO C89... none needed<br />checking for style of include used by make... GNU<br />checking dependency style of gcc... gcc3<br />checking how to run the C preprocessor... gcc -E<br />checking which type of compiler we have... gnu 4.5<br />checking for ANSI C header files... yes<br />checking for sys/types.h... yes<br />checking for sys/stat.h... yes<br />checking for stdlib.h... yes<br />checking for string.h... yes<br />checking for memory.h... yes<br />checking for strings.h... yes<br />checking for inttypes.h... yes<br />checking for stdint.h... yes<br />checking for unistd.h... yes<br />checking whether byte ordering is bigendian... no<br /><br /> ==============================================================================<br /> === C++ support                                                            ===<br /> ==============================================================================<br /><br />checking for g++... g++<br />checking whether we are using the GNU C++ compiler... yes<br />checking whether g++ accepts -g... yes<br />checking dependency style of g++... gcc3<br />checking which type of C++ compiler we have... gnu 4.5<br /><br /> ==============================================================================<br /> === Fortran support                                                        ===<br /> ==============================================================================<br /><br />checking for gfortran... gfortran<br />checking whether we are using the GNU Fortran compiler... yes<br />checking whether gfortran accepts -g... yes<br />checking which type of Fortran compiler we have... gnu 4.5<br />checking fortran 90 modules extension... mod<br />checking for Fortran flag to compile .F90 files... none<br />configure: determining Fortran module case<br />checking whether Fortran modules are upper-case... no<br />checking how to get verbose linking output from gfortran... -v<br />checking for Fortran libraries of gfortran...  -L/usr/lib64/gcc/x86_64-suse-linux/4.5 -L/usr/lib64/gcc/x86_64-suse-linux/4.5/../../../../lib64 -L/lib/../lib64 -L/usr/lib/../lib64 -L/opt/intel/composerxe-2011.3.174/compiler/lib/intel64 -L/opt/intel/composerxe-2011.3.174/mkl/lib/intel64 -L/opt/intel/composerxe-2011.3.174/ipp/../compiler/lib/intel64 -L/opt/intel/composerxe-2011.3.174/ipp/lib/intel64 -L/opt/intel/composerxe-2011.3.174/tbb/lib/intel64//cc4.1.0_libc2.4_kernel2.6.16.21 -L/usr/lib64/gcc/x86_64-suse-linux/4.5/../../../../x86_64-suse-linux/lib -L/usr/lib64/gcc/x86_64-suse-linux/4.5/../../.. -lgfortran -lm<br />checking for dummy main to link with Fortran libraries... none<br />checking for Fortran name-mangling scheme... lower case, underscore, no extra underscore<br /><br /> ==============================================================================<br /> === Python support                                                         ===<br /> ==============================================================================<br /><br />checking for python... python<br />checking for Python CPPFLAGS... -I/usr/include/python2.7 -I/usr/lib64/python2.7/site-packages/numpy/core/include<br />checking for bzr... no<br />checking for Python NumPy headers... not found<br />checking numarray/arrayobject.h usability... no<br />checking numarray/arrayobject.h presence... no<br />checking for numarray/arrayobject.h... no<br /><br /> ==============================================================================<br /> === Libraries and linking                                                  ===<br /> ==============================================================================<br /><br />checking for ar... ar<br />checking for ranlib... ranlib<br /><br /> ==============================================================================<br /> === Hints                                                                  ===<br /> ==============================================================================<br /><br />checking for cpp... cpp<br />checking for a true C preprocessor... cpp<br />checking which cpp hints to apply... default/default/default<br />checking which cc hints to apply... gnu/default/default<br />checking which xpp hints to apply... none/none/none<br />checking which cxx hints to apply... gnu/default/default<br />checking which fpp hints to apply... default/default/default<br />checking which fc hints to apply... gnu/4.5/default<br />checking which ar hints to apply... none/none/none<br />checking which Fortran preprocessor to use... <br />checking which Fortran preprocessor flags to apply... <br />checking whether to wrap Fortran compiler calls... no<br /><br /> ==============================================================================<br /> === Debugging                                                              ===<br /> ==============================================================================<br /><br />checking debugging status... enabled (profile mode: basic)<br />configure: setting C debug flags to '-g'<br />configure: setting C++ debug flags to '-g'<br />configure: setting Fortran debug flags to '-g'<br />checking whether to activate debug mode in source files... no<br />checking which cc debug flags to apply... gnu/default/default<br />checking which cxx debug flags to apply... none/none/none<br />checking which fc debug flags to apply... gnu/default/default<br />checking whether to activate design-by-contract debugging... no<br /><br /> ==============================================================================<br /> === Optimizations                                                          ===<br /> ==============================================================================<br /><br />checking optimization status... enabled (profile mode: standard)<br />checking which cc optimizations to apply... gnu/default/default<br />checking which cxx optimizations to apply... gnu/default/default<br />checking which fc optimizations to apply... gnu/4.5/default<br />checking whether to apply per-directory optimizations... yes<br /><br /> ==============================================================================<br /> === 64-bit support                                                         ===<br /> ==============================================================================<br /><br />checking for a 64-bit architecture... yes<br />checking whether to use 64-bit flags... no<br />checking for user-defined 64-bit flags... <br /><br /> ==============================================================================<br /> === Build flags                                                            ===<br /> ==============================================================================<br /><br />configure: static builds may be performed<br /><br /> ==============================================================================<br /> === Advanced compiler features                                             ===<br /> ==============================================================================<br /><br />checking stddef.h usability... yes<br />checking stddef.h presence... yes<br />checking for stddef.h... yes<br />checking stdarg.h usability... yes<br />checking stdarg.h presence... yes<br />checking for stdarg.h... yes<br />checking stdio.h usability... yes<br />checking stdio.h presence... yes<br />checking for stdio.h... yes<br />checking math.h usability... yes<br />checking math.h presence... yes<br />checking for math.h... yes<br />checking termios.h usability... yes<br />checking termios.h presence... yes<br />checking for termios.h... yes<br />checking errno.h usability... yes<br />checking errno.h presence... yes<br />checking for errno.h... yes<br />checking malloc.h usability... yes<br />checking malloc.h presence... yes<br />checking for malloc.h... yes<br />checking sys/malloc.h usability... no<br />checking sys/malloc.h presence... no<br />checking for sys/malloc.h... no<br />checking mcheck.h usability... yes<br />checking mcheck.h presence... yes<br />checking for mcheck.h... yes<br />checking sys/time.h usability... yes<br />checking sys/time.h presence... yes<br />checking for sys/time.h... yes<br />checking sys/resource.h usability... yes<br />checking sys/resource.h presence... yes<br />checking for sys/resource.h... yes<br />checking for abort... yes<br />checking for mallinfo... yes<br />checking size of char... 1<br />checking size of short... 2<br />checking size of int... 4<br />checking size of long... 8<br />checking size of long long... 8<br />checking size of unsigned int... 4<br />checking size of unsigned long... 8<br />checking size of unsigned long long... 8<br />checking size of float... 4<br />checking size of double... 8<br />checking size of long double... 16<br />checking size of size_t... 8<br />checking size of ptrdiff_t... 8<br />checking for an ANSI C-conforming const... yes<br />checking for size_t... yes<br />checking whether the Fortran compiler supports allocatable arrays in datatypes... yes<br />checking whether the Fortran compiler provides the iso_c_binding module... yes<br />checking whether the Fortran compiler accepts exit()... yes<br />checking whether the Fortran compiler accepts flush()... yes<br />checking whether the Fortran compiler accepts flush_()... no<br />checking whether the Fortran compiler accepts gamma()... yes<br />checking whether the Fortran compiler accepts getenv()... yes<br />checking whether the Fortran compiler accepts getpid()... no<br />checking whether the Fortran compiler accepts the null() intrinsic... yes<br />checking whether the Fortran compiler accepts quadruple integers... yes<br />checking whether the Fortran compiler accepts long lines... yes<br />checking whether the Fortran compiler supports stream IO... yes<br />checking whether the Fortran compiler accepts cpu_time()... yes<br />checking whether the Fortran compiler accepts etime()... no<br />checking whether to use C clock for timings... no<br /><br /> ==============================================================================<br /> === Connectors / Fallbacks                                                 ===<br /> ==============================================================================<br /><br />checking whether MPI is usable... no<br />checking whether to build MPI code... no<br />checking whether the MPI library supports MPI_CREATE_TYPE_STRUCT... no<br />checking whether to activate GPU support... no<br />checking for the requested transferable I/O support... netcdf+etsf_io<br />checking netcdf.h usability... no<br />checking netcdf.h presence... no<br />checking for netcdf.h... no<br />checking for library containing nc_open... no<br />checking for Fortran module includes... unknown<br />configure: WARNING: falling back to internal netcdf version<br />configure: WARNING: ETSF_IO requires missing NetCDF support<br />configure: WARNING: falling back to internal etsf_io version<br />checking for the actual transferable I/O support... netcdf-fallback+etsf_io-fallback<br />checking for the requested timer support... abinit<br />checking for the actual timer support... abinit<br />checking for the requested linear algebra support... mkl<br />checking for library containing zgemm... -lmkl_intel_lp64<br />checking for library containing zhpev... -lmkl_intel_lp64<br />checking whether we have a serial linear algebra support... yes<br />checking whether we have a parallel linear algebra support... no<br />checking for the actual linear algebra support... mkl<br />checking for the requested math support... none<br />checking for the actual math support... none<br />checking for the requested FFT support... none<br />checking for the actual FFT support... none<br />checking for the requested DFT support... atompaw+bigdft+libxc+wannier90<br />checking xc.h usability... no<br />checking xc.h presence... no<br />checking for xc.h... no<br />checking xc_funcs.h usability... no<br />checking xc_funcs.h presence... no<br />checking for xc_funcs.h... no<br />checking for library containing xc_func_init... no<br />checking for Fortran module includes... unknown<br />configure: WARNING: falling back to internal libxc version<br />configure: WARNING: AtomPAW recommends missing LibXC support<br />checking for atompaw... no<br />checking for graphatom... no<br />configure: WARNING: falling back to internal atompaw version<br />configure: WARNING: BigDFT requires missing LibXC support<br />configure: WARNING: falling back to internal bigdft version<br />checking for wannier.x... no<br />checking for wannier90.x... no<br />checking for library containing wannier_run... no<br />configure: WARNING: falling back to internal wannier90 version<br />checking for the actual DFT support... libxc-fallback+atompaw-fallback+bigdft-fallback+wannier90-fallback<br />configure: using former plugins as a temporary workaround<br />configure: fallbacks to enable =&gt; atompaw bigdft etsf_io libxc netcdf wannier90<br />checking whether to build atompaw... yes<br />checking whether to build bigdft... yes<br />checking whether to build etsf_io... yes<br />checking whether to build fox... no<br />checking whether to build libxc... yes<br />checking whether to build linalg... no<br />checking whether to build netcdf... yes<br />checking whether to build wannier90... yes<br />configure: using tarball repository ~/.abinit/tarballs<br />configure: copying linear algebra tarball to tarball repository<br />cp: cannot stat `/home/paulfons/abinit/abinit-6.10.3/fallbacks/transient/lapack-abinit_6.0.tar.gz': No such file or directory<br />checking whether to enable the LINALG fallback... no<br />checking whether to build the LINALG fallback... no<br />checking whether to enable the FOX fallback... no<br />checking whether to build the FOX fallback... no<br />checking for a source tarball of NETCDF... no<br />configure: downloading NETCDF - this may take a while<br />checking availability of NETCDF from URL 1... ~/.abinit/tarballs/netcdf-4.1.1.tar.gz: No such file or directory<br />no<br />checking availability of NETCDF from URL 2... ~/.abinit/tarballs/netcdf-4.1.1.tar.gz: No such file or directory<br />no<br />configure: WARNING: could not download NETCDF fallback tarball<br /><br />        +--------------------------------------------------------------+<br />        | Fallback availability failure                                |<br />        +--------------------------------------------------------------+<br />        | The build system of Abinit has not been able to download     |<br />        | one or more required external packages. An unstable or       |<br />        | absent connection to internet of this computer is the most   |<br />        | probable culprit. This means that the build cannot           |<br />        | proceed, and the configure script will thus abort now with   |<br />        | an error.                                                    |<br />        |                                                              |<br />        | To address this issue, you may:                              |<br />        |                                                              |<br />        | * use pre-compiled versions of the external packages,        |<br />        | through the --with-*-bins, --with-*-incs, and                |<br />        | --with-*-libs options of configure; please see               |<br />        | the section associated to connectors in                      |<br />        | ~abinit/doc/config/build-config.ac for available             |<br />        | options and details;                                         |<br />        |                                                              |<br />        | * manually upload the source tarballs to a dedicated         |<br />        | directory, either ~/.abinit/tarballs/ (the default) or       |<br />        | any directory of your choice; please see the section         |<br />        | associated to fallbacks in                                   |<br />        | ~abinit/doc/config/build-config.ac for details;              |<br />        |                                                              |<br />        | * disable the corresponding extensions, by using the         |<br />        | following options of configure:                              |<br />        | --with-dft-flavor=&quot;none&quot;;                                    |<br />        | --with-trio-flavor=&quot;none&quot;;                                   |<br />        | please see the section associated to connectors in           |<br />        | ~abinit/doc/config/build-config.ac for details.              |<br />        |                                                              |<br />        +--------------------------------------------------------------+<br /><br />configure: error: cannot build Abinit - aborting<br />paulfons@asccmp177:~/abinit/abinit-6.10.3&gt; curl<br />curl: try 'curl --help' or 'curl --manual' for more information<br />paulfons@asccmp177:~/abinit/abinit-6.10.3&gt; wget<br />wget: missing URL<br />Usage: wget [OPTION]... [URL]...<br /><br />Try ‘wget --help’ for more options.<br />paulfons@asccmp177:~/abinit/abinit-6.10.3&gt; ls -l ~/.abinit/tarballs/<br />total 48776<br />-rw-r--r-- 1 paulfons users   140256 Dec  4 19:29 atompaw-3.0.1.2.tar.gz<br />-rw-r--r-- 1 paulfons users  3785332 Dec  4 19:34 atompaw-3.0.1.tar.gz<br />-rw-r--r-- 1 paulfons users   561262 Dec  4 19:34 bigdft-1.0-1.tar.gz<br />-rw-r--r-- 1 paulfons users   944219 Dec  4 19:34 bigdft-1.2.0.2.tar.gz<br />-rw-r--r-- 1 paulfons users   959861 Mar 29  2011 bigdft-1.2.0.4.tar.gz<br />-rw-r--r-- 1 paulfons users   382094 Dec  4 19:34 etsf_io-1.0.2.tar.gz<br />-rw-r--r-- 1 paulfons users   453734 Dec  4 19:34 etsf_io-1.0.3.tar.gz<br />-rw-r--r-- 1 paulfons users   294042 Dec  4 19:34 FoX-4.1.0.tar.gz<br />-rw-r--r-- 1 paulfons users  3468332 Dec  4 19:42 lapack-abinit_6.0.tar.gz<br />-rw-r--r-- 1 paulfons users  3487599 Dec  4 19:45 lapack-abinit_6.10.tar.gz<br />-rw-r--r-- 1 paulfons users   502757 Dec  4 19:34 libxc-1.0.tar.gz<br />-rw-r--r-- 1 paulfons users   256149 Dec  4 19:34 libxc-svn-r6071-fixed.tar.gz<br />-rw-r--r-- 1 paulfons users 11572512 Dec  4 19:34 netcdf-3.6.3.tar.gz<br />-rw-r--r-- 1 paulfons users 11201096 Dec 13 06:58 netcdf-4.1.1.tar.gz<br />-rw-r--r-- 1 paulfons users  6259705 Dec  4 19:34 wannier90-1.1.tar.gz<br />-rw-r--r-- 1 paulfons users  5643731 Dec  4 19:34 wannier90-1.2.tar.gz</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: netcdf tarball not found in config of 10.6.3</h3>
				<div class="date">Posted: <strong>Tue Dec 13, 2011 7:54 pm</strong></div>
				<div class="author">by <strong>pouillon</strong></div>
				<div class="content">For portability reasons, the configure script does not do tilde (~) expansion. You should provide it with &quot;$HOME&quot; instead.</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=3&t=1467&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 03:55:53 GMT -->
</html>
