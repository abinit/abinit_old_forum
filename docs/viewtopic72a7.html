<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=3&t=2658&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 00:22:05 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; Problem with module etsf_io</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>Problem with module etsf_io</h2>
		<p><a href="viewtopic69ee.html?f=3&amp;t=2658">https://forum.abinit.org/viewtopic.php?f=3&amp;t=2658</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>Problem with module etsf_io</h3>
				<div class="date">Posted: <strong>Tue May 06, 2014 5:18 pm</strong></div>
				<div class="author">by <strong>sponce</strong></div>
				<div class="content">Dear Developper, <br /><br />I have created a new module &quot;m_eig2d.F90&quot; in src/72_response<br /><br />In that module I have<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>#ifdef HAVE_TRIO_ETSF_IO<br />&nbsp;use etsf_io<br />#endif</code></pre></div><br /><br />when compiling on woopy I get a Fatal error :<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>/usr/local/mpich_gcc/bin/mpif90 -DHAVE_CONFIG_H -I. -I../.. -I../../src/incs -I../../src/incs -I/home/buildbot/ABINIT/woopy_gcc48/sponce_7.7.3-public/fallbacks/exports/include&nbsp; &nbsp;-ffree-form -J/home/buildbot/ABINIT/woopy_gcc48/sponce_7.7.3-public/src/mods&nbsp; -O2 -mtune=native -march=native -ffree-line-length-none&nbsp; &nbsp;-c -o m_eig2d.o m_eig2d.F90<br />m_eig2d.F90:36.5:<br /><br />&nbsp;use etsf_io<br />&nbsp; &nbsp; &nbsp;1<br />Fatal Error: Can't open module file 'etsf_io.mod' for reading at (1): No such file or directory</code></pre></div><br /><br />The problem is that there is a line missing in the Makefile line. <br />Indeed the same use etsf_io in 62_occeig/m_ebands.F90 work:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>/usr/local/mpich_gcc/bin/mpif90 -DHAVE_CONFIG_H -I. -I../.. -I../../src/incs -I../../src/incs -I/usr/local/bigdft/include -I/usr/local/fallbacks-dev/include -I/usr/include -I/home/buildbot/ABINIT/woopy_gcc48/sponce_7.7.3-public/fallbacks/exports/include&nbsp; &nbsp;-ffree-form -J/home/buildbot/ABINIT/woopy_gcc48/sponce_7.7.3-public/src/mods&nbsp; -O2 -mtune=native -march=native -ffree-line-length-none&nbsp; &nbsp;-c -o m_ebands.o m_ebands.F90</code></pre></div><br /><br />What should I do in order to modify the Makefile and to add the correct call to etsf_io lib <strong class="text-strong">-I/usr/local/fallbacks-dev/include </strong>?<br /><br />Cheers !<br /><br />Samuel</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Problem with module etsf_io&nbsp;&nbsp;<span style="color: #006600">[SOLVED]</span></h3>
				<div class="date">Posted: <strong>Tue May 06, 2014 7:02 pm</strong></div>
				<div class="author">by <strong>pouillon</strong></div>
				<div class="content">You have to explicitely declare all dependencies in <em class="text-italics">config/specs/corelibs.conf</em> for now. Please check that the dependency on etsf_io is properly set for the directories you're working in.<br /><br />This will change in the future, as soon as the information provided by abilint is fully exported to and exploited by the build system. Thank you in advance for your patience.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Problem with module etsf_io</h3>
				<div class="date">Posted: <strong>Thu May 08, 2014 10:54 am</strong></div>
				<div class="author">by <strong>sponce</strong></div>
				<div class="content">Oh I see. Thank you for the reply Yann. <br /><br />There is no problem with having to do that. <br /><br />I indeed though that I had to do something like that but could not find the information on <em class="text-italics">doc/developers</em>. Is that information written somewhere?<br /><br />Kind Regards, <br /><br />Samuel.</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=3&t=2658&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 00:22:05 GMT -->
</html>
