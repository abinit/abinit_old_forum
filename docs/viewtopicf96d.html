<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=2776&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 03:27:13 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; udtset problem?</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>udtset problem?</h2>
		<p><a href="viewtopic695b.html?f=9&amp;t=2776">https://forum.abinit.org/viewtopic.php?f=9&amp;t=2776</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>udtset problem?</h3>
				<div class="date">Posted: <strong>Mon Sep 01, 2014 3:24 pm</strong></div>
				<div class="author">by <strong>Emile</strong></div>
				<div class="content">Dear all,<br /><br />While using udtset in combination with ndtset, I am encountering a problem.<br />When udtset &gt;= 10 (more than two digits) the tsmear parameter that I use as an electronic temperature, is set to its default value 0.04 Ha.<br /><br />Thus:<br />tsmear1?   3.173d-08<br />tsmear2?   9.503d-04<br />tsmear3?   3.173d-03<br />tsmear4?   9.503d-03<br />tsmear5?   1.583d-02<br />tsmear6?   3.173d-02<br />tsmear7?   5.703d-02<br />tsmear8?   7.923d-02<br />tsmear9?   1.203d-01<br />tsmear10?  1.583d-01<br />tsmear11?  2.383d-01<br />tsmear12?  3.173d-01<br /><br />Acutally become:<br />           tsmear11    3.17300000E-08 Hartree<br />           tsmear21    9.50300000E-04 Hartree<br />           tsmear31    3.17300000E-03 Hartree<br />           tsmear41    9.50300000E-03 Hartree<br />           tsmear51    1.58300000E-02 Hartree<br />           tsmear61    3.17300000E-02 Hartree<br />           tsmear71    5.70300000E-02 Hartree<br />           tsmear81    7.92300000E-02 Hartree<br />           tsmear91    1.20300000E-01 Hartree<br />           tsmear101   4.00000000E-02 Hartree<br />           tsmear111   4.00000000E-02 Hartree<br />           tsmear121   4.00000000E-02 Hartree<br /><br />If I remove the first datasets, changing:<br /><br />tsmear10?  1.583d-01<br />tsmear11?  2.383d-01<br />tsmear12?  3.173d-01<br />to <br />tsmear1?  1.583d-01<br />tsmear2?  2.383d-01<br />tsmear3?  3.173d-01<br /><br />Then the correct values of tsmear are considered.<br /><br />I tested abinit 7.8.1 and 7.8.2, same problem.<br />Am I misunderstanding udtset behavior or is it something wrong there?<br /><br />Thanks</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: udtset problem?</h3>
				<div class="date">Posted: <strong>Mon Sep 01, 2014 4:09 pm</strong></div>
				<div class="author">by <strong>Jordan</strong></div>
				<div class="content">Despite what the documentation says, there is actually a problem.<br />I got the same behaviour when udtset(1) &gt; 9.<br /><br />We will investigate the problem and try to correct very soon.<br /><br />In the mean time, I would suggest <br />1) Use an external script to generate your inputfile if you really need more than 9 dataset in the first loop,<br />2) split your calculation into 2, 1 for your dataset from 1 to 9 and the second for 10 to 13. using only udtset 9 x where x &lt;=9<br /><br />If x =1 you don't need the double loop udtset and you can just specify ndtset 13. Then write your tsmear values by hand or using the one loop tool <br />tsmear: 0.001<br />tsmear+ 0.0005<br />for example. That works for ndtset &gt;9.<br /><br />The 0.04Ha value you got is the default for tsmear value when the parser does not find the corresponding input keyword.<br /><br />Cheers<br /><br />Jordan</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=2776&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 03:27:13 GMT -->
</html>
