<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=4322&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Sep 2024 19:20:50 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; MIXing coefficients for ALCHemical potentials</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>MIXing coefficients for ALCHemical potentials</h2>
		<p><a href="viewtopic71bf.html?f=9&amp;t=4322">https://forum.abinit.org/viewtopic.php?f=9&amp;t=4322</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>MIXing coefficients for ALCHemical potentials&nbsp;&nbsp;<span style="color: #006600">[SOLVED]</span></h3>
				<div class="date">Posted: <strong>Tue Feb 18, 2020 9:17 am</strong></div>
				<div class="author">by <strong>new_986</strong></div>
				<div class="content">Dear all <br>
I want to study the effect to doping Sn into CsPbCl3, here is my input<br>
<br>
# DATASET configuration<br>
ndtset 1<br>
# Atomic Structure<br>
#-----------------<br>
 acell  5 5 5 Angstr<br>
 natom  5<br>
 ntypat  3<br>
 typat  1 2 2 2 3<br>
 rprim 1 0 0<br>
       0 1 0<br>
       0 0 1<br>
xred 0.0 0.0 0.0<br>
     0.5 0.0 0.5<br>
     0.0 0.5 0.5<br>
     0.5 0.5 0.0<br>
     0.5 0.5 0.5<br>
     <br>
        <br>
       <br>
prtcif 1<br>
prtgeo 1<br>
npsp 4<br>
algalch 1<br>
ntypalch 1<br>
        <br>
znucl  55 17 82 50 <br>
npspalch 1<br>
mixalch 0.8 0.2<br>
#ntyppure 2<br>
#mixalch2    0.35 0.65<br>
#mixalch3 0.45 0.55<br>
#mixalch4 0.55 0.45<br>
#mixalch5 0.65 0.35<br>
#mixalch6 0.75 0.25<br>
# Structure Optimization<br>
#-----------------------<br>
<br>
<br>
 dilatmx 1.15<br>
 optcell 2<br>
 ionmov 2<br>
 ntime 100<br>
 tolmxf 5.0d-12<br>
<br>
# Other Variables<br>
#----------------<br>
 ecut 50<br>
 ecutsm 0.5<br>
 diemac 1.0d0<br>
 diemix 0.5d0<br>
 kptopt 1<br>
 #kpt   3*0.25<br>
 nband 40<br>
 ngkpt 6 6 6<br>
 #nline 4<br>
 nstep 200<br>
 nsym 0<br>
 occopt 1<br>
 <br>
<br>
 <br>
 toldff 1.0d-6<br>
 wtk  1<br>
<br>
<br>
chkprim 0 <br>
#spgroup 139<br>
#strprecon 0.1<br>
#random_atpos 1<br>
#brvltt 0<br>
<br>
But the stops and gives me the following error<br>
<br>
<br>
--- !ERROR<br>
src_file: chkvars.F90<br>
src_line: 403<br>
mpi_rank: 12<br>
message: |<br>
    Found the token NPSPALCH in the input file.<br>
    This name is not one of the registered input variable names (see <a href="https://www.abinit.org/doc" class="postlink">https://www.abinit.org/doc</a>).<br>
    Action: check your input file. You likely mistyped the input variable.<br>
...<br>
<br>
the input npspalch is in the abinit input variables page but still does not work<br>
for information I am using abinit 8.6.3<br>
Thanks</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: MIXing coefficients for ALCHemical potentials</h3>
				<div class="date">Posted: <strong>Tue Feb 18, 2020 9:23 pm</strong></div>
				<div class="author">by <strong>jbeuken</strong></div>
				<div class="content"><blockquote class="uncited"><div>Found the token NPSPALCH in the input file.<br>
This name is not one of the registered input variable names (see <a href="https://www.abinit.org/doc" class="postlink">https://www.abinit.org/doc</a>).<br>
Action: check your input file. You likely mistyped the input variable.
</div></blockquote>

for abinit version less that 8.10.x, go in this page :<br>
<a href="https://www.abinit.org/packages" class="postlink">https://www.abinit.org/packages</a><br>
<br>
and select the right doc depending on the abinit version  : for variables of v8.6 , it is <a href="https://www.abinit.org/sites/default/files/infos/8.6/input_variables/generated_files/varset_allvars.html#A" class="postlink">here</a><br>
<br>
A+<br>
<br>
jmb</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: MIXing coefficients for ALCHemical potentials</h3>
				<div class="date">Posted: <strong>Sun Feb 23, 2020 10:29 am</strong></div>
				<div class="author">by <strong>new_986</strong></div>
				<div class="content">Dear Jmb<br>
Thanks for the reply<br>
I have checked the right version inputs and it is same but still the computer stops after a couple times of optimization<br>
Regards<br>
<br>
Nawzad</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: MIXing coefficients for ALCHemical potentials</h3>
				<div class="date">Posted: <strong>Sun Feb 23, 2020 9:17 pm</strong></div>
				<div class="author">by <strong>ebousquet</strong></div>
				<div class="content">Dear Nawzad,<br>
OK, but now it runs then. What is your error message? Sounds like more a convergence problem or something else more classical?<br>
Regarding doing alchemical, be carreful if you look at the electronic structure, it might not give a good result, see for example:<br>
<a href="https://journals.aps.org/prb/abstract/10.1103/PhysRevB.97.174108" class="postlink">https://journals.aps.org/prb/abstract/1 ... .97.174108</a><br>
Best wishes,<br>
Eric</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: MIXing coefficients for ALCHemical potentials</h3>
				<div class="date">Posted: <strong>Mon Feb 24, 2020 8:28 am</strong></div>
				<div class="author">by <strong>new_986</strong></div>
				<div class="content">Dear Eric<br>
Thanks for the reply<br>
the error message is the following<br>
<br>
<br>
--- !ERROR<br>
src_file: chkvars.F90<br>
src_line: 403<br>
mpi_rank: 13<br>
message: |<br>
    Found the token NPSPALCH in the input file.<br>
    This name is not one of the registered input variable names (see <a href="https://www.abinit.org/doc" class="postlink">https://www.abinit.org/doc</a>).<br>
    Action: check your input file. You likely mistyped the input variable.<br>
<br>
Regards</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: MIXing coefficients for ALCHemical potentials</h3>
				<div class="date">Posted: <strong>Mon Feb 24, 2020 11:15 pm</strong></div>
				<div class="author">by <strong>ebousquet</strong></div>
				<div class="content">Dear Nawzad,<br>
To me it is not possible that the program runs a few relaxation steps without complaining about the input file and stops about a wrong input variable after passing the initial input variables test...<br>
Could you send your output file and eventually the log file?<br>
Thanks,<br>
Eric</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: MIXing coefficients for ALCHemical potentials</h3>
				<div class="date">Posted: <strong>Tue Feb 25, 2020 3:20 am</strong></div>
				<div class="author">by <strong>gmatteo</strong></div>
				<div class="content">The code stops at the level of the parser hence it does not enter the SCF cycle.<br>
As mentioned in the error message:<br>

<blockquote class="uncited"><div>
Found the token NPSPALCH in the input file.<br>
This name is not one of the registered input variable names (see <a href="https://www.abinit.org/doc" class="postlink">https://www.abinit.org/doc</a>).
</div></blockquote>

NPSPALCH  is an internal variable (the name starts with %) <br>
that is computed by the code using  ntypat  and ntypalch thus it's not possible to specify npspalch in the input file.<br>
<br>
See examples at: <a href="https://docs.abinit.org/variables/gstate/#mixalch" class="postlink">https://docs.abinit.org/variables/gstate/#mixalch</a></div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: MIXing coefficients for ALCHemical potentials</h3>
				<div class="date">Posted: <strong>Tue Feb 25, 2020 9:16 am</strong></div>
				<div class="author">by <strong>new_986</strong></div>
				<div class="content"><blockquote><div><cite><a href="memberlist58ee.html?mode=viewprofile&amp;u=682">ebousquet</a> wrote: <a href="viewtopic75c6.html?p=12834#p12834" data-post-id="12834" onclick="if(document.getElementById(hash.substr(1)))href=hash">↑</a><div class="responsive-hide">Mon Feb 24, 2020 11:15 pm</div></cite>
Dear Nawzad,<br>
To me it is not possible that the program runs a few relaxation steps without complaining about the input file and stops about a wrong input variable after passing the initial input variables test...<br>
Could you send your output file and eventually the log file?<br>
Thanks,<br>
Eric
</div></blockquote>

Dear Eric<br>
You are right, it does not go any step of optimization with npspalch, I was confused<br>
<br>
Thanks a lot<br>
<br>
<br>
The following is log's content<br>
<br>
<br>
  ABINIT 8.6.3<br>
  <br>
  Give name for formatted input file: <br>
t79.in<br>
  Give name for formatted output file:<br>
t79.out<br>
  Give root name for generic input files:<br>
tbase1_xi<br>
  Give root name for generic output files:<br>
tbase1_xo<br>
  Give root name for generic temporary files:<br>
tbase1_x<br>
<br>
.Version 8.6.3 of ABINIT <br>
.(MPI version, prepared for a x86_64_linux_gnu5.4 computer) <br>
<br>
.Copyright (C) 1998-2017 ABINIT group . <br>
 ABINIT comes with ABSOLUTELY NO WARRANTY.<br>
 It is free software, and you are welcome to redistribute it<br>
 under certain conditions (GNU General Public License,<br>
 see ~abinit/COPYING or <a href="http://www.gnu.org/copyleft/gpl.txt" class="postlink">http://www.gnu.org/copyleft/gpl.txt</a>).<br>
<br>
 ABINIT is a project of the Universite Catholique de Louvain,<br>
 Corning Inc. and other collaborators, see ~abinit/doc/developers/contributors.txt .<br>
 Please read ~abinit/doc/users/acknowledgments.html for suggested<br>
 acknowledgments of the ABINIT effort.<br>
 For more information, see <a href="https://www.abinit.org/" class="postlink">https://www.abinit.org</a> .<br>
<br>
.Starting date : Mon 24 Feb 2020.<br>
- ( at 10h25 )<br>
  <br>
- The starting date is more than 2 years after the initial release<br>
- of this version of ABINIT, namely Dec 2017.<br>
- Note that the use beyond 3 years after the release will not be supported.<br>
- Action: please, switch to a more recent version of ABINIT.<br>
<br>
<br>
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<br>
<br>
 === Build Information === <br>
  Version       : 8.6.3<br>
  Build target  : x86_64_linux_gnu5.4<br>
  Build date    : 20190527<br>
<br>
 === Compiler Suite === <br>
  C compiler       : gnu5.4<br>
  C++ compiler     : gnu5.4<br>
  Fortran compiler : gnu5.4<br>
  CFLAGS           :  -g -O2 -mtune=native -march=native<br>
  CXXFLAGS         :  -g -O2 -mtune=native -march=native<br>
  FCFLAGS          :  -g -ffree-line-length-none<br>
  FC_LDFLAGS       : <br>
<br>
 === Optimizations === <br>
  Debug level        : basic<br>
  Optimization level : standard<br>
  Architecture       : intel_xeon<br>
<br>
 === Multicore === <br>
  Parallel build : yes<br>
  Parallel I/O   : yes<br>
  openMP support : no<br>
  GPU support    : no<br>
<br>
 === Connectors / Fallbacks === <br>
  Connectors on : yes<br>
  Fallbacks on  : yes<br>
  DFT flavor    : libxc-fallback+atompaw-fallback<br>
  FFT flavor    : fftw3<br>
  LINALG flavor : atlas<br>
  MATH flavor   : none<br>
  TIMER flavor  : abinit<br>
  TRIO flavor   : none<br>
<br>
 === Experimental features === <br>
  Bindings            : @enable_bindings@<br>
  Exports             : no<br>
  GW double-precision : no<br>
<br>
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<br>
<br>
<br>
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<br>
 Default optimizations:<br>
   -O2 -mtune=native -march=native<br>
<br>
<br>
 Optimizations for 20_datashare:<br>
   -O0<br>
<br>
<br>
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<br>
<br>
<br>
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<br>
 CPP options activated during the build:<br>
<br>
                    CC_GNU                   CXX_GNU                    FC_GNU<br>
 <br>
              HAVE_ATOMPAW HAVE_FC_ALLOCATABLE_DT...             HAVE_FC_ASYNC<br>
 <br>
         HAVE_FC_BACKTRACE  HAVE_FC_COMMAND_ARGUMENT      HAVE_FC_COMMAND_LINE<br>
 <br>
        HAVE_FC_CONTIGUOUS           HAVE_FC_CPUTIME              HAVE_FC_EXIT<br>
 <br>
             HAVE_FC_FLUSH             HAVE_FC_GAMMA            HAVE_FC_GETENV<br>
 <br>
   HAVE_FC_IEEE_EXCEPTIONS          HAVE_FC_INT_QUAD             HAVE_FC_IOMSG<br>
 <br>
     HAVE_FC_ISO_C_BINDING  HAVE_FC_ISO_FORTRAN_2008        HAVE_FC_LONG_LINES<br>
 <br>
        HAVE_FC_MOVE_ALLOC           HAVE_FC_PRIVATE         HAVE_FC_PROTECTED<br>
 <br>
         HAVE_FC_STREAM_IO            HAVE_FC_SYSTEM                  HAVE_FFT<br>
 <br>
            HAVE_FFT_FFTW3              HAVE_FFT_MPI           HAVE_FFT_SERIAL<br>
 <br>
          HAVE_FORTRAN2003        HAVE_LIBPAW_ABINIT      HAVE_LIBTETRA_ABINIT<br>
 <br>
                HAVE_LIBXC               HAVE_LINALG        HAVE_LINALG_SERIAL<br>
 <br>
                  HAVE_MPI                 HAVE_MPI2       HAVE_MPI_IALLREDUCE<br>
 <br>
        HAVE_MPI_IALLTOALL       HAVE_MPI_IALLTOALLV        HAVE_MPI_INTEGER16<br>
 <br>
               HAVE_MPI_IO HAVE_MPI_TYPE_CREATE_S...             HAVE_OS_LINUX<br>
 <br>
         HAVE_TIMER_ABINIT              USE_MACROAVE                            <br>
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<br>
<br>
- input  file    -&gt; t79.in<br>
- output file    -&gt; t79.out<br>
- root for input  files -&gt; tbase1_xi<br>
- root for output files -&gt; tbase1_xo<br>
<br>
-instrng: 90 lines of input have been read from file t79.in<br>
<br>
<br>
 Please give name of formatted atomic psp file<br>
 iofn2 : for atom type 1, psp file is Cs.psp8<br>
<br>
 Please give name of formatted atomic psp file<br>
 iofn2 : for atom type 2, psp file is Cl.psp8<br>
<br>
 Please give name of formatted atomic psp file<br>
 iofn2 : for atom type 3, psp file is Pb.psp8<br>
<br>
 Please give name of formatted atomic psp file<br>
 iofn2 : for atom type 4, psp file is Sn.psp8<br>
  read the values zionpsp=  9.0 , pspcod=   8 , lmax=   3<br>
  read the values zionpsp=  7.0 , pspcod=   8 , lmax=   2<br>
  read the values zionpsp= 14.0 , pspcod=   8 , lmax=   2<br>
  read the values zionpsp= 14.0 , pspcod=   8 , lmax=   2<br>
<br>
 inpspheads: deduce mpsang = 4, n1xccc = 2501.<br>
 invars1 : treat image number: 1<br>
<br>
 symlatt : the Bravais lattice is cP (primitive cubic)<br>
  xred   is defined in input file<br>
 ingeo : takes atomic coordinates from input array xred<br>
 symfind : exit, nsym=48<br>
   symrel matrices, symafm and tnons are :<br>
   1       1   0   0     0   1   0     0   0   1       1      0.0000  0.0000  0.0000<br>
   2      -1   0   0     0  -1   0     0   0  -1       1      0.0000  0.0000  0.0000<br>
   3      -1   0   0     0   1   0     0   0  -1       1      0.0000  0.0000  0.0000<br>
   4       1   0   0     0  -1   0     0   0   1       1      0.0000  0.0000  0.0000<br>
   5      -1   0   0     0  -1   0     0   0   1       1      0.0000  0.0000  0.0000<br>
   6       1   0   0     0   1   0     0   0  -1       1      0.0000  0.0000  0.0000<br>
   7       1   0   0     0  -1   0     0   0  -1       1      0.0000  0.0000  0.0000<br>
   8      -1   0   0     0   1   0     0   0   1       1      0.0000  0.0000  0.0000<br>
   9       0   1   0     1   0   0     0   0   1       1      0.0000  0.0000  0.0000<br>
  10       0  -1   0    -1   0   0     0   0  -1       1      0.0000  0.0000  0.0000<br>
  11       0  -1   0     1   0   0     0   0  -1       1      0.0000  0.0000  0.0000<br>
  12       0   1   0    -1   0   0     0   0   1       1      0.0000  0.0000  0.0000<br>
  13       0  -1   0    -1   0   0     0   0   1       1      0.0000  0.0000  0.0000<br>
  14       0   1   0     1   0   0     0   0  -1       1      0.0000  0.0000  0.0000<br>
  15       0   1   0    -1   0   0     0   0  -1       1      0.0000  0.0000  0.0000<br>
  16       0  -1   0     1   0   0     0   0   1       1      0.0000  0.0000  0.0000<br>
  17       0   0   1     1   0   0     0   1   0       1      0.0000  0.0000  0.0000<br>
  18       0   0  -1    -1   0   0     0  -1   0       1      0.0000  0.0000  0.0000<br>
  19       0   0  -1     1   0   0     0  -1   0       1      0.0000  0.0000  0.0000<br>
  20       0   0   1    -1   0   0     0   1   0       1      0.0000  0.0000  0.0000<br>
  21       0   0  -1    -1   0   0     0   1   0       1      0.0000  0.0000  0.0000<br>
  22       0   0   1     1   0   0     0  -1   0       1      0.0000  0.0000  0.0000<br>
  23       0   0   1    -1   0   0     0  -1   0       1      0.0000  0.0000  0.0000<br>
  24       0   0  -1     1   0   0     0   1   0       1      0.0000  0.0000  0.0000<br>
  25       1   0   0     0   0   1     0   1   0       1      0.0000  0.0000  0.0000<br>
  26      -1   0   0     0   0  -1     0  -1   0       1      0.0000  0.0000  0.0000<br>
  27      -1   0   0     0   0   1     0  -1   0       1      0.0000  0.0000  0.0000<br>
  28       1   0   0     0   0  -1     0   1   0       1      0.0000  0.0000  0.0000<br>
  29      -1   0   0     0   0  -1     0   1   0       1      0.0000  0.0000  0.0000<br>
  30       1   0   0     0   0   1     0  -1   0       1      0.0000  0.0000  0.0000<br>
  31       1   0   0     0   0  -1     0  -1   0       1      0.0000  0.0000  0.0000<br>
  32      -1   0   0     0   0   1     0   1   0       1      0.0000  0.0000  0.0000<br>
  33       0   1   0     0   0   1     1   0   0       1      0.0000  0.0000  0.0000<br>
  34       0  -1   0     0   0  -1    -1   0   0       1      0.0000  0.0000  0.0000<br>
  35       0  -1   0     0   0   1    -1   0   0       1      0.0000  0.0000  0.0000<br>
  36       0   1   0     0   0  -1     1   0   0       1      0.0000  0.0000  0.0000<br>
  37       0  -1   0     0   0  -1     1   0   0       1      0.0000  0.0000  0.0000<br>
  38       0   1   0     0   0   1    -1   0   0       1      0.0000  0.0000  0.0000<br>
  39       0   1   0     0   0  -1    -1   0   0       1      0.0000  0.0000  0.0000<br>
  40       0  -1   0     0   0   1     1   0   0       1      0.0000  0.0000  0.0000<br>
  41       0   0   1     0   1   0     1   0   0       1      0.0000  0.0000  0.0000<br>
  42       0   0  -1     0  -1   0    -1   0   0       1      0.0000  0.0000  0.0000<br>
  43       0   0  -1     0   1   0    -1   0   0       1      0.0000  0.0000  0.0000<br>
  44       0   0   1     0  -1   0     1   0   0       1      0.0000  0.0000  0.0000<br>
  45       0   0  -1     0  -1   0     1   0   0       1      0.0000  0.0000  0.0000<br>
  46       0   0   1     0   1   0    -1   0   0       1      0.0000  0.0000  0.0000<br>
  47       0   0   1     0  -1   0    -1   0   0       1      0.0000  0.0000  0.0000<br>
  48       0   0  -1     0   1   0     1   0   0       1      0.0000  0.0000  0.0000<br>
<br>
 symlatt : the Bravais lattice is cP (primitive cubic)<br>
<br>
 symlatt : the Bravais lattice is cP (primitive cubic)<br>
 symspgr : spgroup= 221  Pm -3 m   (=Oh^1)<br>
 symspgr : optical characteristics = isotropic<br>
 ingeo : angdeg(1:3)=   90.00000000   90.00000000   90.00000000<br>
 chkneu : initialized the occupation numbers for occopt=    1, spin-unpolarized or antiferromagnetic case :<br>
  2.00  2.00  2.00  2.00  2.00  2.00  2.00  2.00  2.00  2.00  2.00  2.00<br>
  2.00  2.00  2.00  2.00  2.00  2.00  2.00  2.00  2.00  2.00  2.00  2.00<br>
  2.00  2.00  2.00  2.00  2.00  0.00  0.00  0.00  0.00  0.00  0.00  0.00<br>
  0.00  0.00  0.00  0.00  0.00  0.00  0.00  0.00  0.00  0.00  0.00  0.00<br>
  0.00  0.00  0.00  0.00  0.00  0.00  0.00  0.00  0.00  0.00  0.00  0.00<br>
npfft, npband, npspinor and npkpt:     1    1    1   32<br>
<br>
--- !WARNING<br>
src_file: distrb2.F90<br>
src_line: 107<br>
message: |<br>
    nproc_kpt=32 &gt;= nkpt=1* nsppol=1<br>
    The number of processors is larger than nkpt*nsppol. This is a waste.<br>
...<br>
<br>
mpi_setup: mkmem  undefined in the input file.Use default mkmem  = nkpt<br>
 mpi_setup: With nkpt_me=1 and mkmem  = 1, ground state wf handled in core.<br>
mpi_setup: mkqmem undefined in the input file.Use default mkqmem = nkpt<br>
 mpi_setup: With nkpt_me=1 and mkqmem = 1, ground state wf handled in core.<br>
mpi_setup: mk1mem undefined in the input file.Use default mk1mem = nkpt<br>
 mpi_setup: With nkpt_me=1 and mk1mem = 1, ground state wf handled in core.<br>
<br>
--- !WARNING<br>
src_file: mpi_setup.F90<br>
src_line: 659<br>
message: |<br>
    Your number of spins*k-points (=1) will not distribute correctly<br>
    with the current number of processors (=32).<br>
    You will leave some empty.<br>
    YOU ARE STRONGLY ADVICED TO ACTIVATE AUTOMATIC PARALLELIZATION!<br>
    PUT "AUTOPARAL=1" IN THE INPUT FILE.<br>
...<br>
<br>
 For input ecut=  7.812500E+01 best grid ngfft=      80      80      80<br>
       max ecut=  8.844066E+01<br>
<br>
 ==== FFT mesh ====<br>
  FFT mesh divisions ........................    80   80   80<br>
  Augmented FFT divisions ...................    81   81   80<br>
  FFT algorithm .............................   312<br>
  FFT cache size ............................    16<br>
 getmpw: optimal value of mpw= 27868<br>
<br>
 DATASET    1 : space group Pm -3 m (#221); Bravais cP (primitive cubic)<br>
<br>
 getdim_nloc : deduce lmnmax  =  36, lnmax  =  12,<br>
                      lmnmaxso=  36, lnmaxso=  12.<br>
memory : analysis of memory needs<br>
================================================================================<br>
 Values of the parameters that define the memory need for DATASET  1.<br>
     intxc =       0    ionmov =       2      iscf =       7    lmnmax =      12<br>
     lnmax =      12     mgfft =      80  mpssoang =       4    mqgrid =    3760<br>
     natom =       5  nloc_mem =       1    nspden =       1   nspinor =       1<br>
    nsppol =       1      nsym =      48    n1xccc =    2501    ntypat =       3<br>
    occopt =       1   xclevel =       2<br>
-    mband =          60        mffmem =           1         mkmem =           1<br>
       mpw =       27868          nfft =      512000          nkpt =           1<br>
================================================================================<br>
P This job should need less than                     193.029 Mbytes of memory.<br>
  Rough estimation (10% accuracy) of disk space for files :<br>
_ WF disk file :     25.516 Mbytes ; DEN or POT disk file :      3.908 Mbytes.<br>
================================================================================<br>
<br>
 Biggest array : f_fftgr(disk), with     62.5020 MBytes.<br>
 memana : allocated an array of     62.502 Mbytes, for testing purposes.<br>
 memana: allocated     193.029Mbytes, for testing purposes. <br>
 The job will continue.<br>
--------------------------------------------------------------------------------<br>
------------- Echo of variables that govern the present computation ------------<br>
--------------------------------------------------------------------------------<br>
-<br>
- outvars: echo of selected default values                                      <br>
-   iomode0 =  0 , fftalg0 =312 , wfoptalg0 =  0<br>
-<br>
- outvars: echo of global parameters not present in the input file              <br>
-  max_nthreads =    0<br>
-<br>
 -outvars: echo values of preprocessed input variables --------<br>
            acell      9.4486306644E+00  9.4486306644E+00  9.4486306644E+00 Bohr<br>
              amu      1.32905430E+02  3.54527000E+01  1.89502000E+02<br>
      chksymbreak           0<br>
           diemac      1.00000000E+00<br>
           diemix      5.00000000E-01<br>
          dilatmx      1.25000000E+00<br>
             ecut      5.00000000E+01 Hartree<br>
           ecutsm      5.00000000E-01 Hartree<br>
-          fftalg         312<br>
           ionmov           2<br>
              ixc          11<br>
           jdtset        1<br>
              kpt      2.50000000E-01  5.00000000E-01  5.00000000E-01<br>
         kptrlatt        2    0    0      0    1    0      0    0    1<br>
          kptrlen      9.44863066E+00<br>
          mixalch      8.00000000E-01  2.00000000E-01<br>
P           mkmem           1<br>
            natom           5<br>
            nband          60<br>
           ndtset           1<br>
            ngfft          80      80      80<br>
             nkpt           1<br>
             npsp           4<br>
            nstep         200<br>
             nsym          48<br>
            ntime         100<br>
         ntypalch           1<br>
           ntypat           3<br>
              occ      2.000000  2.000000  2.000000  2.000000  2.000000  2.000000<br>
                       2.000000  2.000000  2.000000  2.000000  2.000000  2.000000<br>
                       2.000000  2.000000  2.000000  2.000000  2.000000  2.000000<br>
                       2.000000  2.000000  2.000000  2.000000  2.000000  2.000000<br>
                       2.000000  2.000000  2.000000  2.000000  2.000000  0.000000<br>
                       0.000000  0.000000  0.000000  0.000000  0.000000  0.000000<br>
                       0.000000  0.000000  0.000000  0.000000  0.000000  0.000000<br>
                       0.000000  0.000000  0.000000  0.000000  0.000000  0.000000<br>
                       0.000000  0.000000  0.000000  0.000000  0.000000  0.000000<br>
                       0.000000  0.000000  0.000000  0.000000  0.000000  0.000000<br>
          optcell           2<br>
           prtcif           1<br>
           prtgeo           1<br>
           shiftk      5.00000000E-01  5.00000000E-01  5.00000000E-01<br>
          spgroup         221<br>
           symrel      1  0  0   0  1  0   0  0  1      -1  0  0   0 -1  0   0  0 -1<br>
                      -1  0  0   0  1  0   0  0 -1       1  0  0   0 -1  0   0  0  1<br>
                      -1  0  0   0 -1  0   0  0  1       1  0  0   0  1  0   0  0 -1<br>
                       1  0  0   0 -1  0   0  0 -1      -1  0  0   0  1  0   0  0  1<br>
                       0  1  0   1  0  0   0  0  1       0 -1  0  -1  0  0   0  0 -1<br>
                       0 -1  0   1  0  0   0  0 -1       0  1  0  -1  0  0   0  0  1<br>
                       0 -1  0  -1  0  0   0  0  1       0  1  0   1  0  0   0  0 -1<br>
                       0  1  0  -1  0  0   0  0 -1       0 -1  0   1  0  0   0  0  1<br>
                       0  0  1   1  0  0   0  1  0       0  0 -1  -1  0  0   0 -1  0<br>
                       0  0 -1   1  0  0   0 -1  0       0  0  1  -1  0  0   0  1  0<br>
                       0  0 -1  -1  0  0   0  1  0       0  0  1   1  0  0   0 -1  0<br>
                       0  0  1  -1  0  0   0 -1  0       0  0 -1   1  0  0   0  1  0<br>
                       1  0  0   0  0  1   0  1  0      -1  0  0   0  0 -1   0 -1  0<br>
                      -1  0  0   0  0  1   0 -1  0       1  0  0   0  0 -1   0  1  0<br>
                      -1  0  0   0  0 -1   0  1  0       1  0  0   0  0  1   0 -1  0<br>
                       1  0  0   0  0 -1   0 -1  0      -1  0  0   0  0  1   0  1  0<br>
                       0  1  0   0  0  1   1  0  0       0 -1  0   0  0 -1  -1  0  0<br>
                       0 -1  0   0  0  1  -1  0  0       0  1  0   0  0 -1   1  0  0<br>
                       0 -1  0   0  0 -1   1  0  0       0  1  0   0  0  1  -1  0  0<br>
                       0  1  0   0  0 -1  -1  0  0       0 -1  0   0  0  1   1  0  0<br>
                       0  0  1   0  1  0   1  0  0       0  0 -1   0 -1  0  -1  0  0<br>
                       0  0 -1   0  1  0  -1  0  0       0  0  1   0 -1  0   1  0  0<br>
                       0  0 -1   0 -1  0   1  0  0       0  0  1   0  1  0  -1  0  0<br>
                       0  0  1   0 -1  0  -1  0  0       0  0 -1   0  1  0   1  0  0<br>
           tolmxf      5.00000000E-06<br>
           tolvrs      1.00000000E-15<br>
           tsmear      2.00000000E-02 Hartree<br>
            typat      1  3  3  3  2<br>
           xangst      0.0000000000E+00  0.0000000000E+00  0.0000000000E+00<br>
                       2.5000000000E+00  0.0000000000E+00  2.5000000000E+00<br>
                       0.0000000000E+00  2.5000000000E+00  2.5000000000E+00<br>
                       2.5000000000E+00  2.5000000000E+00  0.0000000000E+00<br>
                       2.5000000000E+00  2.5000000000E+00  2.5000000000E+00<br>
            xcart      0.0000000000E+00  0.0000000000E+00  0.0000000000E+00<br>
                       4.7243153322E+00  0.0000000000E+00  4.7243153322E+00<br>
                       0.0000000000E+00  4.7243153322E+00  4.7243153322E+00<br>
                       4.7243153322E+00  4.7243153322E+00  0.0000000000E+00<br>
                       4.7243153322E+00  4.7243153322E+00  4.7243153322E+00<br>
             xred      0.0000000000E+00  0.0000000000E+00  0.0000000000E+00<br>
                       5.0000000000E-01  0.0000000000E+00  5.0000000000E-01<br>
                       0.0000000000E+00  5.0000000000E-01  5.0000000000E-01<br>
                       5.0000000000E-01  5.0000000000E-01  0.0000000000E+00<br>
                       5.0000000000E-01  5.0000000000E-01  5.0000000000E-01<br>
        ziontypat      9.00000000E+00  7.00000000E+00  1.40000000E+01<br>
            znucl       55.00000   17.00000   82.00000   50.00000<br>
<br>
================================================================================<br>
<br>
 chkinp: Checking input parameters for consistency, jdtset=   1.<br>
<br>
--- !ERROR<br>
src_file: chkvars.F90<br>
src_line: 403<br>
mpi_rank: 0<br>
message: |<br>
    Found the token NPSPALCH in the input file.<br>
    This name is not one of the registered input variable names (see <a href="https://www.abinit.org/doc" class="postlink">https://www.abinit.org/doc</a>).<br>
    Action: check your input file. You likely mistyped the input variable.<br>
...<br>
<br>
<br>
 leave_new: decision taken to exit ...<br>
--------------------------------------------------------------------------<br>
MPI_ABORT was invoked on rank 0 in communicator MPI_COMM_WORLD <br>
with errorcode 14.<br>
<br>
NOTE: invoking MPI_ABORT causes Open MPI to kill all MPI processes.<br>
You may or may not see output from other processes, depending on<br>
exactly when Open MPI kills them.<br>
--------------------------------------------------------------------------<br>
[nawzad-Precision-Tower-7910:03668] 27 more processes have sent help message help-mpi-api.txt / mpi-abort<br>
[nawzad-Precision-Tower-7910:03668] Set MCA parameter "orte_base_help_aggregate" to 0 to see all help / error messages</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: MIXing coefficients for ALCHemical potentials</h3>
				<div class="date">Posted: <strong>Tue Feb 25, 2020 9:19 am</strong></div>
				<div class="author">by <strong>new_986</strong></div>
				<div class="content"><blockquote><div><cite><a href="memberlist6f62.html?mode=viewprofile&amp;u=61">gmatteo</a> wrote: <a href="viewtopicbae8-2.html?p=12838#p12838" data-post-id="12838" onclick="if(document.getElementById(hash.substr(1)))href=hash">↑</a><div class="responsive-hide">Tue Feb 25, 2020 3:20 am</div></cite>
The code stops at the level of the parser hence it does not enter the SCF cycle.<br>
As mentioned in the error message:<br>

<blockquote class="uncited"><div>
Found the token NPSPALCH in the input file.<br>
This name is not one of the registered input variable names (see <a href="https://www.abinit.org/doc" class="postlink">https://www.abinit.org/doc</a>).
</div></blockquote>

NPSPALCH  is an internal variable (the name starts with %) <br>
that is computed by the code using  ntypat  and ntypalch thus it's not possible to specify npspalch in the input file.<br>
<br>
See examples at: <a href="https://docs.abinit.org/variables/gstate/#mixalch" class="postlink">https://docs.abinit.org/variables/gstate/#mixalch</a>
</div></blockquote>
Dear  gmatteo <br>
You are right the, I have added % and it runs <br>
<br>
Thanks a lot</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=4322&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Sep 2024 19:20:50 GMT -->
</html>
