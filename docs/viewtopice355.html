<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=3&t=2683&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 02:20:22 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; abinit installation error with MPI</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>abinit installation error with MPI</h2>
		<p><a href="viewtopicedad.html?f=3&amp;t=2683">https://forum.abinit.org/viewtopic.php?f=3&amp;t=2683</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>abinit installation error with MPI</h3>
				<div class="date">Posted: <strong>Fri Jun 06, 2014 5:49 pm</strong></div>
				<div class="author">by <strong>rewreu</strong></div>
				<div class="content">Hi, <br />Dear users and developers, could anyone please help me to install abinit?<br />I am just finish installing the MPI enabled version of Abinit 7.6.1 and got some problems in make.(I compiled sequential version and it worked well)<br />I used all this commands for configuration. Configure worked. <br />FC=mpif90,CC=mpicc,CXX=mpic++. <br />./configure --enable-mpi=yes --enable-mpi-io=yes --with-mpi-prefix=/wsu/arch/x86_64/openmpi/openmpi-1.4.3-pg<br /><br />When I used make, the error appeared like this:<br /><br />../../src/67_common/lib67_common.a(dfpt_write_cg.o): In function <br /><br />`dfpt_write_cg_':<br />/wsu/home/eu/eu89/eu8929/quantumcal/ABINITsrc/abinit-7.6.1--<br /><br />2/src/67_common/./dfpt_write_cg.F90:119: undefined reference to <br /><br />`cwtime_'<br />/wsu/home/eu/eu89/eu8929/quantumcal/ABINITsrc/abinit-7.6.1--<br /><br />2/src/67_common/./dfpt_write_cg.F90:155: undefined reference to <br /><br />`cwtime_'<br />/wsu/home/eu/eu89/eu8929/quantumcal/ABINITsrc/abinit-7.6.1--<br /><br />2/src/67_common/./dfpt_write_cg.F90:155: undefined reference to <br /><br />`cwtime_'<br />/wsu/home/eu/eu89/eu8929/quantumcal/ABINITsrc/abinit-7.6.1--<br /><br />2/src/67_common/./dfpt_write_cg.F90:155: undefined reference to <br /><br />`cwtime_'<br />/wsu/home/eu/eu89/eu8929/quantumcal/ABINITsrc/abinit-7.6.1--<br /><br />2/src/67_common/./dfpt_write_cg.F90:155: undefined reference to <br /><br />`cwtime_'<br />../../src/67_common/lib67_common.a<br /><br />(dfpt_write_cg.o):/wsu/home/eu/eu89/eu8929/quantumcal/ABINITsrc/abi<br /><br />nit-7.6.1--2/src/67_common/./dfpt_write_cg.F90:278: more undefined <br /><br />references to `cwtime_' follow<br />make[3]: *** [abinit] Error 2<br />make[3]: Leaving directory <br /><br />`/wsu/home/eu/eu89/eu8929/quantumcal/ABINITsrc/abinit-7.6.1--<br /><br />2/src/98_main'<br />make[2]: *** [all-recursive] Error 1<br />make[2]: Leaving directory <br /><br />`/wsu/home/eu/eu89/eu8929/quantumcal/ABINITsrc/abinit-7.6.1--2/src'<br />make[1]: *** [all-recursive] Error 1<br />make[1]: Leaving directory <br /><br />`/wsu/home/eu/eu89/eu8929/quantumcal/ABINITsrc/abinit-7.6.1--2'<br />make: *** [all] Error 2<br /><br />Best regards.<br />rewreu</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: abinit installation error with MPI</h3>
				<div class="date">Posted: <strong>Mon Jun 09, 2014 11:25 am</strong></div>
				<div class="author">by <strong>pouillon</strong></div>
				<div class="content">PGI compilers have serious bugs that are triggered by Abinit, both at compile-time and at run-time, preventing its use in production. This is why we do not support them. The best is probably that you switch to another compiler vendor.<br /><br />If you still want to build Abinit with PGI compilers, I suggest you to try again in a few weeks when we release Abinit 7.8, which benefits from an extensive refactoring that may trigger a lower amount of PGI bugs.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: abinit installation error with MPI</h3>
				<div class="date">Posted: <strong>Mon Jun 09, 2014 3:55 pm</strong></div>
				<div class="author">by <strong>rewreu</strong></div>
				<div class="content">I tried with the openmpi-gcc 1.4.3 instead of openmpi-pgi 1.4.3. Unfortunately, The error seems still exist. <br />Here is the make error.<br /><br />There is no buildable file here<br />make[3]: Leaving directory `/wsu/home/eu/eu89/eu8929/quantumcal/ABINITsrc/14abinit-7.6.1/src/mods'<br />Making all in 01_interfaces_ext<br />make[3]: Entering directory `/wsu/home/eu/eu89/eu8929/quantumcal/ABINITsrc/14abinit-7.6.1/src/01_interfaces_ext'<br />gfortran -DHAVE_CONFIG_H -I. -I../.. -I../../src/incs -I../../src/incs -I/wsu/home/eu/eu89/eu8929/quantumcal/ABINITsrc/14abinit-7.6.1/fallbacks/exports/include   -ffree-form -J/wsu/home/eu/eu89/eu8929/quantumcal/ABINITsrc/14abinit-7.6.1/src/mods  -O2 -mtune=native -march=native -g -ffree-line-length-none   -c -o m_iso_c_bindings.o m_iso_c_bindings.F90<br />m_iso_c_bindings.F90:0: error: bad value (native) for -march= switch<br />m_iso_c_bindings.F90:0: error: bad value (native) for -mtune= switch<br />make[3]: *** [m_iso_c_bindings.o] Error 1<br />make[3]: Leaving directory `/wsu/home/eu/eu89/eu8929/quantumcal/ABINITsrc/14abinit-7.6.1/src/01_interfaces_ext'<br />make[2]: *** [all-recursive] Error 1<br />make[2]: Leaving directory `/wsu/home/eu/eu89/eu8929/quantumcal/ABINITsrc/14abinit-7.6.1/src'<br />make[1]: *** [all-recursive] Error 1<br />make[1]: Leaving directory `/wsu/home/eu/eu89/eu8929/quantumcal/ABINITsrc/14abinit-7.6.1'<br />make: *** [all] Error 2<br /><br />Thanks for helping.<br />rewreu</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: abinit installation error with MPI&nbsp;&nbsp;<span style="color: #006600">[SOLVED]</span></h3>
				<div class="date">Posted: <strong>Mon Jun 09, 2014 7:35 pm</strong></div>
				<div class="author">by <strong>jbeuken</strong></div>
				<div class="content">Hi,<br /><br />compilers that are not / no longer supported are <br /><br /><blockquote class="uncited"><div>ifort &lt;= 11.x<br />gcc &lt;= 4.4<br />pgi &gt;= 8<br />pathscale &gt;=5<br />open64</div></blockquote><br /><br />in your config.log, we see<br /><br />configure:3745: gcc --version &gt;&amp;5<br />gcc (GCC) 4.1.2 20080704 (Red Hat 4.1.2-54)<br /><br />it's why, there is a error with<br /><br /><blockquote class="uncited"><div> &quot; error: bad value (native) for -march= switch&quot; </div></blockquote><br /><br />the best choices for compilers are  : gcc4.8 or 4.9 , ifort &gt;= 13.0.3<br /><br />jmb</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: abinit installation error with MPI</h3>
				<div class="date">Posted: <strong>Thu Jun 12, 2014 9:32 am</strong></div>
				<div class="author">by <strong>pouillon</strong></div>
				<div class="content">FYI: RedHat 4 is an antiquity. Version 7 has been published recently, hence you might consider to upgrade your system to at least version 6, in order to experience much higher performance.</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=3&t=2683&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 02:20:22 GMT -->
</html>
