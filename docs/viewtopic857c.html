<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=3&t=4391&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Sep 2024 15:06:18 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; error while executing make for abinit-9.0.2</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>error while executing make for abinit-9.0.2</h2>
		<p><a href="viewtopic033d.html?f=3&amp;t=4391">https://forum.abinit.org/viewtopic.php?f=3&amp;t=4391</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>error while executing make for abinit-9.0.2&nbsp;&nbsp;<span style="color: #006600">[SOLVED]</span></h3>
				<div class="date">Posted: <strong>Sat May 02, 2020 7:05 pm</strong></div>
				<div class="author">by <strong>saikrishna</strong></div>
				<div class="content">Dear All Abinit users,<br>
I have installed all mandatory libraries for abinit-9.0.2 and I have configured it. I executed the following command for configure:<br>
<br>
./configure with_libxc=/home/sai/abinit-9.0.2/fallbacks/install/gnu/9.3/libxc/4.2.3/ with_hdf5=/home/sai/abinit-9.0.2/fallbacks/install/gnu/9.3/hdf5/1.10.6/ with_netcdf=/home/sai/abinit-9.0.2/fallbacks/install/gnu/9.3/netcdf4/4.4.1.1/  with_netcdf_fortran=/home/sai/abinit-9.0.2/fallbacks/install/gnu/9.3/netcdf4_fortran/4.4.4/  with_linalg=/home/sai/abinit-9.0.2/fallbacks/install/gnu/9.3/linalg/abinit_6.10/ FC=gfortran<br>
<br>
And the result was the following<br>
<br>
Core build parameters<br>
---------------------<br>
<br>
  * C compiler       : gnu version 9.3<br>
  * Fortran compiler : gnu version 9.3<br>
  * architecture     : unknown unknown (64 bits)<br>
  * debugging        : basic<br>
  * optimizations    : standard<br>
<br>
  * OpenMP enabled   : no (collapse: ignored)<br>
  * MPI    enabled   : no (flavor: none)<br>
  * MPI    in-place  : no<br>
  * MPI-IO enabled   : no<br>
  * GPU    enabled   : no (flavor: none)<br>
<br>
  * LibXML2 enabled  : no<br>
  * HDF5 enabled     : yes (MPI support: no)<br>
  * NetCDF enabled   : yes (MPI support: unknown)<br>
  * NetCDF-F enabled : yes (MPI support: unknown)<br>
<br>
  * FFT flavor       : goedecker (libs: auto-detected)<br>
  * LINALG flavor    : none (libs: ignored)<br>
<br>
  * Build workflow   : monolith<br>
<br>
0 deprecated options have been used:.<br>
<br>
Configuration complete.<br>
You may now type "make" to build Abinit.<br>
(or "make -j&lt;n&gt;", where &lt;n&gt; is the number of available processors)<br>
<br>
Since the above result came, I proceeded to execute the make command.<br>
<br>
I issued the make command, then the following error popped up,<br>
<br>
make[5]: *** No rule to make target 'm_optim_dumper.F90', needed by 'm_optim_dumper.o'.  Stop.<br>
make[5]: Leaving directory '/home/sai/abinit-9.0.2/shared/common/src/14_hidewrite'<br>
make[4]: *** [Makefile<img alt=":1183:" class="emoji smilies" draggable="false" src="http://twemoji.maxcdn.com/2/svg/1183.svg"> all-recursive] Error 1<br>
make[4]: Leaving directory '/home/sai/abinit-9.0.2/shared/common/src'<br>
make[3]: *** [Makefile<img alt=":1156:" class="emoji smilies" draggable="false" src="http://twemoji.maxcdn.com/2/svg/1156.svg"> all-recursive] Error 1<br>
make[3]: Leaving directory '/home/sai/abinit-9.0.2/shared/common'<br>
make[2]: *** [Makefile<img alt=":1157:" class="emoji smilies" draggable="false" src="http://twemoji.maxcdn.com/2/svg/1157.svg"> all-recursive] Error 1<br>
make[2]: Leaving directory '/home/sai/abinit-9.0.2/shared'<br>
make[1]: *** [Makefile<img alt=":1435:" class="emoji smilies" draggable="false" src="http://twemoji.maxcdn.com/2/svg/1435.svg"> all-recursive] Error 1<br>
make[1]: Leaving directory '/home/sai/abinit-9.0.2'<br>
make: *** [Makefile<img alt=":1364:" class="emoji smilies" draggable="false" src="http://twemoji.maxcdn.com/2/svg/1364.svg"> all] Error 2<br>
<br>
Can anyone help me with this? I really appreciate immediate help as it is urgent. My system's configuration is <br>
<br>
Intel B960 processor 2.2 GHz, 2 GB RAM, 500 HDD and pentium processor, dual core. The OS is Ubuntu-20.04.<br>
<br>
Thanks in advance, <br>
Sai Krishna N.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: error while executing make for abinit-9.0.2</h3>
				<div class="date">Posted: <strong>Mon May 04, 2020 10:06 pm</strong></div>
				<div class="author">by <strong>jbeuken</strong></div>
				<div class="content">Hi,<br>

<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>LINALG flavor : none (libs: ignored)</code></pre></div>

no linalg : strange... <br>
<br>
can you send me the ouput of :<br>

<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>cat fallbacks/build-abinit-fallbacks.sh</code></pre></div>

A+</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: error while executing make for abinit-9.0.2</h3>
				<div class="date">Posted: <strong>Sat May 09, 2020 2:29 pm</strong></div>
				<div class="author">by <strong>ycyer</strong></div>
				<div class="content"><blockquote><div><cite><a href="memberlist194b.html?mode=viewprofile&amp;u=69">jbeuken</a> wrote: <a href="viewtopic3bc5.html?p=13023#p13023" data-post-id="13023" onclick="if(document.getElementById(hash.substr(1)))href=hash">↑</a><div class="responsive-hide">Mon May 04, 2020 10:06 pm</div></cite>
Hi,<br>

<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>LINALG flavor : none (libs: ignored)</code></pre></div>

no linalg : strange... <br>
<br>
can you send me the ouput of :<br>

<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>cat fallbacks/build-abinit-fallbacks.sh</code></pre></div>

A+
</div></blockquote>

<br>
<br>
<br>
Hi~~~ I met the same error,and here is my output after I run the upper code :<br>
<br>
[ycyer@ycyer abinit-9.0.2]$ cat fallbacks/build-abinit-fallbacks.sh<br>
#!/bin/bash<br>
<br>
# Init<br>
fallbacks_prefix="/home/ycyer/Opt/abinit-9.0.2/fallbacks/install/gnu/8.3"<br>
<br>
# Find and Unpack tarball<br>
cd /home/ycyer/Opt/abinit-9.0.2/fallbacks<br>
tarfile=$(ls *.tar.gz)<br>
source=$PWD/${tarfile%.tar.gz}<br>
if [ ! -d "$source" ]; then<br>
    mkdir -p $source &amp;&amp; tar -xzf $tarfile -C $source --strip-components=1<br>
fi<br>
cd $source<br>
make clean<br>
<br>
# Configure<br>
./configure \<br>
  --prefix="${fallbacks_prefix}" \<br>
  --with-tardir="${HOME}/.abinit/tarballs" \<br>
  --with-linalg-incs=" -I/home/ycyer/Opt/abinit-9.0.2/fallbacks/install/gnu/8.3/linalg/abinit_6.10//include" \<br>
  --with-linalg-libs="-L/home/ycyer/Opt/abinit-9.0.2/fallbacks/install/gnu/8.3/linalg/abinit_6.10//lib " \<br>
  --with-fc-vendor="gnu" \<br>
  --with-fc-version="8.3" \<br>
  --disable-bigdft \<br>
  --disable-atompaw \<br>
  --disable-wannier90 \<br>
  --disable-xmlf90 --disable-libpsml \<br>
  CC="gcc" \<br>
  CXX="g++" \<br>
  FC="gfortran"<br>
<br>
make -j 4 install<br>
rc=`echo $?`<br>
<br>
if test "$rc" = "0"; then<br>
  printf "$(tput bold)----------------------------------------------------------------------$(tput sgr0)\n\n"<br>
  echo "The fallbacks are now ready to use."; \<br>
<br>
<br>
How could I solve this problem?<br>
Thanks for advance！！！</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: error while executing make for abinit-9.0.2</h3>
				<div class="date">Posted: <strong>Fri May 15, 2020 5:34 pm</strong></div>
				<div class="author">by <strong>jbeuken</strong></div>
				<div class="content"><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>--with-linalg-incs=" -I/home/ycyer/Opt/abinit-9.0.2/fallbacks/install/gnu/8.3/linalg/abinit_6.10//include" \
--with-linalg-libs="-L/home/ycyer/Opt/abinit-9.0.2/fallbacks/install/gnu/8.3/linalg/abinit_6.10//lib " \
</code></pre></div>

it can obviously never work!<br>
the library "linalg" ( lapack, openblas, atlas, mkl ) must already exist on the system !<br>
<br>
for example, in the abinit ac file, here is the part dedicated to the numerical library :<br>

<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>with_linalg_flavor="netlib"
LINALG_LIBS="-L/usr/lib64 -llapack -lblas"
</code></pre></div>

there are packages under OS ( Centos : yum search lapack, Ubuntu : apt search lapack )</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: error while executing make for abinit-9.0.2</h3>
				<div class="date">Posted: <strong>Wed Oct 21, 2020 9:49 am</strong></div>
				<div class="author">by <strong>sathyasheela</strong></div>
				<div class="content">Dear Sir,<br>
                I encounter the same problem when I give make.<br>
I am using abinit-9.0.4, my build system is x86_64-unknown-linux-gnu, C compiler       : gnu version 9.3<br>
  * Fortran compiler : gfortran, ubuntu 20.04.<br>
<br>
make[5]: *** No rule to make target 'm_optim_dumper.F90', needed by 'm_optim_dumper.o'.  Stop.<br>
make[5]: Leaving directory '/home/rvitm/sathya/abinit-9.0.4/shared/common/src/14_hidewrite'<br>
make[4]: *** [Makefile<img alt=":1172:" class="emoji smilies" draggable="false" src="http://twemoji.maxcdn.com/2/svg/1172.svg"> all-recursive] Error 1<br>
make[4]: Leaving directory '/home/rvitm/sathya/abinit-9.0.4/shared/common/src'<br>
make[3]: *** [Makefile<img alt=":1145:" class="emoji smilies" draggable="false" src="http://twemoji.maxcdn.com/2/svg/1145.svg"> all-recursive] Error 1<br>
make[3]: Leaving directory '/home/rvitm/sathya/abinit-9.0.4/shared/common'<br>
make[2]: *** [Makefile<img alt=":1146:" class="emoji smilies" draggable="false" src="http://twemoji.maxcdn.com/2/svg/1146.svg"> all-recursive] Error 1<br>
make[2]: Leaving directory '/home/rvitm/sathya/abinit-9.0.4/shared'<br>
make[1]: *** [Makefile<img alt=":1449:" class="emoji smilies" draggable="false" src="http://twemoji.maxcdn.com/2/svg/1449.svg"> all-recursive] Error 1<br>
make[1]: Leaving directory '/home/rvitm/sathya/abinit-9.0.4'<br>
make: *** [Makefile<img alt=":1373:" class="emoji smilies" draggable="false" src="http://twemoji.maxcdn.com/2/svg/1373.svg"> all] Error 2<br>
<br>
I gave the command <br>
cat fallbacks/build-abinit-fallbacks.sh  and this is what i get<br>
<br>
<br>
#!/bin/bash<br>
<br>
# Init<br>
fallbacks_prefix="/home/rvitm/sathya/abinit-9.0.4/fallbacks/install_fb/gnu/9.3"<br>
<br>
# Find and Unpack tarball<br>
tarfile=`basename $(ls /home/rvitm/sathya/abinit-9.0.4/fallbacks/*.tar.gz)`<br>
source=${tarfile%.tar.gz}<br>
<br>
mkdir -p $source &amp;&amp; tar -xzf /home/rvitm/sathya/abinit-9.0.4/fallbacks/$tarfile -C $source --strip-components=1<br>
cd $source<br>
<br>
# Configure<br>
./configure \<br>
  --prefix="${fallbacks_prefix}" \<br>
  --with-tardir="${HOME}/.abinit/tarballs" \<br>
  --with-linalg-incs="" \<br>
  --with-linalg-libs="-L/usr/lib64 -llapack -lblas" \<br>
  --with-fc-vendor="gnu" \<br>
  --with-fc-version="9.3" \<br>
  --disable-bigdft \<br>
  --disable-atompaw \<br>
  --disable-wannier90 \<br>
  --disable-xmlf90 --disable-libpsml \<br>
  LIBS_NETCDF4_FORTRAN="-ldl -lm -lz" \<br>
  CC="gcc" \<br>
  CXX="g++" \<br>
  FC="gfortran"<br>
<br>
make -j 4 install<br>
rc=`echo $?`<br>
<br>
if test "$rc" = "0"; then<br>
  printf "$(tput bold)----------------------------------------------------------------------$(tput sgr0)\n\n"<br>
  echo "The fallbacks are now ready to use."; \<br>
  echo "You can link these fallbacks with Abinit by copying the following options to your ac9 file.";<br>
<br>
  list_of_fbks=( libxc hdf5 netcdf4 netcdf4_fortran linalg xmlf90 libpsml wannier90 )<br>
  for i in "${list_of_fbks[@]}"; do<br>
    if test "`${fallbacks_prefix}/bin/abinit-fallbacks-config --enabled ${i}`" = "yes"; then<br>
      Prefix=`${fallbacks_prefix}/bin/abinit-fallbacks-config --libs ${i}`<br>
      printf "\n$(tput bold)"<br>
      echo "with_${i}=${Prefix}" | sed '-e s/-L//;  s/\/lib //; s/netcdf4/netcdf/; s/-l.*$//'<br>
      printf "$(tput sgr0)"<br>
    fi<br>
  done<br>
  printf "\n"<br>
else<br>
  printf "We have detected a problem while generating fallbacks : contact Abinit's team\n"<br>
fi<br>
<br>
exit<br>
<br>
Can you please help me with this error.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: error while executing make for abinit-9.0.2</h3>
				<div class="date">Posted: <strong>Fri Nov 06, 2020 2:52 pm</strong></div>
				<div class="author">by <strong>jbeuken</strong></div>
				<div class="content">Hi,<br>
<br>
missing python cmd...<br>
<br>
see this post :<br>
<br>
<a href="viewtopic8ca4.html?f=3&amp;t=4482#p13271" class="postlink">viewtopic.php?f=3&amp;t=4482#p13271</a><br>
<br>
jmb</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=3&t=4391&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Sep 2024 15:06:18 GMT -->
</html>
