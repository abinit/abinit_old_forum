<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=10&t=545&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Sep 2024 15:58:24 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; symmetry of phonon modes</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>symmetry of phonon modes</h2>
		<p><a href="viewtopicf6cd.html?f=10&amp;t=545">https://forum.abinit.org/viewtopic.php?f=10&amp;t=545</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>symmetry of phonon modes</h3>
				<div class="date">Posted: <strong>Thu Aug 19, 2010 2:54 pm</strong></div>
				<div class="author">by <strong>fdatchi</strong></div>
				<div class="content">Hi all,<br /><br />After reporting the eigendisplacements of phonon modes in the output of anaddb, there is an &quot;Analysis of degeneracies and characters&quot;, where is listed the symmetry characters of each vibration mode in the form of a list of numbers as in the example below:<br /><br />Analysis of degeneracies and characters (maximum tolerance=1.00E-06 a.u.)<br /> Symmetry characters of vibration mode #   1<br />       degenerate with vibration modes #   2 to    3<br />  3.0 -1.0 -1.0 -1.0  1.0 -1.0  1.0 -1.0  0.0 -0.0 -0.0 -0.0  1.0 -1.0 -1.0  1.0<br />  0.0 -0.0  0.0  0.0  1.0  1.0 -1.0 -1.0<br /><br />I couldn't find any information about what this list of numbers correspond to. I imagine these are the characters of the symmetry operations of the symmetry point group but how to know which symmetry operation ? Furthermore, is the program able to determine the irreducible representations corresponding to the phonon modes ?<br /><br />Thanks,<br />Frederic</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: symmetry of phonon modes</h3>
				<div class="date">Posted: <strong>Fri Aug 20, 2010 10:25 am</strong></div>
				<div class="author">by <strong>ilukacevic</strong></div>
				<div class="content">Hi!<br /><br />There was a lecture on this by G.-M. Rignanese in Lausanne this May. I have the pdf, but I cannot attach it. Maybe you could download it from cecam website if you have an account (if not, create one if it's possible). If you do, go to files section of the &quot;Linear and non-linear responses of solids with the ABINIT software : phonons, electric fields, and other perturbations&quot;, April 26, 2010 to April 30, 2010, Location : CECAM-HQ-EPFL, Lausanne, Switzerland Tutorial and you'll find it there.<br />I hope this will help.<br /><br />Cheers!<br /><br />Igor</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: symmetry of phonon modes</h3>
				<div class="date">Posted: <strong>Fri Aug 20, 2010 12:05 pm</strong></div>
				<div class="author">by <strong>fdatchi</strong></div>
				<div class="content">Thanks Igor, I could get the file.<br />I understand from this tutorial that the list of character numbers are given in the same order as the list of symmetry operations given in the log file.<br />I wonder why the symmetry operations are only given in the log file, in my opinion this is important enough  information to figure in the out file...<br />Just a suggestion !<br /><br />Frederic</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: symmetry of phonon modes</h3>
				<div class="date">Posted: <strong>Mon Sep 15, 2014 1:52 pm</strong></div>
				<div class="author">by <strong>roginovicci</strong></div>
				<div class="content"><blockquote class="uncited"><div>I understand from this tutorial that the list of character numbers are given in the same order as the list of symmetry operations given in the log file.<br />I wonder why the symmetry operations are only given in the log file, in my opinion this is important enough information to figure in the out file...</div></blockquote><br /><br />The symmetry operations not even printed in log since abinit 7.6 version (and maybe earlier). While list of symmetry operations are generated in 6.8 version. Is there some additional variable I should put in input file or is there other way how to find which symmetry operation is devoted to selected symmetry character from whole Symmetry character list.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: symmetry of phonon modes</h3>
				<div class="date">Posted: <strong>Wed Jan 28, 2015 2:19 pm</strong></div>
				<div class="author">by <strong>sheng</strong></div>
				<div class="content"><blockquote class="uncited"><div>The symmetry operations not even printed in log since abinit 7.6 version</div></blockquote><br /><br />Sorry to bump this old thread, but the similar situation still persists in version 7.10.2. Has anyone know how to distinguish the symmetry characters in anaddb output with those in bilbao yet?<br />It is possible to guess some some obvious modes but it is not practical in general.<br /><br />I also noticed that the symmetry character output is intended for the phonon computed without considering non-analyticity only.<br />This had been voiced out by Yaraslav in this forum before (see this thread <a href="viewtopicafee.html?f=10&amp;t=2739" class="postlink">http://forum.abinit.org/viewtopic.php?f=10&amp;t=2739</a> ).<br /><br />Can someone please clarify?</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: symmetry of phonon modes</h3>
				<div class="date">Posted: <strong>Tue May 05, 2015 3:37 pm</strong></div>
				<div class="author">by <strong>mverstra</strong></div>
				<div class="content">Hello,<br /><br />the symmetry operations are in the same order as in the main abinit output, and in the DDB file. I agree it is easier to have them on hand, and will add their printing to the anaddb log file for abinit v8 (to be released in a few months or so).<br /><br />There are a number of tools that analyze the irreps (e.g. in the WURM database), but it is easy to do with the bilbao web apps. The irreps are usually associated with a mode at Gamma, irrespective of the direction you choose to look at the LO TO splitting in.<br /><br />Best</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: symmetry of phonon modes</h3>
				<div class="date">Posted: <strong>Wed Jun 03, 2015 2:21 pm</strong></div>
				<div class="author">by <strong>sheng</strong></div>
				<div class="content">Thanks for the information, now I can assign the operation according the symrel variable.<br /><br /><blockquote class="uncited"><div>The irreps are usually associated with a mode at Gamma, irrespective of the direction you choose to look at the LO TO splitting in.</div></blockquote><br /><br />I notice there is a mismatch of order of irreps mode when LO TO splitting is accounted for. This is due to the phonon frequencies are printed in ascending order of magnitude instead of the irrep modes.<br /><br />For clarity I provide some examples below.<br />Without LO TO splitting:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>&nbsp; Phonon wavevector (reduced coordinates) :&nbsp; 0.00000&nbsp; 0.00000&nbsp; 0.00000<br />&nbsp;Phonon energies in Hartree :<br />&nbsp; -1.116640E-03 -1.116640E-03 -1.116640E-03&nbsp; 0.000000E+00&nbsp; 0.000000E+00<br />&nbsp; &nbsp;0.000000E+00&nbsp; 7.561680E-04&nbsp; 7.561680E-04&nbsp; 7.561680E-04&nbsp; 1.268015E-03<br />&nbsp; &nbsp;1.268015E-03&nbsp; 1.268015E-03&nbsp; 2.050070E-03&nbsp; 2.050070E-03&nbsp; 2.050070E-03<br />&nbsp;Phonon frequencies in cm-1&nbsp; &nbsp; :<br />- -2.450741E+02 -2.450741E+02 -2.450741E+02&nbsp; 0.000000E+00&nbsp; 0.000000E+00<br />-&nbsp; 0.000000E+00&nbsp; 1.659597E+02&nbsp; 1.659597E+02&nbsp; 1.659597E+02&nbsp; 2.782972E+02<br />-&nbsp; 2.782972E+02&nbsp; 2.782972E+02&nbsp; 4.499383E+02&nbsp; 4.499383E+02&nbsp; 4.499383E+02<br /></code></pre></div><br />and the irreps is as follow:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>&nbsp;Analysis of degeneracies and characters (maximum tolerance=1.00E-06 a.u.)<br />&nbsp;Symmetry characters of vibration mode #&nbsp; &nbsp;1<br />&nbsp; &nbsp; &nbsp; &nbsp;degenerate with vibration modes #&nbsp; &nbsp;2 to&nbsp; &nbsp; 3<br />&nbsp; 3.0 -3.0 -1.0&nbsp; 1.0 -1.0&nbsp; 1.0 -1.0&nbsp; 1.0&nbsp; 1.0 -1.0 -1.0&nbsp; 1.0&nbsp; 1.0 -1.0 -1.0&nbsp; 1.0<br />&nbsp;-0.0&nbsp; 0.0 -0.0&nbsp; 0.0&nbsp; 0.0 -0.0&nbsp; 0.0 -0.0&nbsp; 1.0 -1.0 -1.0&nbsp; 1.0 -1.0&nbsp; 1.0&nbsp; 1.0 -1.0<br />&nbsp;-0.0&nbsp; 0.0&nbsp; 0.0 -0.0&nbsp; 0.0 -0.0 -0.0&nbsp; 0.0&nbsp; 1.0 -1.0&nbsp; 1.0 -1.0 -1.0&nbsp; 1.0 -1.0&nbsp; 1.0<br />&nbsp;Symmetry characters of vibration mode #&nbsp; &nbsp;4<br />&nbsp; &nbsp; &nbsp; &nbsp;degenerate with vibration modes #&nbsp; &nbsp;5 to&nbsp; &nbsp; 6<br />&nbsp; 3.0 -3.0 -1.0&nbsp; 1.0 -1.0&nbsp; 1.0 -1.0&nbsp; 1.0&nbsp; 1.0 -1.0 -1.0&nbsp; 1.0&nbsp; 1.0 -1.0 -1.0&nbsp; 1.0<br />&nbsp;-0.0&nbsp; 0.0 -0.0&nbsp; 0.0&nbsp; 0.0 -0.0&nbsp; 0.0 -0.0&nbsp; 1.0 -1.0 -1.0&nbsp; 1.0 -1.0&nbsp; 1.0&nbsp; 1.0 -1.0<br />&nbsp;-0.0&nbsp; 0.0&nbsp; 0.0 -0.0&nbsp; 0.0 -0.0 -0.0&nbsp; 0.0&nbsp; 1.0 -1.0&nbsp; 1.0 -1.0 -1.0&nbsp; 1.0 -1.0&nbsp; 1.0<br />&nbsp;Symmetry characters of vibration mode #&nbsp; &nbsp;7<br />&nbsp; &nbsp; &nbsp; &nbsp;degenerate with vibration modes #&nbsp; &nbsp;8 to&nbsp; &nbsp; 9<br />&nbsp; 3.0 -3.0 -1.0&nbsp; 1.0 -1.0&nbsp; 1.0 -1.0&nbsp; 1.0&nbsp; 1.0 -1.0 -1.0&nbsp; 1.0&nbsp; 1.0 -1.0 -1.0&nbsp; 1.0<br />&nbsp; 0.0 -0.0&nbsp; 0.0 -0.0 -0.0&nbsp; 0.0 -0.0&nbsp; 0.0&nbsp; 1.0 -1.0 -1.0&nbsp; 1.0 -1.0&nbsp; 1.0&nbsp; 1.0 -1.0<br />&nbsp; 0.0 -0.0 -0.0&nbsp; 0.0 -0.0&nbsp; 0.0&nbsp; 0.0 -0.0&nbsp; 1.0 -1.0&nbsp; 1.0 -1.0 -1.0&nbsp; 1.0 -1.0&nbsp; 1.0<br />&nbsp;Symmetry characters of vibration mode #&nbsp; 10<br />&nbsp; &nbsp; &nbsp; &nbsp;degenerate with vibration modes #&nbsp; 11 to&nbsp; &nbsp;12<br />&nbsp; 3.0 -3.0 -1.0&nbsp; 1.0 -1.0&nbsp; 1.0 -1.0&nbsp; 1.0 -1.0&nbsp; 1.0&nbsp; 1.0 -1.0 -1.0&nbsp; 1.0&nbsp; 1.0 -1.0<br />&nbsp;-0.0&nbsp; 0.0 -0.0&nbsp; 0.0&nbsp; 0.0 -0.0&nbsp; 0.0 -0.0 -1.0&nbsp; 1.0&nbsp; 1.0 -1.0&nbsp; 1.0 -1.0 -1.0&nbsp; 1.0<br />&nbsp;-0.0&nbsp; 0.0&nbsp; 0.0 -0.0&nbsp; 0.0 -0.0 -0.0&nbsp; 0.0 -1.0&nbsp; 1.0 -1.0&nbsp; 1.0&nbsp; 1.0 -1.0&nbsp; 1.0 -1.0<br />&nbsp;Symmetry characters of vibration mode #&nbsp; 13<br />&nbsp; &nbsp; &nbsp; &nbsp;degenerate with vibration modes #&nbsp; 14 to&nbsp; &nbsp;15<br />&nbsp; 3.0 -3.0 -1.0&nbsp; 1.0 -1.0&nbsp; 1.0 -1.0&nbsp; 1.0&nbsp; 1.0 -1.0 -1.0&nbsp; 1.0&nbsp; 1.0 -1.0 -1.0&nbsp; 1.0<br />&nbsp; 0.0 -0.0&nbsp; 0.0 -0.0 -0.0&nbsp; 0.0 -0.0&nbsp; 0.0&nbsp; 1.0 -1.0 -1.0&nbsp; 1.0 -1.0&nbsp; 1.0&nbsp; 1.0 -1.0<br />&nbsp; 0.0 -0.0 -0.0&nbsp; 0.0 -0.0&nbsp; 0.0&nbsp; 0.0 -0.0&nbsp; 1.0 -1.0&nbsp; 1.0 -1.0 -1.0&nbsp; 1.0 -1.0&nbsp; 1.0<br /></code></pre></div><br /><br />In this case it can be seen clearly that vibrational modes 4-6 are acoustic modes.<br /><br />However by considering non-analyticity, the phonon frequencies become:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>&nbsp; Phonon at Gamma, with non-analyticity in the<br />&nbsp; direction (cartesian coordinates)&nbsp; 1.00000&nbsp; 0.00000&nbsp; 0.00000<br />&nbsp;Phonon energies in Hartree :<br />&nbsp; -1.116640E-03 -1.116640E-03&nbsp; 0.000000E+00&nbsp; 0.000000E+00&nbsp; 0.000000E+00<br />&nbsp; &nbsp;7.154374E-04&nbsp; 7.561680E-04&nbsp; 7.561680E-04&nbsp; 1.268015E-03&nbsp; 1.268015E-03<br />&nbsp; &nbsp;1.268015E-03&nbsp; 2.008212E-03&nbsp; 2.050070E-03&nbsp; 2.050070E-03&nbsp; 2.866569E-03<br />&nbsp;Phonon frequencies in cm-1&nbsp; &nbsp; :<br />- -2.450741E+02 -2.450741E+02&nbsp; 0.000000E+00&nbsp; 0.000000E+00&nbsp; 0.000000E+00<br />-&nbsp; 1.570204E+02&nbsp; 1.659597E+02&nbsp; 1.659597E+02&nbsp; 2.782972E+02&nbsp; 2.782972E+02<br />-&nbsp; 2.782972E+02&nbsp; 4.407516E+02&nbsp; 4.499383E+02&nbsp; 4.499383E+02&nbsp; 6.291393E+02<br /></code></pre></div><br />The acoustic modes in this case become vibrational modes 3-5.<br /><br />The phonon frequencies and the eigendisplacements are not ordered according to the irreps , making the assignment of symmetry modes difficult.<br /><br /><br />Another issue is that the anaddb utility is unable to correctly assign the symmetry of acoustic modes if acoustic sum rule is imposed.<br />For example in my calculation the acoustic modes are supposed to be a doubly degenerate state E and a single state A1, with minute differences in frequencies without acoustic sum rule but the code is able to give the correct symmetry modes.<br />But when acoustic sum rule is imposed so that the 3 acoustic modes are strictly zero, the code reports that the acoustic modes are triply degenerate.<br /><br />I will be grateful for any clarification.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: symmetry of phonon modes</h3>
				<div class="date">Posted: <strong>Fri Jan 10, 2020 2:44 am</strong></div>
				<div class="author">by <strong>jerkov</strong></div>
				<div class="content">How are you using symrel to get the irrep of your modes?<br>
<br>
I have this output after running anaddb:<br>
Analysis of degeneracies and characters (maximum tolerance=1.00E-06 a.u.)<br>
 Symmetry characters of vibration mode #   1<br>
       degenerate with vibration modes #   2 to    3<br>
  3.0  1.0<br>
 Symmetry characters of vibration mode #   4<br>
  1.0 -1.0<br>
 Symmetry characters of vibration mode #   5<br>
  1.0  1.0<br>
and so on....<br>
<br>
Others in this thread have mentioned using the order of the symmetry relations are listed in a particular order in the output file, but I can't find them. <br>
<br>
So my question is how to go from the numbers printed below each mode (3.0 1.0 for example) to a irrep character like A2 or B1. <br>
<br>
Cheers</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: symmetry of phonon modes</h3>
				<div class="date">Posted: <strong>Thu Jan 16, 2020 10:12 pm</strong></div>
				<div class="author">by <strong>ebousquet</strong></div>
				<div class="content">Dear jerkov,<br>
The matrix of each symmetry operations can be found in the output file after the flag symrel, which is given in the order used to print the character of phonon modes.<br>
To link these calculated characters and the crystallographic ones can be made by comparing the characters given by anaddb for each symmetry (+1, -1, etc) to the ones tabulated in crystallo tables (for example in Bilbao web site: <a href="https://www.cryst.ehu.es/rep/point.html" class="postlink">https://www.cryst.ehu.es/rep/point.html</a>). However, to do so, you have to order the symmetry list given by Abinit with the ones of the crystallo tables (if you have a mx, my and mz in crystallo tables, you have to be sure you follow the order when comparing with anaddb output, I mean you have to compare mx in tables with mx from Abinit).<br>
A more indirect technique could be through mode condensation (using freeze_displ flag <a href="https://docs.abinit.org/variables/anaddb/#alphon" class="postlink">https://docs.abinit.org/variables/anaddb/#alphon</a>) and symmetry adapted mode analysis from Bilbao (AMPLIMODE module) or ISOTROPY (ISODISTORT module), but this takes some extra steps that I can detail if interested.<br>
Best wishes,<br>
Eric</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: symmetry of phonon modes</h3>
				<div class="date">Posted: <strong>Thu Feb 27, 2020 3:34 pm</strong></div>
				<div class="author">by <strong>jerkov</strong></div>
				<div class="content">Thanks, Eric - that helps a lot!</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: symmetry of phonon modes</h3>
				<div class="date">Posted: <strong>Mon Mar 23, 2020 10:52 pm</strong></div>
				<div class="author">by <strong>jerkov</strong></div>
				<div class="content">Hi Eric, <br>
<br>
So I finally got around to trying to match the irred. reps. based on the advice you gave. <br>
<br>
For example, for my R3m crystal (so C_3v point group), I get this symrel output when I run the main Abinit to get the phonons:
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>  symrel      1  0  0           0  1  0         0  0  1       0  1  0        1  0  0          0  0  1
              0  0  1           1  0  0         0  1  0       1  0  0        0  0  1          0  1  0
              0  1  0           0  0  1         1  0  0       0  0  1        0  1  0          1  0  0</code></pre></div>
  <br>
And when I run anaddb to analyze the phonon modes, I get <br>

<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>Analysis of degeneracies and characters (maximum tolerance=2.00E-05 a.u.)
 Symmetry characters of vibration mode #   1
       degenerate with vibration modes #   2 to    3
  3.0  1.0 -0.0  1.0 -0.0  1.0
 Symmetry characters of vibration mode #   4
  1.0  0.5 -0.5 -1.0 -0.5  0.5
 Symmetry characters of vibration mode #   5
  1.0 -0.5 -0.5  1.0 -0.5 -0.5
 Symmetry characters of vibration mode #   6
  1.0  1.0  1.0  1.0  1.0  1.0
 Symmetry characters of vibration mode #   7
  1.0  0.5 -0.5 -1.0 -0.5  0.5
 Symmetry characters of vibration mode #   8
  1.0 -0.5 -0.5  1.0 -0.5 -0.5
 Symmetry characters of vibration mode #   9
  1.0  1.0  1.0  1.0  1.0  1.0
 Symmetry characters of vibration mode #  10
  1.0 -1.0  1.0 -1.0  1.0 -1.0
 Symmetry characters of vibration mode #  11
  1.0 -0.3 -0.5  1.0 -0.5 -0.7
 Symmetry characters of vibration mode #  12
  1.0  0.3 -0.5 -1.0 -0.5  0.7
 Symmetry characters of vibration mode #  13
  1.0  0.2 -0.5 -0.9 -0.5  0.8
 Symmetry characters of vibration mode #  14
  1.0 -0.2 -0.5  0.9 -0.5 -0.8
 Symmetry characters of vibration mode #  15
  1.0  1.0  1.0  1.0  1.0  1.0</code></pre></div>

And I'm using the Bilbao table for this: <a href="https://www.cryst.ehu.es/cgi-bin/rep/programs/sam/point.py?sg=156&amp;num=19" class="postlink">https://www.cryst.ehu.es/cgi-bin/rep/pr ... 156&amp;num=19</a><br>
<br>
A few things: where is the identity matrix in the symrel's? There should be six elements in the the symmetry group, which there are, but none are identity. I expect there to E, 2 C_3's (120 degree rotations), and 3 sigma_v's (vertical planes).  So am I to figure out which matrices correspond to the symmetry elements? Like which ones are rotations/reflections? Because none of them look like 120 degree rotations, either. <br>
<br>
And then, why are some of the characters fractions? The values in character tables shouldn't be fractions, correct?<br>
<br>
Cheers</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: symmetry of phonon modes</h3>
				<div class="date">Posted: <strong>Mon Mar 30, 2020 9:17 am</strong></div>
				<div class="author">by <strong>ebousquet</strong></div>
				<div class="content">Hi Jerkov,<br>
For the symmetry matrices, they should be read line by line, this means that the identity is the first one coming in your case:<br>
symrel      1  0  0           0  1  0         0  0  1        0  1  0        1  0  0          0  0  1<br>
The 1st one is then <br>
1 0 0 <br>
0 1 0<br>
0 0 1<br>
The second one is:<br>
0 1 0<br>
1 0 0<br>
0 0 1<br>
and so on for the next ones.<br>
<br>
I have to check for the fractional values in the printed characters, they probably come from a conversion of Cartesian vs Rhombohedral axes (or hexagonal) and so with the rprim tensor of Abinit.<br>
<br>
Best wishes,<br>
Eric</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: symmetry of phonon modes</h3>
				<div class="date">Posted: <strong>Mon Mar 30, 2020 4:25 pm</strong></div>
				<div class="author">by <strong>gonze</strong></div>
				<div class="content">Hi Jerkov,<br>
<br>
Good news : with ABINITv9.0.2, just announced today, the type of symmetry operations is given in the ANADDB log file<br>
(not in the main output). See an example of this at the end of this reply. This will help you a lot !<br>
<br>
Concerning the fractional values of characters, you are perfectly right that only integer number should appear. <br>
I hypothesize that the modes that show fractional numbers are actually degenerate. The characters of degenerate pairs should be summed. However, ABINIT considers modes to be degenerate when their energy difference is less than<br>
2.00E-05 a.u. in your case, as shown by the following line : <br>
<br>
Analysis of degeneracies and characters (maximum tolerance=2.00E-05 a.u.)<br>
<br>
So, why are the energy difference larger than the tolerance ? I am not sure, perhaps the starting atomic positions are not accurate enough, and a large tolsym was used to find the symmetries ? <br>
Anyhow, simply examine these modes, see whether you consider that they are degenerate, and sum their characters, then use the standard character tables to identify their irrep.<br>
<br>
Best wishes,<br>
X.<br>
<br>
======================================================<br>
<br>
symlatt: the Bravais lattice is hP (primitive hexagonal)<br>
<br>
 symlatt: the Bravais lattice is hP (primitive hexagonal)<br>
 symspgr: spgroup= 154  P3_2 2 1   (=D3^6)<br>
 symspgr: optical characteristics = uniaxial<br>
 Optical axis (in reduced coordinates, real space ) :   0   0   1<br>
 symanal : the symmetry operation no.   1 is the identity<br>
 symanal : the symmetry operation no.   2 is a 3_1 or 3_2-axis<br>
 symanal : the symmetry operation no.   3 is a 3_1 or 3_2-axis<br>
 symanal : the symmetry operation no.   4 is a secondary 2-axis<br>
 symanal : the symmetry operation no.   5 is a secondary 2-axis<br>
 symanal : the symmetry operation no.   6 is a secondary 2-axis<br>
<br>
 Analysis of degeneracies and characters (maximum tolerance=1.00E-06 a.u.)<br>
 For each vibration mode, or group of modes if degenerate,<br>
 the characters are given for each symmetry operation (see the list in the log file).<br>
 Symmetry characters of vibration mode #   1<br>
       degenerate with vibration modes #   2 to    3<br>
  3.0 -0.0 -0.0 -1.0 -1.0 -1.0<br>
 Symmetry characters of vibration mode #   4</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: symmetry of phonon modes</h3>
				<div class="date">Posted: <strong>Mon Mar 30, 2020 6:58 pm</strong></div>
				<div class="author">by <strong>jerkov</strong></div>
				<div class="content">Wow, I'm honored that X. Gonze would respond himself, and excited the new version of Abinit includes that update! Both your and Eric's responses clarify how to interpret the modes, and I successfully did for this example (reproducing the expected irreducible representation for 3m). In the source code, it does say: <br>
!When all the characters are integers, consider that the<br>
!mode is non-degenerate. The maximum difference in frequency<br>
!that is tolerated is on the order of 4cm-1 (which is large...)<br>
<br>
The modes with fractional values are indeed degenerate as I expect them to be (same frequencies, but different eigendisplacements), but now I now I know to sum them. Thank you both for your help, I really appreciate it! <br>
<br>
Best, <br>
J</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: symmetry of phonon modes</h3>
				<div class="date">Posted: <strong>Sat Sep 26, 2020 12:26 am</strong></div>
				<div class="author">by <strong>jackbaker</strong></div>
				<div class="content">Hi all,<br>
<br>
My work flow for dealing with phonon symmetries is below. I hope it can help some people.<br>
<br>
1) Perform your Abinit DFPT phonon calculation and calculate the band structure with anaddb, using a version with NetCDF.<br>
<br>
2) Load the *PHBST.nc and anaddb.nc  into Abipy (all the Abipy functionality you will need is here <a href="https://abinit.github.io/abipy/api/dfpt_api.html" class="postlink">https://abinit.github.io/abipy/api/dfpt_api.html</a>)<br>
<br>
3) Write the eigendisplacement of the mode in question to a cif file using Abipy. (the from_phbands class method is useful, see link above.)<br>
<br>
4) Use Harold Stokes' code, ISODISTORT (<a href="https://stokes.byu.edu/iso/isodistort.php" class="postlink">https://stokes.byu.edu/iso/isodistort.php</a>), loading in your structure that you did the DFPT calculation as the 'parent', then, select mode decompositional analysis and upload the cif file from step (3).<br>
<br>
5) Follow the on screen instructions. You will then be presented with the mode irrep and other important symmetry information.<br>
<br>
I know this is rather involved, but, it works very well. I hope this helps somebody.<br>
<br>
Best,<br>
<br>
Jack</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: symmetry of phonon modes</h3>
				<div class="date">Posted: <strong>Thu Oct 01, 2020 5:18 am</strong></div>
				<div class="author">by <strong>gmatteo</strong></div>
				<div class="content">Dear Jack,<br>

<blockquote class="uncited"><div>
My work flow for dealing with phonon symmetries is below. I hope it can help some people.
</div></blockquote>

Many thanks for sharing your expertise with ISODISTORT.<br>

<blockquote class="uncited"><div>
1) Perform your Abinit DFPT phonon calculation and calculate the band structure with anaddb, using a version with NetCDF.<br>
<br>
2) Load the *PHBST.nc and anaddb.nc into Abipy (all the Abipy functionality you will need is here <a href="https://abinit.github.io/abipy/api/dfpt_api.html" class="postlink">https://abinit.github.io/abipy/api/dfpt_api.html</a>)<br>
<br>
3) Write the eigendisplacement of the mode in question to a cif file using Abipy. (the from_phbands class method is useful, see link above.)
</div></blockquote>

I think we can automate a bit this process with AbiPy. I already have a prototype that takes a PhononBands object, a (commensurate) q-point and writes all the CIF files for the parent structure and the distorted structures for all the modes so that the user can easily upload the files to the ISODISTORT website.<br>
I can also interface this piece of code with the  abiview.py script so that one can simply use<br>

<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>abiview.py ddb_isodistort_ph out_DDB [--qpt 0,0.0]
</code></pre></div>

to compute the phonon displacements with anaddb, build the supercell with the displaced atoms <br>
and finally generate a directory with the CIF files:<br>

<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>$ ls Zn2_Se2_qpt+0.000,_+0.000,_+0.000_Gamma/
README.md                       distorted_structure_mode_2.cif  distorted_structure_mode_7.cif
distorted_structure_mode_1.cif  distorted_structure_mode_3.cif  distorted_structure_mode_8.cif
distorted_structure_mode_10.cif distorted_structure_mode_4.cif  distorted_structure_mode_9.cif
distorted_structure_mode_11.cif distorted_structure_mode_5.cif  parent_structure.cif
distorted_structure_mode_12.cif distorted_structure_mode_6.cif
</code></pre></div>

I didn't have time to test the implementation but, in principle, most of the work is already done.<br>
<br>
There are however some questions I would like to ask you as this is the first time I use ISODISTORT.<br>
<br>
1) Do we need cif files with the correct space group and symmetries? (by default, the pymatgen CIF writer sets the spacegroup to P1. Besides pymatgen calls spglib to convert the input cell to conventional) <br>
2) Are the results sensitive to the number of significant figures for the atomic positions and to the maximum displacement used when building the distorted structure? I've seen that sometimes ISODISTORT reports multiple possible irreps for a given displacement, perhaps due to numerical noise in the CIF files.<br>
<br>
Thanks,<br>
Matteo</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: symmetry of phonon modes</h3>
				<div class="date">Posted: <strong>Thu Oct 29, 2020 5:54 pm</strong></div>
				<div class="author">by <strong>jerkov</strong></div>
				<div class="content">Hi Eric, <br>
<br>
I don't mean to be pedantic, but looking closer at the symmetry relations and then the symmetry characters my run produced, I think the order the matrices are read is different from what you wrote. <br>
<br>
If symrel prints: 
  <div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>  symrel      1  0  0           0  1  0         0  0  1       0  1  0        1  0  0          0  0  1
                   0  0  1           1  0  0         0  1  0       1  0  0        0  0  1          0  1  0
                   0  1  0           0  0  1         1  0  0       0  0  1        0  1  0          1  0  0
</code></pre></div>

I believe the first one is the identity matrix, then it's the row below [001;100;010], then [010;001;100], then [010;100;001] and so on. <br>
<br>
Can you confirm?<br>
<br>
Cheers, <br>
J<br>

<blockquote><div><cite><a href="memberlist58ee.html?mode=viewprofile&amp;u=682">ebousquet</a> wrote: <a href="viewtopiceae0.html?p=12922#p12922" data-post-id="12922" onclick="if(document.getElementById(hash.substr(1)))href=hash">↑</a><div class="responsive-hide">Mon Mar 30, 2020 9:17 am</div></cite>
Hi Jerkov,<br>
For the symmetry matrices, they should be read line by line, this means that the identity is the first one coming in your case:<br>
symrel      1  0  0           0  1  0         0  0  1        0  1  0        1  0  0          0  0  1<br>
The 1st one is then <br>
1 0 0 <br>
0 1 0<br>
0 0 1<br>
The second one is:<br>
0 1 0<br>
1 0 0<br>
0 0 1<br>
and so on for the next ones.<br>
<br>
I have to check for the fractional values in the printed characters, they probably come from a conversion of Cartesian vs Rhombohedral axes (or hexagonal) and so with the rprim tensor of Abinit.<br>
<br>
Best wishes,<br>
Eric
</div></blockquote></div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: symmetry of phonon modes</h3>
				<div class="date">Posted: <strong>Mon Nov 02, 2020 9:18 am</strong></div>
				<div class="author">by <strong>ebousquet</strong></div>
				<div class="content"><blockquote><div><cite><a href="memberlistab16.html?mode=viewprofile&amp;u=2612">jerkov</a> wrote: <a href="viewtopice6e7.html?p=14131#p14131" data-post-id="14131" onclick="if(document.getElementById(hash.substr(1)))href=hash">↑</a><div class="responsive-hide">Thu Oct 29, 2020 5:54 pm</div></cite>
Hi Eric, <br>
<br>
I don't mean to be pedantic, but looking closer at the symmetry relations and then the symmetry characters my run produced, I think the order the matrices are read is different from what you wrote. <br>
<br>
If symrel prints: 
  <div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>  symrel      1  0  0           0  1  0         0  0  1       0  1  0        1  0  0          0  0  1
                   0  0  1           1  0  0         0  1  0       1  0  0        0  0  1          0  1  0
                   0  1  0           0  0  1         1  0  0       0  0  1        0  1  0          1  0  0
</code></pre></div>

I believe the first one is the identity matrix, then it's the row below [001;100;010], then [010;001;100], then [010;100;001] and so on. 
</div></blockquote>

I would rather say (if I just copy and paste from the symrel): <br>
1) 1  0  0           0  1  0         0  0  1 --&gt;[100;010;001] (identity),<br>
2) 0  1  0        1  0  0          0  0  1 --&gt; [010;100;001],<br>
3) 0  0  1           1  0  0         0  1  0  --&gt; [001;100;010],<br>
etc.<br>
<br>
Eric</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=10&t=545&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Sep 2024 15:58:24 GMT -->
</html>
