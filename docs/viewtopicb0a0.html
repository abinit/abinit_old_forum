<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=1786&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 02:50:55 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>ABINIT Discussion Forums &bull; Calculation of ground state with GPU</title>

<link href="styles/flat-style/theme/print.css" rel="stylesheet">
<link href="styles/flat-style/theme/bidi.css" rel="stylesheet">
</head>
<body id="phpbb" class="ltr">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>ABINIT Discussion Forums</h1>
		<p>The meeting place for ABINIT users and developers<br /><a href="index.html">https://forum.abinit.org/</a></p>

		<h2>Calculation of ground state with GPU</h2>
		<p><a href="viewtopic4821.html?f=9&amp;t=1786">https://forum.abinit.org/viewtopic.php?f=9&amp;t=1786</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>Calculation of ground state with GPU</h3>
				<div class="date">Posted: <strong>Thu Aug 02, 2012 9:11 pm</strong></div>
				<div class="author">by <strong>OlivierM</strong></div>
				<div class="content">Hello everyone,<br /><br />I have been using GPU to calculate the ground state and it's been working fine until I seemed to hit some kind of barrier past a certain value of ecut. I have been trying 2 different configurations of atoms and for both when ecut gets larger, past some point I get the CUFFT_EXEC_FAILED error for the backward fourrier transform. For both configurations the only thing I have noticed to be alike was the value of mpw in which at 65795 the run failed, and at 65267 (which correspond to .1 ecut under the value where it failed) the run succeeded. <br /><br />So far I have tried to force a bigger fft grid, free the memory of the gpu and reallocate everything before the fft, send the fft calculation to another gpu (I am working on a cluster with 8 cards on it), set every points of the fft grid with zeroes, commented every line of the source code except for the backward fourrier transform, and used another cluster with cards with 3-4 times more RAM than the ones I'm usually working on, but I still get the same error at the exact spot for the same values of ecut.<br /><br />I have activated double-precision (I get the same error with single precision), the GPUs are GeForce GTX 580 with 1.5 gigs of ram and the cuda version used is 4.0.17.<br /><br />Anyone got this problem before and were able to fix it?<br /><br />Thank you.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Calculation of ground state with GPU</h3>
				<div class="date">Posted: <strong>Wed Nov 21, 2012 8:16 am</strong></div>
				<div class="author">by <strong>VasiaS</strong></div>
				<div class="content">I have the analogical problem with backward fourier transform, but using large acell (~15; even for one molecule H2).<br />I can program on CUDA C++ but compile my progs only under windows platform (I'm not a Linuxoid <img class="smilies" src="images/smilies/icon_e_smile.gif" alt=":)" title="Smile" />). I could try to solve the problem with FTT on CUDA (in CuFTT lib). I need the code that uses FTT and doesn't work. So can you send me the code that you didn't comment?</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Calculation of ground state with GPU</h3>
				<div class="date">Posted: <strong>Wed Nov 21, 2012 6:46 pm</strong></div>
				<div class="author">by <strong>torrent</strong></div>
				<div class="content">Hi OlivierM,<br /><br />First of all, could you give the version number of ABINIT you are using ?...<br /><br />Several errors occuring in cuFFT have been already corrected (they are not related to FFT but to array overflow before...)<br />I'm afraid you have to wait for Abinit v7.0 (to be released at the end of this week, in theory).<br /><br />Marc</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Calculation of ground state with GPU</h3>
				<div class="date">Posted: <strong>Sun Nov 25, 2012 5:51 pm</strong></div>
				<div class="author">by <strong>VasiaS</strong></div>
				<div class="content">now I use abinit 7.0 . When I do the calculation of platinum, I get the following warning:<br /><br /> ITER STEP NUMBER     1<br /> scfcv : 1 <br /> vtorho : nnsclo_now=  2, note that nnsclo,dbl_nnsclo,istep=  0 0  1<br /><br /> cgwf.F90:588:WARNING<br />   New trial energy at line        3 =  -6.142106E-01<br />     is higher than former = -6.214122E-01<br /><br /><br /> cgwf.F90:588:WARNING<br />   New trial energy at line        4 =  -6.028546E-01<br />     is higher than former = -6.142106E-01<br /><br />Other problems are not found yet</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="Europe/Brussels">UTC+02:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
			<div class="copyright">
				<p>Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
				</p>
							</div>
	</div>
</div>

</body>

<!-- Mirrored from forum.abinit.org/viewtopic.php?f=9&t=1786&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 21 Sep 2024 02:50:55 GMT -->
</html>
